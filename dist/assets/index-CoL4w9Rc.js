(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function o(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(r){if(r.ep)return;r.ep=!0;const c=o(r);fetch(r.href,c)}})();function Zg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ju={exports:{}},ws={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function Fx(){if($p)return ws;$p=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(s,r,c){var f=null;if(c!==void 0&&(f=""+c),r.key!==void 0&&(f=""+r.key),"key"in r){c={};for(var y in r)y!=="key"&&(c[y]=r[y])}else c=r;return r=c.ref,{$$typeof:n,type:s,key:f,ref:r!==void 0?r:null,props:c}}return ws.Fragment=e,ws.jsx=o,ws.jsxs=o,ws}var Kp;function Yx(){return Kp||(Kp=1,Ju.exports=Fx()),Ju.exports}var p=Yx(),$u={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function jx(){if(Xp)return Se;Xp=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),_=Symbol.iterator;function E(R){return R===null||typeof R!="object"?null:(R=_&&R[_]||R["@@iterator"],typeof R=="function"?R:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,A={};function V(R,Y,ee){this.props=R,this.context=Y,this.refs=A,this.updater=ee||C}V.prototype.isReactComponent={},V.prototype.setState=function(R,Y){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,Y,"setState")},V.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function F(){}F.prototype=V.prototype;function G(R,Y,ee){this.props=R,this.context=Y,this.refs=A,this.updater=ee||C}var K=G.prototype=new F;K.constructor=G,k(K,V.prototype),K.isPureReactComponent=!0;var X=Array.isArray;function ne(){}var $={H:null,A:null,T:null,S:null},he=Object.prototype.hasOwnProperty;function Z(R,Y,ee){var se=ee.ref;return{$$typeof:n,type:R,key:Y,ref:se!==void 0?se:null,props:ee}}function re(R,Y){return Z(R.type,Y,R.props)}function ye(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function Ee(R){var Y={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ee){return Y[ee]})}var ve=/\/+/g;function ie(R,Y){return typeof R=="object"&&R!==null&&R.key!=null?Ee(""+R.key):Y.toString(36)}function Ce(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(ne,ne):(R.status="pending",R.then(function(Y){R.status==="pending"&&(R.status="fulfilled",R.value=Y)},function(Y){R.status==="pending"&&(R.status="rejected",R.reason=Y)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function w(R,Y,ee,se,I){var z=typeof R;(z==="undefined"||z==="boolean")&&(R=null);var W=!1;if(R===null)W=!0;else switch(z){case"bigint":case"string":case"number":W=!0;break;case"object":switch(R.$$typeof){case n:case e:W=!0;break;case x:return W=R._init,w(W(R._payload),Y,ee,se,I)}}if(W)return I=I(R),W=se===""?"."+ie(R,0):se,X(I)?(ee="",W!=null&&(ee=W.replace(ve,"$&/")+"/"),w(I,Y,ee,"",function(ue){return ue})):I!=null&&(ye(I)&&(I=re(I,ee+(I.key==null||R&&R.key===I.key?"":(""+I.key).replace(ve,"$&/")+"/")+W)),Y.push(I)),1;W=0;var le=se===""?".":se+":";if(X(R))for(var ge=0;ge<R.length;ge++)se=R[ge],z=le+ie(se,ge),W+=w(se,Y,ee,z,I);else if(ge=E(R),typeof ge=="function")for(R=ge.call(R),ge=0;!(se=R.next()).done;)se=se.value,z=le+ie(se,ge++),W+=w(se,Y,ee,z,I);else if(z==="object"){if(typeof R.then=="function")return w(Ce(R),Y,ee,se,I);throw Y=String(R),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return W}function P(R,Y,ee){if(R==null)return R;var se=[],I=0;return w(R,se,"","",function(z){return Y.call(ee,z,I++)}),se}function Q(R){if(R._status===-1){var Y=R._result;Y=Y(),Y.then(function(ee){(R._status===0||R._status===-1)&&(R._status=1,R._result=ee)},function(ee){(R._status===0||R._status===-1)&&(R._status=2,R._result=ee)}),R._status===-1&&(R._status=0,R._result=Y)}if(R._status===1)return R._result.default;throw R._result}var de=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},me={map:P,forEach:function(R,Y,ee){P(R,function(){Y.apply(this,arguments)},ee)},count:function(R){var Y=0;return P(R,function(){Y++}),Y},toArray:function(R){return P(R,function(Y){return Y})||[]},only:function(R){if(!ye(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Se.Activity=T,Se.Children=me,Se.Component=V,Se.Fragment=o,Se.Profiler=r,Se.PureComponent=G,Se.StrictMode=s,Se.Suspense=v,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Se.__COMPILER_RUNTIME={__proto__:null,c:function(R){return $.H.useMemoCache(R)}},Se.cache=function(R){return function(){return R.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(R,Y,ee){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var se=k({},R.props),I=R.key;if(Y!=null)for(z in Y.key!==void 0&&(I=""+Y.key),Y)!he.call(Y,z)||z==="key"||z==="__self"||z==="__source"||z==="ref"&&Y.ref===void 0||(se[z]=Y[z]);var z=arguments.length-2;if(z===1)se.children=ee;else if(1<z){for(var W=Array(z),le=0;le<z;le++)W[le]=arguments[le+2];se.children=W}return Z(R.type,I,se)},Se.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:c,_context:R},R},Se.createElement=function(R,Y,ee){var se,I={},z=null;if(Y!=null)for(se in Y.key!==void 0&&(z=""+Y.key),Y)he.call(Y,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(I[se]=Y[se]);var W=arguments.length-2;if(W===1)I.children=ee;else if(1<W){for(var le=Array(W),ge=0;ge<W;ge++)le[ge]=arguments[ge+2];I.children=le}if(R&&R.defaultProps)for(se in W=R.defaultProps,W)I[se]===void 0&&(I[se]=W[se]);return Z(R,z,I)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(R){return{$$typeof:y,render:R}},Se.isValidElement=ye,Se.lazy=function(R){return{$$typeof:x,_payload:{_status:-1,_result:R},_init:Q}},Se.memo=function(R,Y){return{$$typeof:g,type:R,compare:Y===void 0?null:Y}},Se.startTransition=function(R){var Y=$.T,ee={};$.T=ee;try{var se=R(),I=$.S;I!==null&&I(ee,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ne,de)}catch(z){de(z)}finally{Y!==null&&ee.types!==null&&(Y.types=ee.types),$.T=Y}},Se.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Se.use=function(R){return $.H.use(R)},Se.useActionState=function(R,Y,ee){return $.H.useActionState(R,Y,ee)},Se.useCallback=function(R,Y){return $.H.useCallback(R,Y)},Se.useContext=function(R){return $.H.useContext(R)},Se.useDebugValue=function(){},Se.useDeferredValue=function(R,Y){return $.H.useDeferredValue(R,Y)},Se.useEffect=function(R,Y){return $.H.useEffect(R,Y)},Se.useEffectEvent=function(R){return $.H.useEffectEvent(R)},Se.useId=function(){return $.H.useId()},Se.useImperativeHandle=function(R,Y,ee){return $.H.useImperativeHandle(R,Y,ee)},Se.useInsertionEffect=function(R,Y){return $.H.useInsertionEffect(R,Y)},Se.useLayoutEffect=function(R,Y){return $.H.useLayoutEffect(R,Y)},Se.useMemo=function(R,Y){return $.H.useMemo(R,Y)},Se.useOptimistic=function(R,Y){return $.H.useOptimistic(R,Y)},Se.useReducer=function(R,Y,ee){return $.H.useReducer(R,Y,ee)},Se.useRef=function(R){return $.H.useRef(R)},Se.useState=function(R){return $.H.useState(R)},Se.useSyncExternalStore=function(R,Y,ee){return $.H.useSyncExternalStore(R,Y,ee)},Se.useTransition=function(){return $.H.useTransition()},Se.version="19.2.3",Se}var Qp;function Rc(){return Qp||(Qp=1,$u.exports=jx()),$u.exports}var B=Rc();const Jx=Zg(B);var Ku={exports:{}},As={},Xu={exports:{}},Qu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function $x(){return Zp||(Zp=1,(function(n){function e(w,P){var Q=w.length;w.push(P);e:for(;0<Q;){var de=Q-1>>>1,me=w[de];if(0<r(me,P))w[de]=P,w[Q]=me,Q=de;else break e}}function o(w){return w.length===0?null:w[0]}function s(w){if(w.length===0)return null;var P=w[0],Q=w.pop();if(Q!==P){w[0]=Q;e:for(var de=0,me=w.length,R=me>>>1;de<R;){var Y=2*(de+1)-1,ee=w[Y],se=Y+1,I=w[se];if(0>r(ee,Q))se<me&&0>r(I,ee)?(w[de]=I,w[se]=Q,de=se):(w[de]=ee,w[Y]=Q,de=Y);else if(se<me&&0>r(I,Q))w[de]=I,w[se]=Q,de=se;else break e}}return P}function r(w,P){var Q=w.sortIndex-P.sortIndex;return Q!==0?Q:w.id-P.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var f=Date,y=f.now();n.unstable_now=function(){return f.now()-y}}var v=[],g=[],x=1,T=null,_=3,E=!1,C=!1,k=!1,A=!1,V=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function K(w){for(var P=o(g);P!==null;){if(P.callback===null)s(g);else if(P.startTime<=w)s(g),P.sortIndex=P.expirationTime,e(v,P);else break;P=o(g)}}function X(w){if(k=!1,K(w),!C)if(o(v)!==null)C=!0,ne||(ne=!0,Ee());else{var P=o(g);P!==null&&Ce(X,P.startTime-w)}}var ne=!1,$=-1,he=5,Z=-1;function re(){return A?!0:!(n.unstable_now()-Z<he)}function ye(){if(A=!1,ne){var w=n.unstable_now();Z=w;var P=!0;try{e:{C=!1,k&&(k=!1,F($),$=-1),E=!0;var Q=_;try{t:{for(K(w),T=o(v);T!==null&&!(T.expirationTime>w&&re());){var de=T.callback;if(typeof de=="function"){T.callback=null,_=T.priorityLevel;var me=de(T.expirationTime<=w);if(w=n.unstable_now(),typeof me=="function"){T.callback=me,K(w),P=!0;break t}T===o(v)&&s(v),K(w)}else s(v);T=o(v)}if(T!==null)P=!0;else{var R=o(g);R!==null&&Ce(X,R.startTime-w),P=!1}}break e}finally{T=null,_=Q,E=!1}P=void 0}}finally{P?Ee():ne=!1}}}var Ee;if(typeof G=="function")Ee=function(){G(ye)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,ie=ve.port2;ve.port1.onmessage=ye,Ee=function(){ie.postMessage(null)}}else Ee=function(){V(ye,0)};function Ce(w,P){$=V(function(){w(n.unstable_now())},P)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(w){w.callback=null},n.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<w?Math.floor(1e3/w):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(w){switch(_){case 1:case 2:case 3:var P=3;break;default:P=_}var Q=_;_=P;try{return w()}finally{_=Q}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(w,P){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var Q=_;_=w;try{return P()}finally{_=Q}},n.unstable_scheduleCallback=function(w,P,Q){var de=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?de+Q:de):Q=de,w){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=Q+me,w={id:x++,callback:P,priorityLevel:w,startTime:Q,expirationTime:me,sortIndex:-1},Q>de?(w.sortIndex=Q,e(g,w),o(v)===null&&w===o(g)&&(k?(F($),$=-1):k=!0,Ce(X,Q-de))):(w.sortIndex=me,e(v,w),C||E||(C=!0,ne||(ne=!0,Ee()))),w},n.unstable_shouldYield=re,n.unstable_wrapCallback=function(w){var P=_;return function(){var Q=_;_=P;try{return w.apply(this,arguments)}finally{_=Q}}}})(Qu)),Qu}var Wp;function Kx(){return Wp||(Wp=1,Xu.exports=$x()),Xu.exports}var Zu={exports:{}},xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function Xx(){if(em)return xt;em=1;var n=Rc();function e(v){var g="https://react.dev/errors/"+v;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(v,g,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:v,containerInfo:g,implementation:x}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,g){if(v==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,xt.createPortal=function(v,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(v,g,null,x)},xt.flushSync=function(v){var g=f.T,x=s.p;try{if(f.T=null,s.p=2,v)return v()}finally{f.T=g,s.p=x,s.d.f()}},xt.preconnect=function(v,g){typeof v=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(v,g))},xt.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},xt.preinit=function(v,g){if(typeof v=="string"&&g&&typeof g.as=="string"){var x=g.as,T=y(x,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?s.d.S(v,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:_,fetchPriority:E}):x==="script"&&s.d.X(v,{crossOrigin:T,integrity:_,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},xt.preinitModule=function(v,g){if(typeof v=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=y(g.as,g.crossOrigin);s.d.M(v,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(v)},xt.preload=function(v,g){if(typeof v=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,T=y(x,g.crossOrigin);s.d.L(v,x,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},xt.preloadModule=function(v,g){if(typeof v=="string")if(g){var x=y(g.as,g.crossOrigin);s.d.m(v,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(v)},xt.requestFormReset=function(v){s.d.r(v)},xt.unstable_batchedUpdates=function(v,g){return v(g)},xt.useFormState=function(v,g,x){return f.H.useFormState(v,g,x)},xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},xt.version="19.2.3",xt}var tm;function Qx(){if(tm)return Zu.exports;tm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Zu.exports=Xx(),Zu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function Zx(){if(nm)return As;nm=1;var n=Kx(),e=Rc(),o=Qx();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,l=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(l=i.return),t=i.return;while(t)}return i.tag===3?l:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function v(t){if(c(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var l=t,a=i;;){var h=l.return;if(h===null)break;var m=h.alternate;if(m===null){if(a=h.return,a!==null){l=a;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===l)return v(h),t;if(m===a)return v(h),i;m=m.sibling}throw Error(s(188))}if(l.return!==a.return)l=h,a=m;else{for(var S=!1,b=h.child;b;){if(b===l){S=!0,l=h,a=m;break}if(b===a){S=!0,a=h,l=m;break}b=b.sibling}if(!S){for(b=m.child;b;){if(b===l){S=!0,l=m,a=h;break}if(b===a){S=!0,a=m,l=h;break}b=b.sibling}if(!S)throw Error(s(189))}}if(l.alternate!==a)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?t:i}function x(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=x(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),G=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function Ee(t){return t===null||typeof t!="object"?null:(t=ye&&t[ye]||t["@@iterator"],typeof t=="function"?t:null)}var ve=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ve?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case V:return"Profiler";case A:return"StrictMode";case X:return"Suspense";case ne:return"SuspenseList";case Z:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case G:return t.displayName||"Context";case F:return(t._context.displayName||"Context")+".Consumer";case K:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return i=t.displayName||null,i!==null?i:ie(t.type)||"Memo";case he:i=t._payload,t=t._init;try{return ie(t(i))}catch{}}return null}var Ce=Array.isArray,w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},de=[],me=-1;function R(t){return{current:t}}function Y(t){0>me||(t.current=de[me],de[me]=null,me--)}function ee(t,i){me++,de[me]=t.current,t.current=i}var se=R(null),I=R(null),z=R(null),W=R(null);function le(t,i){switch(ee(z,i),ee(I,t),ee(se,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?yp(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=yp(i),t=vp(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(se),ee(se,t)}function ge(){Y(se),Y(I),Y(z)}function ue(t){t.memoizedState!==null&&ee(W,t);var i=se.current,l=vp(i,t.type);i!==l&&(ee(I,t),ee(se,l))}function $e(t){I.current===t&&(Y(se),Y(I)),W.current===t&&(Y(W),bs._currentValue=Q)}var st,Ne;function _e(t){if(st===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);st=i&&i[1]||"",Ne=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+st+t+Ne}var at=!1;function We(t,i){if(!t||at)return"";at=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(q){var H=q}Reflect.construct(t,[],J)}else{try{J.call()}catch(q){H=q}t.call(J.prototype)}}else{try{throw Error()}catch(q){H=q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(q){if(q&&H&&typeof q.stack=="string")return[q.stack,H.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=a.DetermineComponentFrameRoot(),S=m[0],b=m[1];if(S&&b){var N=S.split(`
`),L=b.split(`
`);for(h=a=0;a<N.length&&!N[a].includes("DetermineComponentFrameRoot");)a++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(a===N.length||h===L.length)for(a=N.length-1,h=L.length-1;1<=a&&0<=h&&N[a]!==L[h];)h--;for(;1<=a&&0<=h;a--,h--)if(N[a]!==L[h]){if(a!==1||h!==1)do if(a--,h--,0>h||N[a]!==L[h]){var O=`
`+N[a].replace(" at new "," at ");return t.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",t.displayName)),O}while(1<=a&&0<=h);break}}}finally{at=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?_e(l):""}function It(t,i){switch(t.tag){case 26:case 27:case 5:return _e(t.type);case 16:return _e("Lazy");case 13:return t.child!==i&&i!==null?_e("Suspense Fallback"):_e("Suspense");case 19:return _e("SuspenseList");case 0:case 15:return We(t.type,!1);case 11:return We(t.type.render,!1);case 1:return We(t.type,!0);case 31:return _e("Activity");default:return""}}function on(t){try{var i="",l=null;do i+=It(t,l),l=t,t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Pn=Object.prototype.hasOwnProperty,fn=n.unstable_scheduleCallback,Gi=n.unstable_cancelCallback,Ty=n.unstable_shouldYield,by=n.unstable_requestPaint,Dt=n.unstable_now,Ey=n.unstable_getCurrentPriorityLevel,$c=n.unstable_ImmediatePriority,Kc=n.unstable_UserBlockingPriority,Vs=n.unstable_NormalPriority,Cy=n.unstable_LowPriority,Xc=n.unstable_IdlePriority,Ny=n.log,wy=n.unstable_setDisableYieldValue,Lo=null,kt=null;function On(t){if(typeof Ny=="function"&&wy(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(Lo,t)}catch{}}var Ut=Math.clz32?Math.clz32:My,Ay=Math.log,Ry=Math.LN2;function My(t){return t>>>=0,t===0?32:31-(Ay(t)/Ry|0)|0}var qs=256,Bs=262144,Ps=4194304;function vi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Os(t,i,l){var a=t.pendingLanes;if(a===0)return 0;var h=0,m=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var b=a&134217727;return b!==0?(a=b&~m,a!==0?h=vi(a):(S&=b,S!==0?h=vi(S):l||(l=b&~t,l!==0&&(h=vi(l))))):(b=a&~m,b!==0?h=vi(b):S!==0?h=vi(S):l||(l=a&~t,l!==0&&(h=vi(l)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,l=i&-i,m>=l||m===32&&(l&4194048)!==0)?i:h}function zo(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Iy(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qc(){var t=Ps;return Ps<<=1,(Ps&62914560)===0&&(Ps=4194304),t}function La(t){for(var i=[],l=0;31>l;l++)i.push(t);return i}function Ho(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Dy(t,i,l,a,h,m){var S=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,L=t.hiddenUpdates;for(l=S&~l;0<l;){var O=31-Ut(l),J=1<<O;b[O]=0,N[O]=-1;var H=L[O];if(H!==null)for(L[O]=null,O=0;O<H.length;O++){var q=H[O];q!==null&&(q.lane&=-536870913)}l&=~J}a!==0&&Zc(t,a,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(S&~i))}function Zc(t,i,l){t.pendingLanes|=i,t.suspendedLanes&=~i;var a=31-Ut(i);t.entangledLanes|=i,t.entanglements[a]=t.entanglements[a]|1073741824|l&261930}function Wc(t,i){var l=t.entangledLanes|=i;for(t=t.entanglements;l;){var a=31-Ut(l),h=1<<a;h&i|t[a]&i&&(t[a]|=i),l&=~h}}function ed(t,i){var l=i&-i;return l=(l&42)!==0?1:za(l),(l&(t.suspendedLanes|i))!==0?0:l}function za(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ha(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function td(){var t=P.p;return t!==0?t:(t=window.event,t===void 0?32:Bp(t.type))}function nd(t,i){var l=P.p;try{return P.p=t,i()}finally{P.p=l}}var Fn=Math.random().toString(36).slice(2),dt="__reactFiber$"+Fn,Et="__reactProps$"+Fn,Vi="__reactContainer$"+Fn,Ga="__reactEvents$"+Fn,ky="__reactListeners$"+Fn,Uy="__reactHandles$"+Fn,id="__reactResources$"+Fn,Go="__reactMarker$"+Fn;function Va(t){delete t[dt],delete t[Et],delete t[Ga],delete t[ky],delete t[Uy]}function qi(t){var i=t[dt];if(i)return i;for(var l=t.parentNode;l;){if(i=l[Vi]||l[dt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(t=Cp(t);t!==null;){if(l=t[dt])return l;t=Cp(t)}return i}t=l,l=t.parentNode}return null}function Bi(t){if(t=t[dt]||t[Vi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Vo(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Pi(t){var i=t[id];return i||(i=t[id]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function rt(t){t[Go]=!0}var od=new Set,sd={};function xi(t,i){Oi(t,i),Oi(t+"Capture",i)}function Oi(t,i){for(sd[t]=i,t=0;t<i.length;t++)od.add(i[t])}var Ly=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ld={},ad={};function zy(t){return Pn.call(ad,t)?!0:Pn.call(ld,t)?!1:Ly.test(t)?ad[t]=!0:(ld[t]=!0,!1)}function Fs(t,i,l){if(zy(i))if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var a=i.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+l)}}function Ys(t,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+l)}}function xn(t,i,l,a){if(a===null)t.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(i,l,""+a)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rd(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Hy(t,i,l){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(S){l=""+S,m.call(this,S)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function qa(t){if(!t._valueTracker){var i=rd(t)?"checked":"value";t._valueTracker=Hy(t,i,""+t[i])}}function ud(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var l=i.getValue(),a="";return t&&(a=rd(t)?t.checked?"true":"false":t.value),t=a,t!==l?(i.setValue(t),!0):!1}function js(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Gy=/[\n"\\]/g;function Ot(t){return t.replace(Gy,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ba(t,i,l,a,h,m,S,b){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),i!=null?S==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),i!=null?Pa(t,S,Pt(i)):l!=null?Pa(t,S,Pt(l)):a!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Pt(b):t.removeAttribute("name")}function cd(t,i,l,a,h,m,S,b){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){qa(t);return}l=l!=null?""+Pt(l):"",i=i!=null?""+Pt(i):l,b||i===t.value||(t.value=i),t.defaultValue=i}a=a??h,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=b?t.checked:!!a,t.defaultChecked=!!a,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S),qa(t)}function Pa(t,i,l){i==="number"&&js(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function Fi(t,i,l,a){if(t=t.options,i){i={};for(var h=0;h<l.length;h++)i["$"+l[h]]=!0;for(l=0;l<t.length;l++)h=i.hasOwnProperty("$"+t[l].value),t[l].selected!==h&&(t[l].selected=h),h&&a&&(t[l].defaultSelected=!0)}else{for(l=""+Pt(l),i=null,h=0;h<t.length;h++){if(t[h].value===l){t[h].selected=!0,a&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function dd(t,i,l){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),l==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=l!=null?""+Pt(l):""}function fd(t,i,l,a){if(i==null){if(a!=null){if(l!=null)throw Error(s(92));if(Ce(a)){if(1<a.length)throw Error(s(93));a=a[0]}l=a}l==null&&(l=""),i=l}l=Pt(i),t.defaultValue=l,a=t.textContent,a===l&&a!==""&&a!==null&&(t.value=a),qa(t)}function Yi(t,i){if(i){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=i;return}}t.textContent=i}var Vy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hd(t,i,l){var a=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":a?t.setProperty(i,l):typeof l!="number"||l===0||Vy.has(i)?i==="float"?t.cssFloat=l:t[i]=(""+l).trim():t[i]=l+"px"}function pd(t,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||i!=null&&i.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var h in i)a=i[h],i.hasOwnProperty(h)&&l[h]!==a&&hd(t,h,a)}else for(var m in i)i.hasOwnProperty(m)&&hd(t,m,i[m])}function Oa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),By=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Js(t){return By.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Sn(){}var Fa=null;function Ya(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ji=null,Ji=null;function md(t){var i=Bi(t);if(i&&(t=i.stateNode)){var l=t[Et]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ba(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ot(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var a=l[i];if(a!==t&&a.form===t.form){var h=a[Et]||null;if(!h)throw Error(s(90));Ba(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<l.length;i++)a=l[i],a.form===t.form&&ud(a)}break e;case"textarea":dd(t,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&Fi(t,!!l.multiple,i,!1)}}}var ja=!1;function gd(t,i,l){if(ja)return t(i,l);ja=!0;try{var a=t(i);return a}finally{if(ja=!1,(ji!==null||Ji!==null)&&(Ul(),ji&&(i=ji,t=Ji,Ji=ji=null,md(i),t)))for(i=0;i<t.length;i++)md(t[i])}}function qo(t,i){var l=t.stateNode;if(l===null)return null;var a=l[Et]||null;if(a===null)return null;l=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ja=!1;if(_n)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{Ja=!1}var Yn=null,$a=null,$s=null;function yd(){if($s)return $s;var t,i=$a,l=i.length,a,h="value"in Yn?Yn.value:Yn.textContent,m=h.length;for(t=0;t<l&&i[t]===h[t];t++);var S=l-t;for(a=1;a<=S&&i[l-a]===h[m-a];a++);return $s=h.slice(t,1<a?1-a:void 0)}function Ks(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Xs(){return!0}function vd(){return!1}function Ct(t){function i(l,a,h,m,S){this._reactName=l,this._targetInst=h,this.type=a,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(l=t[b],this[b]=l?l(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Xs:vd,this.isPropagationStopped=vd,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),i}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=Ct(Si),Po=T({},Si,{view:0,detail:0}),Py=Ct(Po),Ka,Xa,Oo,Zs=T({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Za,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oo&&(Oo&&t.type==="mousemove"?(Ka=t.screenX-Oo.screenX,Xa=t.screenY-Oo.screenY):Xa=Ka=0,Oo=t),Ka)},movementY:function(t){return"movementY"in t?t.movementY:Xa}}),xd=Ct(Zs),Oy=T({},Zs,{dataTransfer:0}),Fy=Ct(Oy),Yy=T({},Po,{relatedTarget:0}),Qa=Ct(Yy),jy=T({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),Jy=Ct(jy),$y=T({},Si,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ky=Ct($y),Xy=T({},Si,{data:0}),Sd=Ct(Xy),Qy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ev(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Wy[t])?!!i[t]:!1}function Za(){return ev}var tv=T({},Po,{key:function(t){if(t.key){var i=Qy[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Za,charCode:function(t){return t.type==="keypress"?Ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nv=Ct(tv),iv=T({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_d=Ct(iv),ov=T({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Za}),sv=Ct(ov),lv=T({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),av=Ct(lv),rv=T({},Zs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uv=Ct(rv),cv=T({},Si,{newState:0,oldState:0}),dv=Ct(cv),fv=[9,13,27,32],Wa=_n&&"CompositionEvent"in window,Fo=null;_n&&"documentMode"in document&&(Fo=document.documentMode);var hv=_n&&"TextEvent"in window&&!Fo,Td=_n&&(!Wa||Fo&&8<Fo&&11>=Fo),bd=" ",Ed=!1;function Cd(t,i){switch(t){case"keyup":return fv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $i=!1;function pv(t,i){switch(t){case"compositionend":return Nd(i);case"keypress":return i.which!==32?null:(Ed=!0,bd);case"textInput":return t=i.data,t===bd&&Ed?null:t;default:return null}}function mv(t,i){if($i)return t==="compositionend"||!Wa&&Cd(t,i)?(t=yd(),$s=$a=Yn=null,$i=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Td&&i.locale!=="ko"?null:i.data;default:return null}}var gv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!gv[t.type]:i==="textarea"}function Ad(t,i,l,a){ji?Ji?Ji.push(a):Ji=[a]:ji=a,i=Bl(i,"onChange"),0<i.length&&(l=new Qs("onChange","change",null,l,a),t.push({event:l,listeners:i}))}var Yo=null,jo=null;function yv(t){dp(t,0)}function Ws(t){var i=Vo(t);if(ud(i))return t}function Rd(t,i){if(t==="change")return i}var Md=!1;if(_n){var er;if(_n){var tr="oninput"in document;if(!tr){var Id=document.createElement("div");Id.setAttribute("oninput","return;"),tr=typeof Id.oninput=="function"}er=tr}else er=!1;Md=er&&(!document.documentMode||9<document.documentMode)}function Dd(){Yo&&(Yo.detachEvent("onpropertychange",kd),jo=Yo=null)}function kd(t){if(t.propertyName==="value"&&Ws(jo)){var i=[];Ad(i,jo,t,Ya(t)),gd(yv,i)}}function vv(t,i,l){t==="focusin"?(Dd(),Yo=i,jo=l,Yo.attachEvent("onpropertychange",kd)):t==="focusout"&&Dd()}function xv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ws(jo)}function Sv(t,i){if(t==="click")return Ws(i)}function _v(t,i){if(t==="input"||t==="change")return Ws(i)}function Tv(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Lt=typeof Object.is=="function"?Object.is:Tv;function Jo(t,i){if(Lt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var l=Object.keys(t),a=Object.keys(i);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var h=l[a];if(!Pn.call(i,h)||!Lt(t[h],i[h]))return!1}return!0}function Ud(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ld(t,i){var l=Ud(t);t=0;for(var a;l;){if(l.nodeType===3){if(a=t+l.textContent.length,t<=i&&a>=i)return{node:l,offset:i-t};t=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ud(l)}}function zd(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?zd(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Hd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=js(t.document);i instanceof t.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)t=i.contentWindow;else break;i=js(t.document)}return i}function nr(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var bv=_n&&"documentMode"in document&&11>=document.documentMode,Ki=null,ir=null,$o=null,or=!1;function Gd(t,i,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;or||Ki==null||Ki!==js(a)||(a=Ki,"selectionStart"in a&&nr(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),$o&&Jo($o,a)||($o=a,a=Bl(ir,"onSelect"),0<a.length&&(i=new Qs("onSelect","select",null,i,l),t.push({event:i,listeners:a}),i.target=Ki)))}function _i(t,i){var l={};return l[t.toLowerCase()]=i.toLowerCase(),l["Webkit"+t]="webkit"+i,l["Moz"+t]="moz"+i,l}var Xi={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionrun:_i("Transition","TransitionRun"),transitionstart:_i("Transition","TransitionStart"),transitioncancel:_i("Transition","TransitionCancel"),transitionend:_i("Transition","TransitionEnd")},sr={},Vd={};_n&&(Vd=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function Ti(t){if(sr[t])return sr[t];if(!Xi[t])return t;var i=Xi[t],l;for(l in i)if(i.hasOwnProperty(l)&&l in Vd)return sr[t]=i[l];return t}var qd=Ti("animationend"),Bd=Ti("animationiteration"),Pd=Ti("animationstart"),Ev=Ti("transitionrun"),Cv=Ti("transitionstart"),Nv=Ti("transitioncancel"),Od=Ti("transitionend"),Fd=new Map,lr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lr.push("scrollEnd");function sn(t,i){Fd.set(t,i),xi(i,[t])}var el=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ft=[],Qi=0,ar=0;function tl(){for(var t=Qi,i=ar=Qi=0;i<t;){var l=Ft[i];Ft[i++]=null;var a=Ft[i];Ft[i++]=null;var h=Ft[i];Ft[i++]=null;var m=Ft[i];if(Ft[i++]=null,a!==null&&h!==null){var S=a.pending;S===null?h.next=h:(h.next=S.next,S.next=h),a.pending=h}m!==0&&Yd(l,h,m)}}function nl(t,i,l,a){Ft[Qi++]=t,Ft[Qi++]=i,Ft[Qi++]=l,Ft[Qi++]=a,ar|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function rr(t,i,l,a){return nl(t,i,l,a),il(t)}function bi(t,i){return nl(t,null,null,i),il(t)}function Yd(t,i,l){t.lanes|=l;var a=t.alternate;a!==null&&(a.lanes|=l);for(var h=!1,m=t.return;m!==null;)m.childLanes|=l,a=m.alternate,a!==null&&(a.childLanes|=l),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&i!==null&&(h=31-Ut(l),t=m.hiddenUpdates,a=t[h],a===null?t[h]=[i]:a.push(i),i.lane=l|536870912),m):null}function il(t){if(50<gs)throw gs=0,yu=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Zi={};function wv(t,i,l,a){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(t,i,l,a){return new wv(t,i,l,a)}function ur(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tn(t,i){var l=t.alternate;return l===null?(l=zt(t.tag,i,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=i,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,i=t.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function jd(t,i){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,i=l.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ol(t,i,l,a,h,m){var S=0;if(a=t,typeof t=="function")ur(t)&&(S=1);else if(typeof t=="string")S=Dx(t,l,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Z:return t=zt(31,l,i,h),t.elementType=Z,t.lanes=m,t;case k:return Ei(l.children,h,m,i);case A:S=8,h|=24;break;case V:return t=zt(12,l,i,h|2),t.elementType=V,t.lanes=m,t;case X:return t=zt(13,l,i,h),t.elementType=X,t.lanes=m,t;case ne:return t=zt(19,l,i,h),t.elementType=ne,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:S=10;break e;case F:S=9;break e;case K:S=11;break e;case $:S=14;break e;case he:S=16,a=null;break e}S=29,l=Error(s(130,t===null?"null":typeof t,"")),a=null}return i=zt(S,l,i,h),i.elementType=t,i.type=a,i.lanes=m,i}function Ei(t,i,l,a){return t=zt(7,t,a,i),t.lanes=l,t}function cr(t,i,l){return t=zt(6,t,null,i),t.lanes=l,t}function Jd(t){var i=zt(18,null,null,0);return i.stateNode=t,i}function dr(t,i,l){return i=zt(4,t.children!==null?t.children:[],t.key,i),i.lanes=l,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var $d=new WeakMap;function Yt(t,i){if(typeof t=="object"&&t!==null){var l=$d.get(t);return l!==void 0?l:(i={value:t,source:i,stack:on(i)},$d.set(t,i),i)}return{value:t,source:i,stack:on(i)}}var Wi=[],eo=0,sl=null,Ko=0,jt=[],Jt=0,jn=null,hn=1,pn="";function bn(t,i){Wi[eo++]=Ko,Wi[eo++]=sl,sl=t,Ko=i}function Kd(t,i,l){jt[Jt++]=hn,jt[Jt++]=pn,jt[Jt++]=jn,jn=t;var a=hn;t=pn;var h=32-Ut(a)-1;a&=~(1<<h),l+=1;var m=32-Ut(i)+h;if(30<m){var S=h-h%5;m=(a&(1<<S)-1).toString(32),a>>=S,h-=S,hn=1<<32-Ut(i)+h|l<<h|a,pn=m+t}else hn=1<<m|l<<h|a,pn=t}function fr(t){t.return!==null&&(bn(t,1),Kd(t,1,0))}function hr(t){for(;t===sl;)sl=Wi[--eo],Wi[eo]=null,Ko=Wi[--eo],Wi[eo]=null;for(;t===jn;)jn=jt[--Jt],jt[Jt]=null,pn=jt[--Jt],jt[Jt]=null,hn=jt[--Jt],jt[Jt]=null}function Xd(t,i){jt[Jt++]=hn,jt[Jt++]=pn,jt[Jt++]=jn,hn=i.id,pn=i.overflow,jn=t}var ft=null,Fe=null,Ie=!1,Jn=null,$t=!1,pr=Error(s(519));function $n(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xo(Yt(i,t)),pr}function Qd(t){var i=t.stateNode,l=t.type,a=t.memoizedProps;switch(i[dt]=t,i[Et]=a,l){case"dialog":Ae("cancel",i),Ae("close",i);break;case"iframe":case"object":case"embed":Ae("load",i);break;case"video":case"audio":for(l=0;l<vs.length;l++)Ae(vs[l],i);break;case"source":Ae("error",i);break;case"img":case"image":case"link":Ae("error",i),Ae("load",i);break;case"details":Ae("toggle",i);break;case"input":Ae("invalid",i),cd(i,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ae("invalid",i);break;case"textarea":Ae("invalid",i),fd(i,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||a.suppressHydrationWarning===!0||mp(i.textContent,l)?(a.popover!=null&&(Ae("beforetoggle",i),Ae("toggle",i)),a.onScroll!=null&&Ae("scroll",i),a.onScrollEnd!=null&&Ae("scrollend",i),a.onClick!=null&&(i.onclick=Sn),i=!0):i=!1,i||$n(t,!0)}function Zd(t){for(ft=t.return;ft;)switch(ft.tag){case 5:case 31:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:ft=ft.return}}function to(t){if(t!==ft)return!1;if(!Ie)return Zd(t),Ie=!0,!1;var i=t.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||Du(t.type,t.memoizedProps)),l=!l),l&&Fe&&$n(t),Zd(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Fe=Ep(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Fe=Ep(t)}else i===27?(i=Fe,ri(t.type)?(t=Hu,Hu=null,Fe=t):Fe=i):Fe=ft?Xt(t.stateNode.nextSibling):null;return!0}function Ci(){Fe=ft=null,Ie=!1}function mr(){var t=Jn;return t!==null&&(Rt===null?Rt=t:Rt.push.apply(Rt,t),Jn=null),t}function Xo(t){Jn===null?Jn=[t]:Jn.push(t)}var gr=R(null),Ni=null,En=null;function Kn(t,i,l){ee(gr,i._currentValue),i._currentValue=l}function Cn(t){t._currentValue=gr.current,Y(gr)}function yr(t,i,l){for(;t!==null;){var a=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),t===l)break;t=t.return}}function vr(t,i,l,a){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var S=h.child;m=m.firstContext;e:for(;m!==null;){var b=m;m=h;for(var N=0;N<i.length;N++)if(b.context===i[N]){m.lanes|=l,b=m.alternate,b!==null&&(b.lanes|=l),yr(m.return,l,t),a||(S=null);break e}m=b.next}}else if(h.tag===18){if(S=h.return,S===null)throw Error(s(341));S.lanes|=l,m=S.alternate,m!==null&&(m.lanes|=l),yr(S,l,t),S=null}else S=h.child;if(S!==null)S.return=h;else for(S=h;S!==null;){if(S===t){S=null;break}if(h=S.sibling,h!==null){h.return=S.return,S=h;break}S=S.return}h=S}}function no(t,i,l,a){t=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var S=h.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var b=h.type;Lt(h.pendingProps.value,S.value)||(t!==null?t.push(b):t=[b])}}else if(h===W.current){if(S=h.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(bs):t=[bs])}h=h.return}t!==null&&vr(i,t,l,a),i.flags|=262144}function ll(t){for(t=t.firstContext;t!==null;){if(!Lt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function wi(t){Ni=t,En=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ht(t){return Wd(Ni,t)}function al(t,i){return Ni===null&&wi(t),Wd(t,i)}function Wd(t,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},En===null){if(t===null)throw Error(s(308));En=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else En=En.next=i;return l}var Av=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(l,a){t.push(a)}};this.abort=function(){i.aborted=!0,t.forEach(function(l){return l()})}},Rv=n.unstable_scheduleCallback,Mv=n.unstable_NormalPriority,et={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xr(){return{controller:new Av,data:new Map,refCount:0}}function Qo(t){t.refCount--,t.refCount===0&&Rv(Mv,function(){t.controller.abort()})}var Zo=null,Sr=0,io=0,oo=null;function Iv(t,i){if(Zo===null){var l=Zo=[];Sr=0,io=bu(),oo={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Sr++,i.then(ef,ef),i}function ef(){if(--Sr===0&&Zo!==null){oo!==null&&(oo.status="fulfilled");var t=Zo;Zo=null,io=0,oo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Dv(t,i){var l=[],a={status:"pending",value:null,reason:null,then:function(h){l.push(h)}};return t.then(function(){a.status="fulfilled",a.value=i;for(var h=0;h<l.length;h++)(0,l[h])(i)},function(h){for(a.status="rejected",a.reason=h,h=0;h<l.length;h++)(0,l[h])(void 0)}),a}var tf=w.S;w.S=function(t,i){Vh=Dt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Iv(t,i),tf!==null&&tf(t,i)};var Ai=R(null);function _r(){var t=Ai.current;return t!==null?t:Oe.pooledCache}function rl(t,i){i===null?ee(Ai,Ai.current):ee(Ai,i.pool)}function nf(){var t=_r();return t===null?null:{parent:et._currentValue,pool:t}}var so=Error(s(460)),Tr=Error(s(474)),ul=Error(s(542)),cl={then:function(){}};function of(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sf(t,i,l){switch(l=t[l],l===void 0?t.push(i):l!==i&&(i.then(Sn,Sn),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,af(t),t;default:if(typeof i.status=="string")i.then(Sn,Sn);else{if(t=Oe,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(a){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=a}},function(a){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=a}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,af(t),t}throw Mi=i,so}}function Ri(t){try{var i=t._init;return i(t._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Mi=l,so):l}}var Mi=null;function lf(){if(Mi===null)throw Error(s(459));var t=Mi;return Mi=null,t}function af(t){if(t===so||t===ul)throw Error(s(483))}var lo=null,Wo=0;function dl(t){var i=Wo;return Wo+=1,lo===null&&(lo=[]),sf(lo,t,i)}function es(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function fl(t,i){throw i.$$typeof===_?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function rf(t){function i(D,M){if(t){var U=D.deletions;U===null?(D.deletions=[M],D.flags|=16):U.push(M)}}function l(D,M){if(!t)return null;for(;M!==null;)i(D,M),M=M.sibling;return null}function a(D){for(var M=new Map;D!==null;)D.key!==null?M.set(D.key,D):M.set(D.index,D),D=D.sibling;return M}function h(D,M){return D=Tn(D,M),D.index=0,D.sibling=null,D}function m(D,M,U){return D.index=U,t?(U=D.alternate,U!==null?(U=U.index,U<M?(D.flags|=67108866,M):U):(D.flags|=67108866,M)):(D.flags|=1048576,M)}function S(D){return t&&D.alternate===null&&(D.flags|=67108866),D}function b(D,M,U,j){return M===null||M.tag!==6?(M=cr(U,D.mode,j),M.return=D,M):(M=h(M,U),M.return=D,M)}function N(D,M,U,j){var fe=U.type;return fe===k?O(D,M,U.props.children,j,U.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===he&&Ri(fe)===M.type)?(M=h(M,U.props),es(M,U),M.return=D,M):(M=ol(U.type,U.key,U.props,null,D.mode,j),es(M,U),M.return=D,M)}function L(D,M,U,j){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=dr(U,D.mode,j),M.return=D,M):(M=h(M,U.children||[]),M.return=D,M)}function O(D,M,U,j,fe){return M===null||M.tag!==7?(M=Ei(U,D.mode,j,fe),M.return=D,M):(M=h(M,U),M.return=D,M)}function J(D,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=cr(""+M,D.mode,U),M.return=D,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case E:return U=ol(M.type,M.key,M.props,null,D.mode,U),es(U,M),U.return=D,U;case C:return M=dr(M,D.mode,U),M.return=D,M;case he:return M=Ri(M),J(D,M,U)}if(Ce(M)||Ee(M))return M=Ei(M,D.mode,U,null),M.return=D,M;if(typeof M.then=="function")return J(D,dl(M),U);if(M.$$typeof===G)return J(D,al(D,M),U);fl(D,M)}return null}function H(D,M,U,j){var fe=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return fe!==null?null:b(D,M,""+U,j);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case E:return U.key===fe?N(D,M,U,j):null;case C:return U.key===fe?L(D,M,U,j):null;case he:return U=Ri(U),H(D,M,U,j)}if(Ce(U)||Ee(U))return fe!==null?null:O(D,M,U,j,null);if(typeof U.then=="function")return H(D,M,dl(U),j);if(U.$$typeof===G)return H(D,M,al(D,U),j);fl(D,U)}return null}function q(D,M,U,j,fe){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return D=D.get(U)||null,b(M,D,""+j,fe);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case E:return D=D.get(j.key===null?U:j.key)||null,N(M,D,j,fe);case C:return D=D.get(j.key===null?U:j.key)||null,L(M,D,j,fe);case he:return j=Ri(j),q(D,M,U,j,fe)}if(Ce(j)||Ee(j))return D=D.get(U)||null,O(M,D,j,fe,null);if(typeof j.then=="function")return q(D,M,U,dl(j),fe);if(j.$$typeof===G)return q(D,M,U,al(M,j),fe);fl(M,j)}return null}function ae(D,M,U,j){for(var fe=null,ke=null,ce=M,be=M=0,Me=null;ce!==null&&be<U.length;be++){ce.index>be?(Me=ce,ce=null):Me=ce.sibling;var Ue=H(D,ce,U[be],j);if(Ue===null){ce===null&&(ce=Me);break}t&&ce&&Ue.alternate===null&&i(D,ce),M=m(Ue,M,be),ke===null?fe=Ue:ke.sibling=Ue,ke=Ue,ce=Me}if(be===U.length)return l(D,ce),Ie&&bn(D,be),fe;if(ce===null){for(;be<U.length;be++)ce=J(D,U[be],j),ce!==null&&(M=m(ce,M,be),ke===null?fe=ce:ke.sibling=ce,ke=ce);return Ie&&bn(D,be),fe}for(ce=a(ce);be<U.length;be++)Me=q(ce,D,be,U[be],j),Me!==null&&(t&&Me.alternate!==null&&ce.delete(Me.key===null?be:Me.key),M=m(Me,M,be),ke===null?fe=Me:ke.sibling=Me,ke=Me);return t&&ce.forEach(function(hi){return i(D,hi)}),Ie&&bn(D,be),fe}function pe(D,M,U,j){if(U==null)throw Error(s(151));for(var fe=null,ke=null,ce=M,be=M=0,Me=null,Ue=U.next();ce!==null&&!Ue.done;be++,Ue=U.next()){ce.index>be?(Me=ce,ce=null):Me=ce.sibling;var hi=H(D,ce,Ue.value,j);if(hi===null){ce===null&&(ce=Me);break}t&&ce&&hi.alternate===null&&i(D,ce),M=m(hi,M,be),ke===null?fe=hi:ke.sibling=hi,ke=hi,ce=Me}if(Ue.done)return l(D,ce),Ie&&bn(D,be),fe;if(ce===null){for(;!Ue.done;be++,Ue=U.next())Ue=J(D,Ue.value,j),Ue!==null&&(M=m(Ue,M,be),ke===null?fe=Ue:ke.sibling=Ue,ke=Ue);return Ie&&bn(D,be),fe}for(ce=a(ce);!Ue.done;be++,Ue=U.next())Ue=q(ce,D,be,Ue.value,j),Ue!==null&&(t&&Ue.alternate!==null&&ce.delete(Ue.key===null?be:Ue.key),M=m(Ue,M,be),ke===null?fe=Ue:ke.sibling=Ue,ke=Ue);return t&&ce.forEach(function(Ox){return i(D,Ox)}),Ie&&bn(D,be),fe}function Pe(D,M,U,j){if(typeof U=="object"&&U!==null&&U.type===k&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case E:e:{for(var fe=U.key;M!==null;){if(M.key===fe){if(fe=U.type,fe===k){if(M.tag===7){l(D,M.sibling),j=h(M,U.props.children),j.return=D,D=j;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===he&&Ri(fe)===M.type){l(D,M.sibling),j=h(M,U.props),es(j,U),j.return=D,D=j;break e}l(D,M);break}else i(D,M);M=M.sibling}U.type===k?(j=Ei(U.props.children,D.mode,j,U.key),j.return=D,D=j):(j=ol(U.type,U.key,U.props,null,D.mode,j),es(j,U),j.return=D,D=j)}return S(D);case C:e:{for(fe=U.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){l(D,M.sibling),j=h(M,U.children||[]),j.return=D,D=j;break e}else{l(D,M);break}else i(D,M);M=M.sibling}j=dr(U,D.mode,j),j.return=D,D=j}return S(D);case he:return U=Ri(U),Pe(D,M,U,j)}if(Ce(U))return ae(D,M,U,j);if(Ee(U)){if(fe=Ee(U),typeof fe!="function")throw Error(s(150));return U=fe.call(U),pe(D,M,U,j)}if(typeof U.then=="function")return Pe(D,M,dl(U),j);if(U.$$typeof===G)return Pe(D,M,al(D,U),j);fl(D,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(l(D,M.sibling),j=h(M,U),j.return=D,D=j):(l(D,M),j=cr(U,D.mode,j),j.return=D,D=j),S(D)):l(D,M)}return function(D,M,U,j){try{Wo=0;var fe=Pe(D,M,U,j);return lo=null,fe}catch(ce){if(ce===so||ce===ul)throw ce;var ke=zt(29,ce,null,D.mode);return ke.lanes=j,ke.return=D,ke}finally{}}}var Ii=rf(!0),uf=rf(!1),Xn=!1;function br(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Er(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zn(t,i,l){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(ze&2)!==0){var h=a.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),a.pending=i,i=il(t),Yd(t,null,l),i}return nl(t,a,i,l),il(t)}function ts(t,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var a=i.lanes;a&=t.pendingLanes,l|=a,i.lanes=l,Wc(t,l)}}function Cr(t,i){var l=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var h=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?h=m=S:m=m.next=S,l=l.next}while(l!==null);m===null?h=m=i:m=m.next=i}else h=m=i;l={baseState:a.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:a.shared,callbacks:a.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=i:t.next=i,l.lastBaseUpdate=i}var Nr=!1;function ns(){if(Nr){var t=oo;if(t!==null)throw t}}function is(t,i,l,a){Nr=!1;var h=t.updateQueue;Xn=!1;var m=h.firstBaseUpdate,S=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var N=b,L=N.next;N.next=null,S===null?m=L:S.next=L,S=N;var O=t.alternate;O!==null&&(O=O.updateQueue,b=O.lastBaseUpdate,b!==S&&(b===null?O.firstBaseUpdate=L:b.next=L,O.lastBaseUpdate=N))}if(m!==null){var J=h.baseState;S=0,O=L=N=null,b=m;do{var H=b.lane&-536870913,q=H!==b.lane;if(q?(Re&H)===H:(a&H)===H){H!==0&&H===io&&(Nr=!0),O!==null&&(O=O.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ae=t,pe=b;H=i;var Pe=l;switch(pe.tag){case 1:if(ae=pe.payload,typeof ae=="function"){J=ae.call(Pe,J,H);break e}J=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=pe.payload,H=typeof ae=="function"?ae.call(Pe,J,H):ae,H==null)break e;J=T({},J,H);break e;case 2:Xn=!0}}H=b.callback,H!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[H]:q.push(H))}else q={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},O===null?(L=O=q,N=J):O=O.next=q,S|=H;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;q=b,b=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);O===null&&(N=J),h.baseState=N,h.firstBaseUpdate=L,h.lastBaseUpdate=O,m===null&&(h.shared.lanes=0),ii|=S,t.lanes=S,t.memoizedState=J}}function cf(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function df(t,i){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)cf(l[t],i)}var ao=R(null),hl=R(0);function ff(t,i){t=Un,ee(hl,t),ee(ao,i),Un=t|i.baseLanes}function wr(){ee(hl,Un),ee(ao,ao.current)}function Ar(){Un=hl.current,Y(ao),Y(hl)}var Ht=R(null),Kt=null;function Wn(t){var i=t.alternate;ee(Qe,Qe.current&1),ee(Ht,t),Kt===null&&(i===null||ao.current!==null||i.memoizedState!==null)&&(Kt=t)}function Rr(t){ee(Qe,Qe.current),ee(Ht,t),Kt===null&&(Kt=t)}function hf(t){t.tag===22?(ee(Qe,Qe.current),ee(Ht,t),Kt===null&&(Kt=t)):ei()}function ei(){ee(Qe,Qe.current),ee(Ht,Ht.current)}function Gt(t){Y(Ht),Kt===t&&(Kt=null),Y(Qe)}var Qe=R(0);function pl(t){for(var i=t;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Lu(l)||zu(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Nn=0,Te=null,qe=null,tt=null,ml=!1,ro=!1,Di=!1,gl=0,os=0,uo=null,kv=0;function Ke(){throw Error(s(321))}function Mr(t,i){if(i===null)return!1;for(var l=0;l<i.length&&l<t.length;l++)if(!Lt(t[l],i[l]))return!1;return!0}function Ir(t,i,l,a,h,m){return Nn=m,Te=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,w.H=t===null||t.memoizedState===null?Xf:jr,Di=!1,m=l(a,h),Di=!1,ro&&(m=mf(i,l,a,h)),pf(t),m}function pf(t){w.H=as;var i=qe!==null&&qe.next!==null;if(Nn=0,tt=qe=Te=null,ml=!1,os=0,uo=null,i)throw Error(s(300));t===null||nt||(t=t.dependencies,t!==null&&ll(t)&&(nt=!0))}function mf(t,i,l,a){Te=t;var h=0;do{if(ro&&(uo=null),os=0,ro=!1,25<=h)throw Error(s(301));if(h+=1,tt=qe=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}w.H=Qf,m=i(l,a)}while(ro);return m}function Uv(){var t=w.H,i=t.useState()[0];return i=typeof i.then=="function"?ss(i):i,t=t.useState()[0],(qe!==null?qe.memoizedState:null)!==t&&(Te.flags|=1024),i}function Dr(){var t=gl!==0;return gl=0,t}function kr(t,i,l){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~l}function Ur(t){if(ml){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ml=!1}Nn=0,tt=qe=Te=null,ro=!1,os=gl=0,uo=null}function _t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Te.memoizedState=tt=t:tt=tt.next=t,tt}function Ze(){if(qe===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var i=tt===null?Te.memoizedState:tt.next;if(i!==null)tt=i,qe=t;else{if(t===null)throw Te.alternate===null?Error(s(467)):Error(s(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},tt===null?Te.memoizedState=tt=t:tt=tt.next=t}return tt}function yl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ss(t){var i=os;return os+=1,uo===null&&(uo=[]),t=sf(uo,t,i),i=Te,(tt===null?i.memoizedState:tt.next)===null&&(i=i.alternate,w.H=i===null||i.memoizedState===null?Xf:jr),t}function vl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ss(t);if(t.$$typeof===G)return ht(t)}throw Error(s(438,String(t)))}function Lr(t){var i=null,l=Te.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var a=Te.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(i={data:a.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=yl(),Te.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(t),a=0;a<t;a++)l[a]=re;return i.index++,l}function wn(t,i){return typeof i=="function"?i(t):i}function xl(t){var i=Ze();return zr(i,qe,t)}function zr(t,i,l){var a=t.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=l;var h=t.baseQueue,m=a.pending;if(m!==null){if(h!==null){var S=h.next;h.next=m.next,m.next=S}i.baseQueue=h=m,a.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{i=h.next;var b=S=null,N=null,L=i,O=!1;do{var J=L.lane&-536870913;if(J!==L.lane?(Re&J)===J:(Nn&J)===J){var H=L.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),J===io&&(O=!0);else if((Nn&H)===H){L=L.next,H===io&&(O=!0);continue}else J={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(b=N=J,S=m):N=N.next=J,Te.lanes|=H,ii|=H;J=L.action,Di&&l(m,J),m=L.hasEagerState?L.eagerState:l(m,J)}else H={lane:J,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(b=N=H,S=m):N=N.next=H,Te.lanes|=J,ii|=J;L=L.next}while(L!==null&&L!==i);if(N===null?S=m:N.next=b,!Lt(m,t.memoizedState)&&(nt=!0,O&&(l=oo,l!==null)))throw l;t.memoizedState=m,t.baseState=S,t.baseQueue=N,a.lastRenderedState=m}return h===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function Hr(t){var i=Ze(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=t;var a=l.dispatch,h=l.pending,m=i.memoizedState;if(h!==null){l.pending=null;var S=h=h.next;do m=t(m,S.action),S=S.next;while(S!==h);Lt(m,i.memoizedState)||(nt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),l.lastRenderedState=m}return[m,a]}function gf(t,i,l){var a=Te,h=Ze(),m=Ie;if(m){if(l===void 0)throw Error(s(407));l=l()}else l=i();var S=!Lt((qe||h).memoizedState,l);if(S&&(h.memoizedState=l,nt=!0),h=h.queue,qr(xf.bind(null,a,h,t),[t]),h.getSnapshot!==i||S||tt!==null&&tt.memoizedState.tag&1){if(a.flags|=2048,co(9,{destroy:void 0},vf.bind(null,a,h,l,i),null),Oe===null)throw Error(s(349));m||(Nn&127)!==0||yf(a,i,l)}return l}function yf(t,i,l){t.flags|=16384,t={getSnapshot:i,value:l},i=Te.updateQueue,i===null?(i=yl(),Te.updateQueue=i,i.stores=[t]):(l=i.stores,l===null?i.stores=[t]:l.push(t))}function vf(t,i,l,a){i.value=l,i.getSnapshot=a,Sf(i)&&_f(t)}function xf(t,i,l){return l(function(){Sf(i)&&_f(t)})}function Sf(t){var i=t.getSnapshot;t=t.value;try{var l=i();return!Lt(t,l)}catch{return!0}}function _f(t){var i=bi(t,2);i!==null&&Mt(i,t,2)}function Gr(t){var i=_t();if(typeof t=="function"){var l=t;if(t=l(),Di){On(!0);try{l()}finally{On(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:t},i}function Tf(t,i,l,a){return t.baseState=l,zr(t,qe,typeof a=="function"?a:wn)}function Lv(t,i,l,a,h){if(Tl(t))throw Error(s(485));if(t=i.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};w.T!==null?l(!0):m.isTransition=!1,a(m),l=i.pending,l===null?(m.next=i.pending=m,bf(i,m)):(m.next=l.next,i.pending=l.next=m)}}function bf(t,i){var l=i.action,a=i.payload,h=t.state;if(i.isTransition){var m=w.T,S={};w.T=S;try{var b=l(h,a),N=w.S;N!==null&&N(S,b),Ef(t,i,b)}catch(L){Vr(t,i,L)}finally{m!==null&&S.types!==null&&(m.types=S.types),w.T=m}}else try{m=l(h,a),Ef(t,i,m)}catch(L){Vr(t,i,L)}}function Ef(t,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Cf(t,i,a)},function(a){return Vr(t,i,a)}):Cf(t,i,l)}function Cf(t,i,l){i.status="fulfilled",i.value=l,Nf(i),t.state=l,i=t.pending,i!==null&&(l=i.next,l===i?t.pending=null:(l=l.next,i.next=l,bf(t,l)))}function Vr(t,i,l){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do i.status="rejected",i.reason=l,Nf(i),i=i.next;while(i!==a)}t.action=null}function Nf(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function wf(t,i){return i}function Af(t,i){if(Ie){var l=Oe.formState;if(l!==null){e:{var a=Te;if(Ie){if(Fe){t:{for(var h=Fe,m=$t;h.nodeType!==8;){if(!m){h=null;break t}if(h=Xt(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Fe=Xt(h.nextSibling),a=h.data==="F!";break e}}$n(a)}a=!1}a&&(i=l[0])}}return l=_t(),l.memoizedState=l.baseState=i,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wf,lastRenderedState:i},l.queue=a,l=Jf.bind(null,Te,a),a.dispatch=l,a=Gr(!1),m=Yr.bind(null,Te,!1,a.queue),a=_t(),h={state:i,dispatch:null,action:t,pending:null},a.queue=h,l=Lv.bind(null,Te,h,m,l),h.dispatch=l,a.memoizedState=t,[i,l,!1]}function Rf(t){var i=Ze();return Mf(i,qe,t)}function Mf(t,i,l){if(i=zr(t,i,wf)[0],t=xl(wn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var a=ss(i)}catch(S){throw S===so?ul:S}else a=i;i=Ze();var h=i.queue,m=h.dispatch;return l!==i.memoizedState&&(Te.flags|=2048,co(9,{destroy:void 0},zv.bind(null,h,l),null)),[a,m,t]}function zv(t,i){t.action=i}function If(t){var i=Ze(),l=qe;if(l!==null)return Mf(i,l,t);Ze(),i=i.memoizedState,l=Ze();var a=l.queue.dispatch;return l.memoizedState=t,[i,a,!1]}function co(t,i,l,a){return t={tag:t,create:l,deps:a,inst:i,next:null},i=Te.updateQueue,i===null&&(i=yl(),Te.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=t.next=t:(a=l.next,l.next=t,t.next=a,i.lastEffect=t),t}function Df(){return Ze().memoizedState}function Sl(t,i,l,a){var h=_t();Te.flags|=t,h.memoizedState=co(1|i,{destroy:void 0},l,a===void 0?null:a)}function _l(t,i,l,a){var h=Ze();a=a===void 0?null:a;var m=h.memoizedState.inst;qe!==null&&a!==null&&Mr(a,qe.memoizedState.deps)?h.memoizedState=co(i,m,l,a):(Te.flags|=t,h.memoizedState=co(1|i,m,l,a))}function kf(t,i){Sl(8390656,8,t,i)}function qr(t,i){_l(2048,8,t,i)}function Hv(t){Te.flags|=4;var i=Te.updateQueue;if(i===null)i=yl(),Te.updateQueue=i,i.events=[t];else{var l=i.events;l===null?i.events=[t]:l.push(t)}}function Uf(t){var i=Ze().memoizedState;return Hv({ref:i,nextImpl:t}),function(){if((ze&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Lf(t,i){return _l(4,2,t,i)}function zf(t,i){return _l(4,4,t,i)}function Hf(t,i){if(typeof i=="function"){t=t();var l=i(t);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Gf(t,i,l){l=l!=null?l.concat([t]):null,_l(4,4,Hf.bind(null,i,t),l)}function Br(){}function Vf(t,i){var l=Ze();i=i===void 0?null:i;var a=l.memoizedState;return i!==null&&Mr(i,a[1])?a[0]:(l.memoizedState=[t,i],t)}function qf(t,i){var l=Ze();i=i===void 0?null:i;var a=l.memoizedState;if(i!==null&&Mr(i,a[1]))return a[0];if(a=t(),Di){On(!0);try{t()}finally{On(!1)}}return l.memoizedState=[a,i],a}function Pr(t,i,l){return l===void 0||(Nn&1073741824)!==0&&(Re&261930)===0?t.memoizedState=i:(t.memoizedState=l,t=Bh(),Te.lanes|=t,ii|=t,l)}function Bf(t,i,l,a){return Lt(l,i)?l:ao.current!==null?(t=Pr(t,l,a),Lt(t,i)||(nt=!0),t):(Nn&42)===0||(Nn&1073741824)!==0&&(Re&261930)===0?(nt=!0,t.memoizedState=l):(t=Bh(),Te.lanes|=t,ii|=t,i)}function Pf(t,i,l,a,h){var m=P.p;P.p=m!==0&&8>m?m:8;var S=w.T,b={};w.T=b,Yr(t,!1,i,l);try{var N=h(),L=w.S;if(L!==null&&L(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var O=Dv(N,a);ls(t,i,O,Bt(t))}else ls(t,i,a,Bt(t))}catch(J){ls(t,i,{then:function(){},status:"rejected",reason:J},Bt())}finally{P.p=m,S!==null&&b.types!==null&&(S.types=b.types),w.T=S}}function Gv(){}function Or(t,i,l,a){if(t.tag!==5)throw Error(s(476));var h=Of(t).queue;Pf(t,h,i,Q,l===null?Gv:function(){return Ff(t),l(a)})}function Of(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:Q},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:l},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ff(t){var i=Of(t);i.next===null&&(i=t.alternate.memoizedState),ls(t,i.next.queue,{},Bt())}function Fr(){return ht(bs)}function Yf(){return Ze().memoizedState}function jf(){return Ze().memoizedState}function Vv(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var l=Bt();t=Qn(l);var a=Zn(i,t,l);a!==null&&(Mt(a,i,l),ts(a,i,l)),i={cache:xr()},t.payload=i;return}i=i.return}}function qv(t,i,l){var a=Bt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Tl(t)?$f(i,l):(l=rr(t,i,l,a),l!==null&&(Mt(l,t,a),Kf(l,i,a)))}function Jf(t,i,l){var a=Bt();ls(t,i,l,a)}function ls(t,i,l,a){var h={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Tl(t))$f(i,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var S=i.lastRenderedState,b=m(S,l);if(h.hasEagerState=!0,h.eagerState=b,Lt(b,S))return nl(t,i,h,0),Oe===null&&tl(),!1}catch{}finally{}if(l=rr(t,i,h,a),l!==null)return Mt(l,t,a),Kf(l,i,a),!0}return!1}function Yr(t,i,l,a){if(a={lane:2,revertLane:bu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Tl(t)){if(i)throw Error(s(479))}else i=rr(t,l,a,2),i!==null&&Mt(i,t,2)}function Tl(t){var i=t.alternate;return t===Te||i!==null&&i===Te}function $f(t,i){ro=ml=!0;var l=t.pending;l===null?i.next=i:(i.next=l.next,l.next=i),t.pending=i}function Kf(t,i,l){if((l&4194048)!==0){var a=i.lanes;a&=t.pendingLanes,l|=a,i.lanes=l,Wc(t,l)}}var as={readContext:ht,use:vl,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};as.useEffectEvent=Ke;var Xf={readContext:ht,use:vl,useCallback:function(t,i){return _t().memoizedState=[t,i===void 0?null:i],t},useContext:ht,useEffect:kf,useImperativeHandle:function(t,i,l){l=l!=null?l.concat([t]):null,Sl(4194308,4,Hf.bind(null,i,t),l)},useLayoutEffect:function(t,i){return Sl(4194308,4,t,i)},useInsertionEffect:function(t,i){Sl(4,2,t,i)},useMemo:function(t,i){var l=_t();i=i===void 0?null:i;var a=t();if(Di){On(!0);try{t()}finally{On(!1)}}return l.memoizedState=[a,i],a},useReducer:function(t,i,l){var a=_t();if(l!==void 0){var h=l(i);if(Di){On(!0);try{l(i)}finally{On(!1)}}}else h=i;return a.memoizedState=a.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},a.queue=t,t=t.dispatch=qv.bind(null,Te,t),[a.memoizedState,t]},useRef:function(t){var i=_t();return t={current:t},i.memoizedState=t},useState:function(t){t=Gr(t);var i=t.queue,l=Jf.bind(null,Te,i);return i.dispatch=l,[t.memoizedState,l]},useDebugValue:Br,useDeferredValue:function(t,i){var l=_t();return Pr(l,t,i)},useTransition:function(){var t=Gr(!1);return t=Pf.bind(null,Te,t.queue,!0,!1),_t().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,l){var a=Te,h=_t();if(Ie){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),Oe===null)throw Error(s(349));(Re&127)!==0||yf(a,i,l)}h.memoizedState=l;var m={value:l,getSnapshot:i};return h.queue=m,kf(xf.bind(null,a,m,t),[t]),a.flags|=2048,co(9,{destroy:void 0},vf.bind(null,a,m,l,i),null),l},useId:function(){var t=_t(),i=Oe.identifierPrefix;if(Ie){var l=pn,a=hn;l=(a&~(1<<32-Ut(a)-1)).toString(32)+l,i="_"+i+"R_"+l,l=gl++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=kv++,i="_"+i+"r_"+l.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Fr,useFormState:Af,useActionState:Af,useOptimistic:function(t){var i=_t();i.memoizedState=i.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Yr.bind(null,Te,!0,l),l.dispatch=i,[t,i]},useMemoCache:Lr,useCacheRefresh:function(){return _t().memoizedState=Vv.bind(null,Te)},useEffectEvent:function(t){var i=_t(),l={impl:t};return i.memoizedState=l,function(){if((ze&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},jr={readContext:ht,use:vl,useCallback:Vf,useContext:ht,useEffect:qr,useImperativeHandle:Gf,useInsertionEffect:Lf,useLayoutEffect:zf,useMemo:qf,useReducer:xl,useRef:Df,useState:function(){return xl(wn)},useDebugValue:Br,useDeferredValue:function(t,i){var l=Ze();return Bf(l,qe.memoizedState,t,i)},useTransition:function(){var t=xl(wn)[0],i=Ze().memoizedState;return[typeof t=="boolean"?t:ss(t),i]},useSyncExternalStore:gf,useId:Yf,useHostTransitionStatus:Fr,useFormState:Rf,useActionState:Rf,useOptimistic:function(t,i){var l=Ze();return Tf(l,qe,t,i)},useMemoCache:Lr,useCacheRefresh:jf};jr.useEffectEvent=Uf;var Qf={readContext:ht,use:vl,useCallback:Vf,useContext:ht,useEffect:qr,useImperativeHandle:Gf,useInsertionEffect:Lf,useLayoutEffect:zf,useMemo:qf,useReducer:Hr,useRef:Df,useState:function(){return Hr(wn)},useDebugValue:Br,useDeferredValue:function(t,i){var l=Ze();return qe===null?Pr(l,t,i):Bf(l,qe.memoizedState,t,i)},useTransition:function(){var t=Hr(wn)[0],i=Ze().memoizedState;return[typeof t=="boolean"?t:ss(t),i]},useSyncExternalStore:gf,useId:Yf,useHostTransitionStatus:Fr,useFormState:If,useActionState:If,useOptimistic:function(t,i){var l=Ze();return qe!==null?Tf(l,qe,t,i):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:Lr,useCacheRefresh:jf};Qf.useEffectEvent=Uf;function Jr(t,i,l,a){i=t.memoizedState,l=l(a,i),l=l==null?i:T({},i,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var $r={enqueueSetState:function(t,i,l){t=t._reactInternals;var a=Bt(),h=Qn(a);h.payload=i,l!=null&&(h.callback=l),i=Zn(t,h,a),i!==null&&(Mt(i,t,a),ts(i,t,a))},enqueueReplaceState:function(t,i,l){t=t._reactInternals;var a=Bt(),h=Qn(a);h.tag=1,h.payload=i,l!=null&&(h.callback=l),i=Zn(t,h,a),i!==null&&(Mt(i,t,a),ts(i,t,a))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var l=Bt(),a=Qn(l);a.tag=2,i!=null&&(a.callback=i),i=Zn(t,a,l),i!==null&&(Mt(i,t,l),ts(i,t,l))}};function Zf(t,i,l,a,h,m,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,m,S):i.prototype&&i.prototype.isPureReactComponent?!Jo(l,a)||!Jo(h,m):!0}function Wf(t,i,l,a){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,a),i.state!==t&&$r.enqueueReplaceState(i,i.state,null)}function ki(t,i){var l=i;if("ref"in i){l={};for(var a in i)a!=="ref"&&(l[a]=i[a])}if(t=t.defaultProps){l===i&&(l=T({},l));for(var h in t)l[h]===void 0&&(l[h]=t[h])}return l}function eh(t){el(t)}function th(t){console.error(t)}function nh(t){el(t)}function bl(t,i){try{var l=t.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(a){setTimeout(function(){throw a})}}function ih(t,i,l){try{var a=t.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kr(t,i,l){return l=Qn(l),l.tag=3,l.payload={element:null},l.callback=function(){bl(t,i)},l}function oh(t){return t=Qn(t),t.tag=3,t}function sh(t,i,l,a){var h=l.type.getDerivedStateFromError;if(typeof h=="function"){var m=a.value;t.payload=function(){return h(m)},t.callback=function(){ih(i,l,a)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){ih(i,l,a),typeof h!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var b=a.stack;this.componentDidCatch(a.value,{componentStack:b!==null?b:""})})}function Bv(t,i,l,a,h){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(i=l.alternate,i!==null&&no(i,l,h,!0),l=Ht.current,l!==null){switch(l.tag){case 31:case 13:return Kt===null?Ll():l.alternate===null&&Xe===0&&(Xe=3),l.flags&=-257,l.flags|=65536,l.lanes=h,a===cl?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([a]):i.add(a),Su(t,a,h)),!1;case 22:return l.flags|=65536,a===cl?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([a]):l.add(a)),Su(t,a,h)),!1}throw Error(s(435,l.tag))}return Su(t,a,h),Ll(),!1}if(Ie)return i=Ht.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,a!==pr&&(t=Error(s(422),{cause:a}),Xo(Yt(t,l)))):(a!==pr&&(i=Error(s(423),{cause:a}),Xo(Yt(i,l))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,a=Yt(a,l),h=Kr(t.stateNode,a,h),Cr(t,h),Xe!==4&&(Xe=2)),!1;var m=Error(s(520),{cause:a});if(m=Yt(m,l),ms===null?ms=[m]:ms.push(m),Xe!==4&&(Xe=2),i===null)return!0;a=Yt(a,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,t=h&-h,l.lanes|=t,t=Kr(l.stateNode,a,t),Cr(l,t),!1;case 1:if(i=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(oi===null||!oi.has(m))))return l.flags|=65536,h&=-h,l.lanes|=h,h=oh(h),sh(h,t,l,a),Cr(l,h),!1}l=l.return}while(l!==null);return!1}var Xr=Error(s(461)),nt=!1;function pt(t,i,l,a){i.child=t===null?uf(i,null,l,a):Ii(i,t.child,l,a)}function lh(t,i,l,a,h){l=l.render;var m=i.ref;if("ref"in a){var S={};for(var b in a)b!=="ref"&&(S[b]=a[b])}else S=a;return wi(i),a=Ir(t,i,l,S,m,h),b=Dr(),t!==null&&!nt?(kr(t,i,h),An(t,i,h)):(Ie&&b&&fr(i),i.flags|=1,pt(t,i,a,h),i.child)}function ah(t,i,l,a,h){if(t===null){var m=l.type;return typeof m=="function"&&!ur(m)&&m.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=m,rh(t,i,m,a,h)):(t=ol(l.type,null,a,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!ou(t,h)){var S=m.memoizedProps;if(l=l.compare,l=l!==null?l:Jo,l(S,a)&&t.ref===i.ref)return An(t,i,h)}return i.flags|=1,t=Tn(m,a),t.ref=i.ref,t.return=i,i.child=t}function rh(t,i,l,a,h){if(t!==null){var m=t.memoizedProps;if(Jo(m,a)&&t.ref===i.ref)if(nt=!1,i.pendingProps=a=m,ou(t,h))(t.flags&131072)!==0&&(nt=!0);else return i.lanes=t.lanes,An(t,i,h)}return Qr(t,i,l,a,h)}function uh(t,i,l,a){var h=a.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,t!==null){for(a=i.child=t.child,h=0;a!==null;)h=h|a.lanes|a.childLanes,a=a.sibling;a=h&~m}else a=0,i.child=null;return ch(t,i,m,l,a)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&rl(i,m!==null?m.cachePool:null),m!==null?ff(i,m):wr(),hf(i);else return a=i.lanes=536870912,ch(t,i,m!==null?m.baseLanes|l:l,l,a)}else m!==null?(rl(i,m.cachePool),ff(i,m),ei(),i.memoizedState=null):(t!==null&&rl(i,null),wr(),ei());return pt(t,i,h,l),i.child}function rs(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function ch(t,i,l,a,h){var m=_r();return m=m===null?null:{parent:et._currentValue,pool:m},i.memoizedState={baseLanes:l,cachePool:m},t!==null&&rl(i,null),wr(),hf(i),t!==null&&no(t,i,a,!0),i.childLanes=h,null}function El(t,i){return i=Nl({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function dh(t,i,l){return Ii(i,t.child,null,l),t=El(i,i.pendingProps),t.flags|=2,Gt(i),i.memoizedState=null,t}function Pv(t,i,l){var a=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ie){if(a.mode==="hidden")return t=El(i,a),i.lanes=536870912,rs(null,t);if(Rr(i),(t=Fe)?(t=bp(t,$t),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:jn!==null?{id:hn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},l=Jd(t),l.return=i,i.child=l,ft=i,Fe=null)):t=null,t===null)throw $n(i);return i.lanes=536870912,null}return El(i,a)}var m=t.memoizedState;if(m!==null){var S=m.dehydrated;if(Rr(i),h)if(i.flags&256)i.flags&=-257,i=dh(t,i,l);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(nt||no(t,i,l,!1),h=(l&t.childLanes)!==0,nt||h){if(a=Oe,a!==null&&(S=ed(a,l),S!==0&&S!==m.retryLane))throw m.retryLane=S,bi(t,S),Mt(a,t,S),Xr;Ll(),i=dh(t,i,l)}else t=m.treeContext,Fe=Xt(S.nextSibling),ft=i,Ie=!0,Jn=null,$t=!1,t!==null&&Xd(i,t),i=El(i,a),i.flags|=4096;return i}return t=Tn(t.child,{mode:a.mode,children:a.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Cl(t,i){var l=i.ref;if(l===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(t===null||t.ref!==l)&&(i.flags|=4194816)}}function Qr(t,i,l,a,h){return wi(i),l=Ir(t,i,l,a,void 0,h),a=Dr(),t!==null&&!nt?(kr(t,i,h),An(t,i,h)):(Ie&&a&&fr(i),i.flags|=1,pt(t,i,l,h),i.child)}function fh(t,i,l,a,h,m){return wi(i),i.updateQueue=null,l=mf(i,a,l,h),pf(t),a=Dr(),t!==null&&!nt?(kr(t,i,m),An(t,i,m)):(Ie&&a&&fr(i),i.flags|=1,pt(t,i,l,m),i.child)}function hh(t,i,l,a,h){if(wi(i),i.stateNode===null){var m=Zi,S=l.contextType;typeof S=="object"&&S!==null&&(m=ht(S)),m=new l(a,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=$r,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=a,m.state=i.memoizedState,m.refs={},br(i),S=l.contextType,m.context=typeof S=="object"&&S!==null?ht(S):Zi,m.state=i.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Jr(i,l,S,a),m.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&$r.enqueueReplaceState(m,m.state,null),is(i,a,m,h),ns(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),a=!0}else if(t===null){m=i.stateNode;var b=i.memoizedProps,N=ki(l,b);m.props=N;var L=m.context,O=l.contextType;S=Zi,typeof O=="object"&&O!==null&&(S=ht(O));var J=l.getDerivedStateFromProps;O=typeof J=="function"||typeof m.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,O||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b||L!==S)&&Wf(i,m,a,S),Xn=!1;var H=i.memoizedState;m.state=H,is(i,a,m,h),ns(),L=i.memoizedState,b||H!==L||Xn?(typeof J=="function"&&(Jr(i,l,J,a),L=i.memoizedState),(N=Xn||Zf(i,l,N,a,H,L,S))?(O||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=L),m.props=a,m.state=L,m.context=S,a=N):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{m=i.stateNode,Er(t,i),S=i.memoizedProps,O=ki(l,S),m.props=O,J=i.pendingProps,H=m.context,L=l.contextType,N=Zi,typeof L=="object"&&L!==null&&(N=ht(L)),b=l.getDerivedStateFromProps,(L=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==J||H!==N)&&Wf(i,m,a,N),Xn=!1,H=i.memoizedState,m.state=H,is(i,a,m,h),ns();var q=i.memoizedState;S!==J||H!==q||Xn||t!==null&&t.dependencies!==null&&ll(t.dependencies)?(typeof b=="function"&&(Jr(i,l,b,a),q=i.memoizedState),(O=Xn||Zf(i,l,O,a,H,q,N)||t!==null&&t.dependencies!==null&&ll(t.dependencies))?(L||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,q,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,q,N)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=q),m.props=a,m.state=q,m.context=N,a=O):(typeof m.componentDidUpdate!="function"||S===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),a=!1)}return m=a,Cl(t,i),a=(i.flags&128)!==0,m||a?(m=i.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&a?(i.child=Ii(i,t.child,null,h),i.child=Ii(i,null,l,h)):pt(t,i,l,h),i.memoizedState=m.state,t=i.child):t=An(t,i,h),t}function ph(t,i,l,a){return Ci(),i.flags|=256,pt(t,i,l,a),i.child}var Zr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wr(t){return{baseLanes:t,cachePool:nf()}}function eu(t,i,l){return t=t!==null?t.childLanes&~l:0,i&&(t|=qt),t}function mh(t,i,l){var a=i.pendingProps,h=!1,m=(i.flags&128)!==0,S;if((S=m)||(S=t!==null&&t.memoizedState===null?!1:(Qe.current&2)!==0),S&&(h=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ie){if(h?Wn(i):ei(),(t=Fe)?(t=bp(t,$t),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:jn!==null?{id:hn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},l=Jd(t),l.return=i,i.child=l,ft=i,Fe=null)):t=null,t===null)throw $n(i);return zu(t)?i.lanes=32:i.lanes=536870912,null}var b=a.children;return a=a.fallback,h?(ei(),h=i.mode,b=Nl({mode:"hidden",children:b},h),a=Ei(a,h,l,null),b.return=i,a.return=i,b.sibling=a,i.child=b,a=i.child,a.memoizedState=Wr(l),a.childLanes=eu(t,S,l),i.memoizedState=Zr,rs(null,a)):(Wn(i),tu(i,b))}var N=t.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(m)i.flags&256?(Wn(i),i.flags&=-257,i=nu(t,i,l)):i.memoizedState!==null?(ei(),i.child=t.child,i.flags|=128,i=null):(ei(),b=a.fallback,h=i.mode,a=Nl({mode:"visible",children:a.children},h),b=Ei(b,h,l,null),b.flags|=2,a.return=i,b.return=i,a.sibling=b,i.child=a,Ii(i,t.child,null,l),a=i.child,a.memoizedState=Wr(l),a.childLanes=eu(t,S,l),i.memoizedState=Zr,i=rs(null,a));else if(Wn(i),zu(b)){if(S=b.nextSibling&&b.nextSibling.dataset,S)var L=S.dgst;S=L,a=Error(s(419)),a.stack="",a.digest=S,Xo({value:a,source:null,stack:null}),i=nu(t,i,l)}else if(nt||no(t,i,l,!1),S=(l&t.childLanes)!==0,nt||S){if(S=Oe,S!==null&&(a=ed(S,l),a!==0&&a!==N.retryLane))throw N.retryLane=a,bi(t,a),Mt(S,t,a),Xr;Lu(b)||Ll(),i=nu(t,i,l)}else Lu(b)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,Fe=Xt(b.nextSibling),ft=i,Ie=!0,Jn=null,$t=!1,t!==null&&Xd(i,t),i=tu(i,a.children),i.flags|=4096);return i}return h?(ei(),b=a.fallback,h=i.mode,N=t.child,L=N.sibling,a=Tn(N,{mode:"hidden",children:a.children}),a.subtreeFlags=N.subtreeFlags&65011712,L!==null?b=Tn(L,b):(b=Ei(b,h,l,null),b.flags|=2),b.return=i,a.return=i,a.sibling=b,i.child=a,rs(null,a),a=i.child,b=t.child.memoizedState,b===null?b=Wr(l):(h=b.cachePool,h!==null?(N=et._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=nf(),b={baseLanes:b.baseLanes|l,cachePool:h}),a.memoizedState=b,a.childLanes=eu(t,S,l),i.memoizedState=Zr,rs(t.child,a)):(Wn(i),l=t.child,t=l.sibling,l=Tn(l,{mode:"visible",children:a.children}),l.return=i,l.sibling=null,t!==null&&(S=i.deletions,S===null?(i.deletions=[t],i.flags|=16):S.push(t)),i.child=l,i.memoizedState=null,l)}function tu(t,i){return i=Nl({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Nl(t,i){return t=zt(22,t,null,i),t.lanes=0,t}function nu(t,i,l){return Ii(i,t.child,null,l),t=tu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function gh(t,i,l){t.lanes|=i;var a=t.alternate;a!==null&&(a.lanes|=i),yr(t.return,i,l)}function iu(t,i,l,a,h,m){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:h,treeForkCount:m}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=a,S.tail=l,S.tailMode=h,S.treeForkCount=m)}function yh(t,i,l){var a=i.pendingProps,h=a.revealOrder,m=a.tail;a=a.children;var S=Qe.current,b=(S&2)!==0;if(b?(S=S&1|2,i.flags|=128):S&=1,ee(Qe,S),pt(t,i,a,l),a=Ie?Ko:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gh(t,l,i);else if(t.tag===19)gh(t,l,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(l=i.child,h=null;l!==null;)t=l.alternate,t!==null&&pl(t)===null&&(h=l),l=l.sibling;l=h,l===null?(h=i.child,i.child=null):(h=l.sibling,l.sibling=null),iu(i,!1,h,l,m,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&pl(t)===null){i.child=h;break}t=h.sibling,h.sibling=l,l=h,h=t}iu(i,!0,l,null,m,a);break;case"together":iu(i,!1,null,null,void 0,a);break;default:i.memoizedState=null}return i.child}function An(t,i,l){if(t!==null&&(i.dependencies=t.dependencies),ii|=i.lanes,(l&i.childLanes)===0)if(t!==null){if(no(t,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,l=Tn(t,t.pendingProps),i.child=l,l.return=i;t.sibling!==null;)t=t.sibling,l=l.sibling=Tn(t,t.pendingProps),l.return=i;l.sibling=null}return i.child}function ou(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ll(t)))}function Ov(t,i,l){switch(i.tag){case 3:le(i,i.stateNode.containerInfo),Kn(i,et,t.memoizedState.cache),Ci();break;case 27:case 5:ue(i);break;case 4:le(i,i.stateNode.containerInfo);break;case 10:Kn(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Rr(i),null;break;case 13:var a=i.memoizedState;if(a!==null)return a.dehydrated!==null?(Wn(i),i.flags|=128,null):(l&i.child.childLanes)!==0?mh(t,i,l):(Wn(i),t=An(t,i,l),t!==null?t.sibling:null);Wn(i);break;case 19:var h=(t.flags&128)!==0;if(a=(l&i.childLanes)!==0,a||(no(t,i,l,!1),a=(l&i.childLanes)!==0),h){if(a)return yh(t,i,l);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ee(Qe,Qe.current),a)break;return null;case 22:return i.lanes=0,uh(t,i,l,i.pendingProps);case 24:Kn(i,et,t.memoizedState.cache)}return An(t,i,l)}function vh(t,i,l){if(t!==null)if(t.memoizedProps!==i.pendingProps)nt=!0;else{if(!ou(t,l)&&(i.flags&128)===0)return nt=!1,Ov(t,i,l);nt=(t.flags&131072)!==0}else nt=!1,Ie&&(i.flags&1048576)!==0&&Kd(i,Ko,i.index);switch(i.lanes=0,i.tag){case 16:e:{var a=i.pendingProps;if(t=Ri(i.elementType),i.type=t,typeof t=="function")ur(t)?(a=ki(t,a),i.tag=1,i=hh(null,i,t,a,l)):(i.tag=0,i=Qr(null,i,t,a,l));else{if(t!=null){var h=t.$$typeof;if(h===K){i.tag=11,i=lh(null,i,t,a,l);break e}else if(h===$){i.tag=14,i=ah(null,i,t,a,l);break e}}throw i=ie(t)||t,Error(s(306,i,""))}}return i;case 0:return Qr(t,i,i.type,i.pendingProps,l);case 1:return a=i.type,h=ki(a,i.pendingProps),hh(t,i,a,h,l);case 3:e:{if(le(i,i.stateNode.containerInfo),t===null)throw Error(s(387));a=i.pendingProps;var m=i.memoizedState;h=m.element,Er(t,i),is(i,a,null,l);var S=i.memoizedState;if(a=S.cache,Kn(i,et,a),a!==m.cache&&vr(i,[et],l,!0),ns(),a=S.element,m.isDehydrated)if(m={element:a,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=ph(t,i,a,l);break e}else if(a!==h){h=Yt(Error(s(424)),i),Xo(h),i=ph(t,i,a,l);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Fe=Xt(t.firstChild),ft=i,Ie=!0,Jn=null,$t=!0,l=uf(i,null,a,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ci(),a===h){i=An(t,i,l);break e}pt(t,i,a,l)}i=i.child}return i;case 26:return Cl(t,i),t===null?(l=Rp(i.type,null,i.pendingProps,null))?i.memoizedState=l:Ie||(l=i.type,t=i.pendingProps,a=Pl(z.current).createElement(l),a[dt]=i,a[Et]=t,mt(a,l,t),rt(a),i.stateNode=a):i.memoizedState=Rp(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ue(i),t===null&&Ie&&(a=i.stateNode=Np(i.type,i.pendingProps,z.current),ft=i,$t=!0,h=Fe,ri(i.type)?(Hu=h,Fe=Xt(a.firstChild)):Fe=h),pt(t,i,i.pendingProps.children,l),Cl(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ie&&((h=a=Fe)&&(a=xx(a,i.type,i.pendingProps,$t),a!==null?(i.stateNode=a,ft=i,Fe=Xt(a.firstChild),$t=!1,h=!0):h=!1),h||$n(i)),ue(i),h=i.type,m=i.pendingProps,S=t!==null?t.memoizedProps:null,a=m.children,Du(h,m)?a=null:S!==null&&Du(h,S)&&(i.flags|=32),i.memoizedState!==null&&(h=Ir(t,i,Uv,null,null,l),bs._currentValue=h),Cl(t,i),pt(t,i,a,l),i.child;case 6:return t===null&&Ie&&((t=l=Fe)&&(l=Sx(l,i.pendingProps,$t),l!==null?(i.stateNode=l,ft=i,Fe=null,t=!0):t=!1),t||$n(i)),null;case 13:return mh(t,i,l);case 4:return le(i,i.stateNode.containerInfo),a=i.pendingProps,t===null?i.child=Ii(i,null,a,l):pt(t,i,a,l),i.child;case 11:return lh(t,i,i.type,i.pendingProps,l);case 7:return pt(t,i,i.pendingProps,l),i.child;case 8:return pt(t,i,i.pendingProps.children,l),i.child;case 12:return pt(t,i,i.pendingProps.children,l),i.child;case 10:return a=i.pendingProps,Kn(i,i.type,a.value),pt(t,i,a.children,l),i.child;case 9:return h=i.type._context,a=i.pendingProps.children,wi(i),h=ht(h),a=a(h),i.flags|=1,pt(t,i,a,l),i.child;case 14:return ah(t,i,i.type,i.pendingProps,l);case 15:return rh(t,i,i.type,i.pendingProps,l);case 19:return yh(t,i,l);case 31:return Pv(t,i,l);case 22:return uh(t,i,l,i.pendingProps);case 24:return wi(i),a=ht(et),t===null?(h=_r(),h===null&&(h=Oe,m=xr(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=l),h=m),i.memoizedState={parent:a,cache:h},br(i),Kn(i,et,h)):((t.lanes&l)!==0&&(Er(t,i),is(i,null,null,l),ns()),h=t.memoizedState,m=i.memoizedState,h.parent!==a?(h={parent:a,cache:a},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Kn(i,et,a)):(a=m.cache,Kn(i,et,a),a!==h.cache&&vr(i,[et],l,!0))),pt(t,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Rn(t){t.flags|=4}function su(t,i,l,a,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Yh())t.flags|=8192;else throw Mi=cl,Tr}else t.flags&=-16777217}function xh(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Up(i))if(Yh())t.flags|=8192;else throw Mi=cl,Tr}function wl(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Qc():536870912,t.lanes|=i,mo|=i)}function us(t,i){if(!Ie)switch(t.tailMode){case"hidden":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function Ye(t){var i=t.alternate!==null&&t.alternate.child===t.child,l=0,a=0;if(i)for(var h=t.child;h!==null;)l|=h.lanes|h.childLanes,a|=h.subtreeFlags&65011712,a|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)l|=h.lanes|h.childLanes,a|=h.subtreeFlags,a|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=a,t.childLanes=l,i}function Fv(t,i,l){var a=i.pendingProps;switch(hr(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(i),null;case 1:return Ye(i),null;case 3:return l=i.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Cn(et),ge(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(to(i)?Rn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,mr())),Ye(i),null;case 26:var h=i.type,m=i.memoizedState;return t===null?(Rn(i),m!==null?(Ye(i),xh(i,m)):(Ye(i),su(i,h,null,a,l))):m?m!==t.memoizedState?(Rn(i),Ye(i),xh(i,m)):(Ye(i),i.flags&=-16777217):(t=t.memoizedProps,t!==a&&Rn(i),Ye(i),su(i,h,t,a,l)),null;case 27:if($e(i),l=z.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==a&&Rn(i);else{if(!a){if(i.stateNode===null)throw Error(s(166));return Ye(i),null}t=se.current,to(i)?Qd(i):(t=Np(h,a,l),i.stateNode=t,Rn(i))}return Ye(i),null;case 5:if($e(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==a&&Rn(i);else{if(!a){if(i.stateNode===null)throw Error(s(166));return Ye(i),null}if(m=se.current,to(i))Qd(i);else{var S=Pl(z.current);switch(m){case 1:m=S.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=S.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=S.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof a.is=="string"?S.createElement("select",{is:a.is}):S.createElement("select"),a.multiple?m.multiple=!0:a.size&&(m.size=a.size);break;default:m=typeof a.is=="string"?S.createElement(h,{is:a.is}):S.createElement(h)}}m[dt]=i,m[Et]=a;e:for(S=i.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===i)break e;for(;S.sibling===null;){if(S.return===null||S.return===i)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}i.stateNode=m;e:switch(mt(m,h,a),h){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Rn(i)}}return Ye(i),su(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,l),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==a&&Rn(i);else{if(typeof a!="string"&&i.stateNode===null)throw Error(s(166));if(t=z.current,to(i)){if(t=i.stateNode,l=i.memoizedProps,a=null,h=ft,h!==null)switch(h.tag){case 27:case 5:a=h.memoizedProps}t[dt]=i,t=!!(t.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||mp(t.nodeValue,l)),t||$n(i,!0)}else t=Pl(t).createTextNode(a),t[dt]=i,i.stateNode=t}return Ye(i),null;case 31:if(l=i.memoizedState,t===null||t.memoizedState!==null){if(a=to(i),l!==null){if(t===null){if(!a)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[dt]=i}else Ci(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ye(i),t=!1}else l=mr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),t=!0;if(!t)return i.flags&256?(Gt(i),i):(Gt(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Ye(i),null;case 13:if(a=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=to(i),a!==null&&a.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[dt]=i}else Ci(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ye(i),h=!1}else h=mr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Gt(i),i):(Gt(i),null)}return Gt(i),(i.flags&128)!==0?(i.lanes=l,i):(l=a!==null,t=t!==null&&t.memoizedState!==null,l&&(a=i.child,h=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(h=a.alternate.memoizedState.cachePool.pool),m=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),m!==h&&(a.flags|=2048)),l!==t&&l&&(i.child.flags|=8192),wl(i,i.updateQueue),Ye(i),null);case 4:return ge(),t===null&&wu(i.stateNode.containerInfo),Ye(i),null;case 10:return Cn(i.type),Ye(i),null;case 19:if(Y(Qe),a=i.memoizedState,a===null)return Ye(i),null;if(h=(i.flags&128)!==0,m=a.rendering,m===null)if(h)us(a,!1);else{if(Xe!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=pl(t),m!==null){for(i.flags|=128,us(a,!1),t=m.updateQueue,i.updateQueue=t,wl(i,t),i.subtreeFlags=0,t=l,l=i.child;l!==null;)jd(l,t),l=l.sibling;return ee(Qe,Qe.current&1|2),Ie&&bn(i,a.treeForkCount),i.child}t=t.sibling}a.tail!==null&&Dt()>Dl&&(i.flags|=128,h=!0,us(a,!1),i.lanes=4194304)}else{if(!h)if(t=pl(m),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,wl(i,t),us(a,!0),a.tail===null&&a.tailMode==="hidden"&&!m.alternate&&!Ie)return Ye(i),null}else 2*Dt()-a.renderingStartTime>Dl&&l!==536870912&&(i.flags|=128,h=!0,us(a,!1),i.lanes=4194304);a.isBackwards?(m.sibling=i.child,i.child=m):(t=a.last,t!==null?t.sibling=m:i.child=m,a.last=m)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Dt(),t.sibling=null,l=Qe.current,ee(Qe,h?l&1|2:l&1),Ie&&bn(i,a.treeForkCount),t):(Ye(i),null);case 22:case 23:return Gt(i),Ar(),a=i.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(i.flags|=8192):a&&(i.flags|=8192),a?(l&536870912)!==0&&(i.flags&128)===0&&(Ye(i),i.subtreeFlags&6&&(i.flags|=8192)):Ye(i),l=i.updateQueue,l!==null&&wl(i,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==l&&(i.flags|=2048),t!==null&&Y(Ai),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Cn(et),Ye(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Yv(t,i){switch(hr(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Cn(et),ge(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return $e(i),null;case 31:if(i.memoizedState!==null){if(Gt(i),i.alternate===null)throw Error(s(340));Ci()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Gt(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ci()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Y(Qe),null;case 4:return ge(),null;case 10:return Cn(i.type),null;case 22:case 23:return Gt(i),Ar(),t!==null&&Y(Ai),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Cn(et),null;case 25:return null;default:return null}}function Sh(t,i){switch(hr(i),i.tag){case 3:Cn(et),ge();break;case 26:case 27:case 5:$e(i);break;case 4:ge();break;case 31:i.memoizedState!==null&&Gt(i);break;case 13:Gt(i);break;case 19:Y(Qe);break;case 10:Cn(i.type);break;case 22:case 23:Gt(i),Ar(),t!==null&&Y(Ai);break;case 24:Cn(et)}}function cs(t,i){try{var l=i.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var h=a.next;l=h;do{if((l.tag&t)===t){a=void 0;var m=l.create,S=l.inst;a=m(),S.destroy=a}l=l.next}while(l!==h)}}catch(b){Ge(i,i.return,b)}}function ti(t,i,l){try{var a=i.updateQueue,h=a!==null?a.lastEffect:null;if(h!==null){var m=h.next;a=m;do{if((a.tag&t)===t){var S=a.inst,b=S.destroy;if(b!==void 0){S.destroy=void 0,h=i;var N=l,L=b;try{L()}catch(O){Ge(h,N,O)}}}a=a.next}while(a!==m)}}catch(O){Ge(i,i.return,O)}}function _h(t){var i=t.updateQueue;if(i!==null){var l=t.stateNode;try{df(i,l)}catch(a){Ge(t,t.return,a)}}}function Th(t,i,l){l.props=ki(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(a){Ge(t,i,a)}}function ds(t,i){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof l=="function"?t.refCleanup=l(a):l.current=a}}catch(h){Ge(t,i,h)}}function mn(t,i){var l=t.ref,a=t.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(h){Ge(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(h){Ge(t,i,h)}else l.current=null}function bh(t){var i=t.type,l=t.memoizedProps,a=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(h){Ge(t,t.return,h)}}function lu(t,i,l){try{var a=t.stateNode;hx(a,t.type,l,i),a[Et]=i}catch(h){Ge(t,t.return,h)}}function Eh(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ri(t.type)||t.tag===4}function au(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Eh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ri(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ru(t,i,l){var a=t.tag;if(a===5||a===6)t=t.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(t),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Sn));else if(a!==4&&(a===27&&ri(t.type)&&(l=t.stateNode,i=null),t=t.child,t!==null))for(ru(t,i,l),t=t.sibling;t!==null;)ru(t,i,l),t=t.sibling}function Al(t,i,l){var a=t.tag;if(a===5||a===6)t=t.stateNode,i?l.insertBefore(t,i):l.appendChild(t);else if(a!==4&&(a===27&&ri(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Al(t,i,l),t=t.sibling;t!==null;)Al(t,i,l),t=t.sibling}function Ch(t){var i=t.stateNode,l=t.memoizedProps;try{for(var a=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);mt(i,a,l),i[dt]=t,i[Et]=l}catch(m){Ge(t,t.return,m)}}var Mn=!1,it=!1,uu=!1,Nh=typeof WeakSet=="function"?WeakSet:Set,ut=null;function jv(t,i){if(t=t.containerInfo,Mu=Kl,t=Hd(t),nr(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var h=a.anchorOffset,m=a.focusNode;a=a.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var S=0,b=-1,N=-1,L=0,O=0,J=t,H=null;t:for(;;){for(var q;J!==l||h!==0&&J.nodeType!==3||(b=S+h),J!==m||a!==0&&J.nodeType!==3||(N=S+a),J.nodeType===3&&(S+=J.nodeValue.length),(q=J.firstChild)!==null;)H=J,J=q;for(;;){if(J===t)break t;if(H===l&&++L===h&&(b=S),H===m&&++O===a&&(N=S),(q=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=q}l=b===-1||N===-1?null:{start:b,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(Iu={focusedElem:t,selectionRange:l},Kl=!1,ut=i;ut!==null;)if(i=ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,ut=t;else for(;ut!==null;){switch(i=ut,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(l=0;l<t.length;l++)h=t[l],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,l=i,h=m.memoizedProps,m=m.memoizedState,a=l.stateNode;try{var ae=ki(l.type,h);t=a.getSnapshotBeforeUpdate(ae,m),a.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Ge(l,l.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,l=t.nodeType,l===9)Uu(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Uu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,ut=t;break}ut=i.return}}function wh(t,i,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:Dn(t,l),a&4&&cs(5,l);break;case 1:if(Dn(t,l),a&4)if(t=l.stateNode,i===null)try{t.componentDidMount()}catch(S){Ge(l,l.return,S)}else{var h=ki(l.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Ge(l,l.return,S)}}a&64&&_h(l),a&512&&ds(l,l.return);break;case 3:if(Dn(t,l),a&64&&(t=l.updateQueue,t!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{df(t,i)}catch(S){Ge(l,l.return,S)}}break;case 27:i===null&&a&4&&Ch(l);case 26:case 5:Dn(t,l),i===null&&a&4&&bh(l),a&512&&ds(l,l.return);break;case 12:Dn(t,l);break;case 31:Dn(t,l),a&4&&Mh(t,l);break;case 13:Dn(t,l),a&4&&Ih(t,l),a&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=tx.bind(null,l),_x(t,l))));break;case 22:if(a=l.memoizedState!==null||Mn,!a){i=i!==null&&i.memoizedState!==null||it,h=Mn;var m=it;Mn=a,(it=i)&&!m?kn(t,l,(l.subtreeFlags&8772)!==0):Dn(t,l),Mn=h,it=m}break;case 30:break;default:Dn(t,l)}}function Ah(t){var i=t.alternate;i!==null&&(t.alternate=null,Ah(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Va(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var je=null,Nt=!1;function In(t,i,l){for(l=l.child;l!==null;)Rh(t,i,l),l=l.sibling}function Rh(t,i,l){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Lo,l)}catch{}switch(l.tag){case 26:it||mn(l,i),In(t,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:it||mn(l,i);var a=je,h=Nt;ri(l.type)&&(je=l.stateNode,Nt=!1),In(t,i,l),Ss(l.stateNode),je=a,Nt=h;break;case 5:it||mn(l,i);case 6:if(a=je,h=Nt,je=null,In(t,i,l),je=a,Nt=h,je!==null)if(Nt)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(l.stateNode)}catch(m){Ge(l,i,m)}else try{je.removeChild(l.stateNode)}catch(m){Ge(l,i,m)}break;case 18:je!==null&&(Nt?(t=je,_p(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),bo(t)):_p(je,l.stateNode));break;case 4:a=je,h=Nt,je=l.stateNode.containerInfo,Nt=!0,In(t,i,l),je=a,Nt=h;break;case 0:case 11:case 14:case 15:ti(2,l,i),it||ti(4,l,i),In(t,i,l);break;case 1:it||(mn(l,i),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Th(l,i,a)),In(t,i,l);break;case 21:In(t,i,l);break;case 22:it=(a=it)||l.memoizedState!==null,In(t,i,l),it=a;break;default:In(t,i,l)}}function Mh(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{bo(t)}catch(l){Ge(i,i.return,l)}}}function Ih(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{bo(t)}catch(l){Ge(i,i.return,l)}}function Jv(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Nh),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Nh),i;default:throw Error(s(435,t.tag))}}function Rl(t,i){var l=Jv(t);i.forEach(function(a){if(!l.has(a)){l.add(a);var h=nx.bind(null,t,a);a.then(h,h)}})}function wt(t,i){var l=i.deletions;if(l!==null)for(var a=0;a<l.length;a++){var h=l[a],m=t,S=i,b=S;e:for(;b!==null;){switch(b.tag){case 27:if(ri(b.type)){je=b.stateNode,Nt=!1;break e}break;case 5:je=b.stateNode,Nt=!1;break e;case 3:case 4:je=b.stateNode.containerInfo,Nt=!0;break e}b=b.return}if(je===null)throw Error(s(160));Rh(m,S,h),je=null,Nt=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Dh(i,t),i=i.sibling}var ln=null;function Dh(t,i){var l=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wt(i,t),At(t),a&4&&(ti(3,t,t.return),cs(3,t),ti(5,t,t.return));break;case 1:wt(i,t),At(t),a&512&&(it||l===null||mn(l,l.return)),a&64&&Mn&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var h=ln;if(wt(i,t),At(t),a&512&&(it||l===null||mn(l,l.return)),a&4){var m=l!==null?l.memoizedState:null;if(a=t.memoizedState,l===null)if(a===null)if(t.stateNode===null){e:{a=t.type,l=t.memoizedProps,h=h.ownerDocument||h;t:switch(a){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Go]||m[dt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(a),h.head.insertBefore(m,h.querySelector("head > title"))),mt(m,a,l),m[dt]=t,rt(m),a=m;break e;case"link":var S=Dp("link","href",h).get(a+(l.href||""));if(S){for(var b=0;b<S.length;b++)if(m=S[b],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(b,1);break t}}m=h.createElement(a),mt(m,a,l),h.head.appendChild(m);break;case"meta":if(S=Dp("meta","content",h).get(a+(l.content||""))){for(b=0;b<S.length;b++)if(m=S[b],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(b,1);break t}}m=h.createElement(a),mt(m,a,l),h.head.appendChild(m);break;default:throw Error(s(468,a))}m[dt]=t,rt(m),a=m}t.stateNode=a}else kp(h,t.type,t.stateNode);else t.stateNode=Ip(h,a,t.memoizedProps);else m!==a?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,a===null?kp(h,t.type,t.stateNode):Ip(h,a,t.memoizedProps)):a===null&&t.stateNode!==null&&lu(t,t.memoizedProps,l.memoizedProps)}break;case 27:wt(i,t),At(t),a&512&&(it||l===null||mn(l,l.return)),l!==null&&a&4&&lu(t,t.memoizedProps,l.memoizedProps);break;case 5:if(wt(i,t),At(t),a&512&&(it||l===null||mn(l,l.return)),t.flags&32){h=t.stateNode;try{Yi(h,"")}catch(ae){Ge(t,t.return,ae)}}a&4&&t.stateNode!=null&&(h=t.memoizedProps,lu(t,h,l!==null?l.memoizedProps:h)),a&1024&&(uu=!0);break;case 6:if(wt(i,t),At(t),a&4){if(t.stateNode===null)throw Error(s(162));a=t.memoizedProps,l=t.stateNode;try{l.nodeValue=a}catch(ae){Ge(t,t.return,ae)}}break;case 3:if(Yl=null,h=ln,ln=Ol(i.containerInfo),wt(i,t),ln=h,At(t),a&4&&l!==null&&l.memoizedState.isDehydrated)try{bo(i.containerInfo)}catch(ae){Ge(t,t.return,ae)}uu&&(uu=!1,kh(t));break;case 4:a=ln,ln=Ol(t.stateNode.containerInfo),wt(i,t),At(t),ln=a;break;case 12:wt(i,t),At(t);break;case 31:wt(i,t),At(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Rl(t,a)));break;case 13:wt(i,t),At(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Il=Dt()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Rl(t,a)));break;case 22:h=t.memoizedState!==null;var N=l!==null&&l.memoizedState!==null,L=Mn,O=it;if(Mn=L||h,it=O||N,wt(i,t),it=O,Mn=L,At(t),a&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(l===null||N||Mn||it||Ui(t)),l=null,i=t;;){if(i.tag===5||i.tag===26){if(l===null){N=l=i;try{if(m=N.stateNode,h)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{b=N.stateNode;var J=N.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ae){Ge(N,N.return,ae)}}}else if(i.tag===6){if(l===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ae){Ge(N,N.return,ae)}}}else if(i.tag===18){if(l===null){N=i;try{var q=N.stateNode;h?Tp(q,!0):Tp(N.stateNode,!1)}catch(ae){Ge(N,N.return,ae)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}a&4&&(a=t.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,Rl(t,l))));break;case 19:wt(i,t),At(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Rl(t,a)));break;case 30:break;case 21:break;default:wt(i,t),At(t)}}function At(t){var i=t.flags;if(i&2){try{for(var l,a=t.return;a!==null;){if(Eh(a)){l=a;break}a=a.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var h=l.stateNode,m=au(t);Al(t,m,h);break;case 5:var S=l.stateNode;l.flags&32&&(Yi(S,""),l.flags&=-33);var b=au(t);Al(t,b,S);break;case 3:case 4:var N=l.stateNode.containerInfo,L=au(t);ru(t,L,N);break;default:throw Error(s(161))}}catch(O){Ge(t,t.return,O)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function kh(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;kh(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Dn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)wh(t,i.alternate,i),i=i.sibling}function Ui(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ti(4,i,i.return),Ui(i);break;case 1:mn(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Th(i,i.return,l),Ui(i);break;case 27:Ss(i.stateNode);case 26:case 5:mn(i,i.return),Ui(i);break;case 22:i.memoizedState===null&&Ui(i);break;case 30:Ui(i);break;default:Ui(i)}t=t.sibling}}function kn(t,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var a=i.alternate,h=t,m=i,S=m.flags;switch(m.tag){case 0:case 11:case 15:kn(h,m,l),cs(4,m);break;case 1:if(kn(h,m,l),a=m,h=a.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Ge(a,a.return,L)}if(a=m,h=a.updateQueue,h!==null){var b=a.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)cf(N[h],b)}catch(L){Ge(a,a.return,L)}}l&&S&64&&_h(m),ds(m,m.return);break;case 27:Ch(m);case 26:case 5:kn(h,m,l),l&&a===null&&S&4&&bh(m),ds(m,m.return);break;case 12:kn(h,m,l);break;case 31:kn(h,m,l),l&&S&4&&Mh(h,m);break;case 13:kn(h,m,l),l&&S&4&&Ih(h,m);break;case 22:m.memoizedState===null&&kn(h,m,l),ds(m,m.return);break;case 30:break;default:kn(h,m,l)}i=i.sibling}}function cu(t,i){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&Qo(l))}function du(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Qo(t))}function an(t,i,l,a){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Uh(t,i,l,a),i=i.sibling}function Uh(t,i,l,a){var h=i.flags;switch(i.tag){case 0:case 11:case 15:an(t,i,l,a),h&2048&&cs(9,i);break;case 1:an(t,i,l,a);break;case 3:an(t,i,l,a),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Qo(t)));break;case 12:if(h&2048){an(t,i,l,a),t=i.stateNode;try{var m=i.memoizedProps,S=m.id,b=m.onPostCommit;typeof b=="function"&&b(S,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ge(i,i.return,N)}}else an(t,i,l,a);break;case 31:an(t,i,l,a);break;case 13:an(t,i,l,a);break;case 23:break;case 22:m=i.stateNode,S=i.alternate,i.memoizedState!==null?m._visibility&2?an(t,i,l,a):fs(t,i):m._visibility&2?an(t,i,l,a):(m._visibility|=2,fo(t,i,l,a,(i.subtreeFlags&10256)!==0||!1)),h&2048&&cu(S,i);break;case 24:an(t,i,l,a),h&2048&&du(i.alternate,i);break;default:an(t,i,l,a)}}function fo(t,i,l,a,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,S=i,b=l,N=a,L=S.flags;switch(S.tag){case 0:case 11:case 15:fo(m,S,b,N,h),cs(8,S);break;case 23:break;case 22:var O=S.stateNode;S.memoizedState!==null?O._visibility&2?fo(m,S,b,N,h):fs(m,S):(O._visibility|=2,fo(m,S,b,N,h)),h&&L&2048&&cu(S.alternate,S);break;case 24:fo(m,S,b,N,h),h&&L&2048&&du(S.alternate,S);break;default:fo(m,S,b,N,h)}i=i.sibling}}function fs(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=t,a=i,h=a.flags;switch(a.tag){case 22:fs(l,a),h&2048&&cu(a.alternate,a);break;case 24:fs(l,a),h&2048&&du(a.alternate,a);break;default:fs(l,a)}i=i.sibling}}var hs=8192;function ho(t,i,l){if(t.subtreeFlags&hs)for(t=t.child;t!==null;)Lh(t,i,l),t=t.sibling}function Lh(t,i,l){switch(t.tag){case 26:ho(t,i,l),t.flags&hs&&t.memoizedState!==null&&kx(l,ln,t.memoizedState,t.memoizedProps);break;case 5:ho(t,i,l);break;case 3:case 4:var a=ln;ln=Ol(t.stateNode.containerInfo),ho(t,i,l),ln=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=hs,hs=16777216,ho(t,i,l),hs=a):ho(t,i,l));break;default:ho(t,i,l)}}function zh(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ps(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var a=i[l];ut=a,Gh(a,t)}zh(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hh(t),t=t.sibling}function Hh(t){switch(t.tag){case 0:case 11:case 15:ps(t),t.flags&2048&&ti(9,t,t.return);break;case 3:ps(t);break;case 12:ps(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ml(t)):ps(t);break;default:ps(t)}}function Ml(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var a=i[l];ut=a,Gh(a,t)}zh(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ti(8,i,i.return),Ml(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Ml(i));break;default:Ml(i)}t=t.sibling}}function Gh(t,i){for(;ut!==null;){var l=ut;switch(l.tag){case 0:case 11:case 15:ti(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Qo(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,ut=a;else e:for(l=t;ut!==null;){a=ut;var h=a.sibling,m=a.return;if(Ah(a),a===l){ut=null;break e}if(h!==null){h.return=m,ut=h;break e}ut=m}}}var $v={getCacheForType:function(t){var i=ht(et),l=i.data.get(t);return l===void 0&&(l=t(),i.data.set(t,l)),l},cacheSignal:function(){return ht(et).controller.signal}},Kv=typeof WeakMap=="function"?WeakMap:Map,ze=0,Oe=null,we=null,Re=0,He=0,Vt=null,ni=!1,po=!1,fu=!1,Un=0,Xe=0,ii=0,Li=0,hu=0,qt=0,mo=0,ms=null,Rt=null,pu=!1,Il=0,Vh=0,Dl=1/0,kl=null,oi=null,lt=0,si=null,go=null,Ln=0,mu=0,gu=null,qh=null,gs=0,yu=null;function Bt(){return(ze&2)!==0&&Re!==0?Re&-Re:w.T!==null?bu():td()}function Bh(){if(qt===0)if((Re&536870912)===0||Ie){var t=Bs;Bs<<=1,(Bs&3932160)===0&&(Bs=262144),qt=t}else qt=536870912;return t=Ht.current,t!==null&&(t.flags|=32),qt}function Mt(t,i,l){(t===Oe&&(He===2||He===9)||t.cancelPendingCommit!==null)&&(yo(t,0),li(t,Re,qt,!1)),Ho(t,l),((ze&2)===0||t!==Oe)&&(t===Oe&&((ze&2)===0&&(Li|=l),Xe===4&&li(t,Re,qt,!1)),gn(t))}function Ph(t,i,l){if((ze&6)!==0)throw Error(s(327));var a=!l&&(i&127)===0&&(i&t.expiredLanes)===0||zo(t,i),h=a?Zv(t,i):xu(t,i,!0),m=a;do{if(h===0){po&&!a&&li(t,i,0,!1);break}else{if(l=t.current.alternate,m&&!Xv(l)){h=xu(t,i,!1),m=!1;continue}if(h===2){if(m=i,t.errorRecoveryDisabledLanes&m)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var b=t;h=ms;var N=b.current.memoizedState.isDehydrated;if(N&&(yo(b,S).flags|=256),S=xu(b,S,!1),S!==2){if(fu&&!N){b.errorRecoveryDisabledLanes|=m,Li|=m,h=4;break e}m=Rt,Rt=h,m!==null&&(Rt===null?Rt=m:Rt.push.apply(Rt,m))}h=S}if(m=!1,h!==2)continue}}if(h===1){yo(t,0),li(t,i,0,!0);break}e:{switch(a=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:li(a,i,qt,!ni);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Il+300-Dt(),10<h)){if(li(a,i,qt,!ni),Os(a,0,!0)!==0)break e;Ln=i,a.timeoutHandle=xp(Oh.bind(null,a,l,Rt,kl,pu,i,qt,Li,mo,ni,m,"Throttled",-0,0),h);break e}Oh(a,l,Rt,kl,pu,i,qt,Li,mo,ni,m,null,-0,0)}}break}while(!0);gn(t)}function Oh(t,i,l,a,h,m,S,b,N,L,O,J,H,q){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sn},Lh(i,m,J);var ae=(m&62914560)===m?Il-Dt():(m&4194048)===m?Vh-Dt():0;if(ae=Ux(J,ae),ae!==null){Ln=m,t.cancelPendingCommit=ae(Qh.bind(null,t,i,m,l,a,h,S,b,N,O,J,null,H,q)),li(t,m,S,!L);return}}Qh(t,i,m,l,a,h,S,b,N)}function Xv(t){for(var i=t;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var h=l[a],m=h.getSnapshot;h=h.value;try{if(!Lt(m(),h))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function li(t,i,l,a){i&=~hu,i&=~Li,t.suspendedLanes|=i,t.pingedLanes&=~i,a&&(t.warmLanes|=i),a=t.expirationTimes;for(var h=i;0<h;){var m=31-Ut(h),S=1<<m;a[m]=-1,h&=~S}l!==0&&Zc(t,l,i)}function Ul(){return(ze&6)===0?(ys(0),!1):!0}function vu(){if(we!==null){if(He===0)var t=we.return;else t=we,En=Ni=null,Ur(t),lo=null,Wo=0,t=we;for(;t!==null;)Sh(t.alternate,t),t=t.return;we=null}}function yo(t,i){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,gx(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Ln=0,vu(),Oe=t,we=l=Tn(t.current,null),Re=i,He=0,Vt=null,ni=!1,po=zo(t,i),fu=!1,mo=qt=hu=Li=ii=Xe=0,Rt=ms=null,pu=!1,(i&8)!==0&&(i|=i&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=i;0<a;){var h=31-Ut(a),m=1<<h;i|=t[h],a&=~m}return Un=i,tl(),l}function Fh(t,i){Te=null,w.H=as,i===so||i===ul?(i=lf(),He=3):i===Tr?(i=lf(),He=4):He=i===Xr?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Vt=i,we===null&&(Xe=1,bl(t,Yt(i,t.current)))}function Yh(){var t=Ht.current;return t===null?!0:(Re&4194048)===Re?Kt===null:(Re&62914560)===Re||(Re&536870912)!==0?t===Kt:!1}function jh(){var t=w.H;return w.H=as,t===null?as:t}function Jh(){var t=w.A;return w.A=$v,t}function Ll(){Xe=4,ni||(Re&4194048)!==Re&&Ht.current!==null||(po=!0),(ii&134217727)===0&&(Li&134217727)===0||Oe===null||li(Oe,Re,qt,!1)}function xu(t,i,l){var a=ze;ze|=2;var h=jh(),m=Jh();(Oe!==t||Re!==i)&&(kl=null,yo(t,i)),i=!1;var S=Xe;e:do try{if(He!==0&&we!==null){var b=we,N=Vt;switch(He){case 8:vu(),S=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(i=!0);var L=He;if(He=0,Vt=null,vo(t,b,N,L),l&&po){S=0;break e}break;default:L=He,He=0,Vt=null,vo(t,b,N,L)}}Qv(),S=Xe;break}catch(O){Fh(t,O)}while(!0);return i&&t.shellSuspendCounter++,En=Ni=null,ze=a,w.H=h,w.A=m,we===null&&(Oe=null,Re=0,tl()),S}function Qv(){for(;we!==null;)$h(we)}function Zv(t,i){var l=ze;ze|=2;var a=jh(),h=Jh();Oe!==t||Re!==i?(kl=null,Dl=Dt()+500,yo(t,i)):po=zo(t,i);e:do try{if(He!==0&&we!==null){i=we;var m=Vt;t:switch(He){case 1:He=0,Vt=null,vo(t,i,m,1);break;case 2:case 9:if(of(m)){He=0,Vt=null,Kh(i);break}i=function(){He!==2&&He!==9||Oe!==t||(He=7),gn(t)},m.then(i,i);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:of(m)?(He=0,Vt=null,Kh(i)):(He=0,Vt=null,vo(t,i,m,7));break;case 5:var S=null;switch(we.tag){case 26:S=we.memoizedState;case 5:case 27:var b=we;if(S?Up(S):b.stateNode.complete){He=0,Vt=null;var N=b.sibling;if(N!==null)we=N;else{var L=b.return;L!==null?(we=L,zl(L)):we=null}break t}}He=0,Vt=null,vo(t,i,m,5);break;case 6:He=0,Vt=null,vo(t,i,m,6);break;case 8:vu(),Xe=6;break e;default:throw Error(s(462))}}Wv();break}catch(O){Fh(t,O)}while(!0);return En=Ni=null,w.H=a,w.A=h,ze=l,we!==null?0:(Oe=null,Re=0,tl(),Xe)}function Wv(){for(;we!==null&&!Ty();)$h(we)}function $h(t){var i=vh(t.alternate,t,Un);t.memoizedProps=t.pendingProps,i===null?zl(t):we=i}function Kh(t){var i=t,l=i.alternate;switch(i.tag){case 15:case 0:i=fh(l,i,i.pendingProps,i.type,void 0,Re);break;case 11:i=fh(l,i,i.pendingProps,i.type.render,i.ref,Re);break;case 5:Ur(i);default:Sh(l,i),i=we=jd(i,Un),i=vh(l,i,Un)}t.memoizedProps=t.pendingProps,i===null?zl(t):we=i}function vo(t,i,l,a){En=Ni=null,Ur(i),lo=null,Wo=0;var h=i.return;try{if(Bv(t,h,i,l,Re)){Xe=1,bl(t,Yt(l,t.current)),we=null;return}}catch(m){if(h!==null)throw we=h,m;Xe=1,bl(t,Yt(l,t.current)),we=null;return}i.flags&32768?(Ie||a===1?t=!0:po||(Re&536870912)!==0?t=!1:(ni=t=!0,(a===2||a===9||a===3||a===6)&&(a=Ht.current,a!==null&&a.tag===13&&(a.flags|=16384))),Xh(i,t)):zl(i)}function zl(t){var i=t;do{if((i.flags&32768)!==0){Xh(i,ni);return}t=i.return;var l=Fv(i.alternate,i,Un);if(l!==null){we=l;return}if(i=i.sibling,i!==null){we=i;return}we=i=t}while(i!==null);Xe===0&&(Xe=5)}function Xh(t,i){do{var l=Yv(t.alternate,t);if(l!==null){l.flags&=32767,we=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(t=t.sibling,t!==null)){we=t;return}we=t=l}while(t!==null);Xe=6,we=null}function Qh(t,i,l,a,h,m,S,b,N){t.cancelPendingCommit=null;do Hl();while(lt!==0);if((ze&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=ar,Dy(t,l,m,S,b,N),t===Oe&&(we=Oe=null,Re=0),go=i,si=t,Ln=l,mu=m,gu=h,qh=a,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ix(Vs,function(){return np(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||a){a=w.T,w.T=null,h=P.p,P.p=2,S=ze,ze|=4;try{jv(t,i,l)}finally{ze=S,P.p=h,w.T=a}}lt=1,Zh(),Wh(),ep()}}function Zh(){if(lt===1){lt=0;var t=si,i=go,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=w.T,w.T=null;var a=P.p;P.p=2;var h=ze;ze|=4;try{Dh(i,t);var m=Iu,S=Hd(t.containerInfo),b=m.focusedElem,N=m.selectionRange;if(S!==b&&b&&b.ownerDocument&&zd(b.ownerDocument.documentElement,b)){if(N!==null&&nr(b)){var L=N.start,O=N.end;if(O===void 0&&(O=L),"selectionStart"in b)b.selectionStart=L,b.selectionEnd=Math.min(O,b.value.length);else{var J=b.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var q=H.getSelection(),ae=b.textContent.length,pe=Math.min(N.start,ae),Pe=N.end===void 0?pe:Math.min(N.end,ae);!q.extend&&pe>Pe&&(S=Pe,Pe=pe,pe=S);var D=Ld(b,pe),M=Ld(b,Pe);if(D&&M&&(q.rangeCount!==1||q.anchorNode!==D.node||q.anchorOffset!==D.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var U=J.createRange();U.setStart(D.node,D.offset),q.removeAllRanges(),pe>Pe?(q.addRange(U),q.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),q.addRange(U))}}}}for(J=[],q=b;q=q.parentNode;)q.nodeType===1&&J.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<J.length;b++){var j=J[b];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}Kl=!!Mu,Iu=Mu=null}finally{ze=h,P.p=a,w.T=l}}t.current=i,lt=2}}function Wh(){if(lt===2){lt=0;var t=si,i=go,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=w.T,w.T=null;var a=P.p;P.p=2;var h=ze;ze|=4;try{wh(t,i.alternate,i)}finally{ze=h,P.p=a,w.T=l}}lt=3}}function ep(){if(lt===4||lt===3){lt=0,by();var t=si,i=go,l=Ln,a=qh;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?lt=5:(lt=0,go=si=null,tp(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(oi=null),Ha(l),i=i.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Lo,i,void 0,(i.current.flags&128)===128)}catch{}if(a!==null){i=w.T,h=P.p,P.p=2,w.T=null;try{for(var m=t.onRecoverableError,S=0;S<a.length;S++){var b=a[S];m(b.value,{componentStack:b.stack})}}finally{w.T=i,P.p=h}}(Ln&3)!==0&&Hl(),gn(t),h=t.pendingLanes,(l&261930)!==0&&(h&42)!==0?t===yu?gs++:(gs=0,yu=t):gs=0,ys(0)}}function tp(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Qo(i)))}function Hl(){return Zh(),Wh(),ep(),np()}function np(){if(lt!==5)return!1;var t=si,i=mu;mu=0;var l=Ha(Ln),a=w.T,h=P.p;try{P.p=32>l?32:l,w.T=null,l=gu,gu=null;var m=si,S=Ln;if(lt=0,go=si=null,Ln=0,(ze&6)!==0)throw Error(s(331));var b=ze;if(ze|=4,Hh(m.current),Uh(m,m.current,S,l),ze=b,ys(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Lo,m)}catch{}return!0}finally{P.p=h,w.T=a,tp(t,i)}}function ip(t,i,l){i=Yt(l,i),i=Kr(t.stateNode,i,2),t=Zn(t,i,2),t!==null&&(Ho(t,2),gn(t))}function Ge(t,i,l){if(t.tag===3)ip(t,t,l);else for(;i!==null;){if(i.tag===3){ip(i,t,l);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(oi===null||!oi.has(a))){t=Yt(l,t),l=oh(2),a=Zn(i,l,2),a!==null&&(sh(l,a,i,t),Ho(a,2),gn(a));break}}i=i.return}}function Su(t,i,l){var a=t.pingCache;if(a===null){a=t.pingCache=new Kv;var h=new Set;a.set(i,h)}else h=a.get(i),h===void 0&&(h=new Set,a.set(i,h));h.has(l)||(fu=!0,h.add(l),t=ex.bind(null,t,i,l),i.then(t,t))}function ex(t,i,l){var a=t.pingCache;a!==null&&a.delete(i),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Oe===t&&(Re&l)===l&&(Xe===4||Xe===3&&(Re&62914560)===Re&&300>Dt()-Il?(ze&2)===0&&yo(t,0):hu|=l,mo===Re&&(mo=0)),gn(t)}function op(t,i){i===0&&(i=Qc()),t=bi(t,i),t!==null&&(Ho(t,i),gn(t))}function tx(t){var i=t.memoizedState,l=0;i!==null&&(l=i.retryLane),op(t,l)}function nx(t,i){var l=0;switch(t.tag){case 31:case 13:var a=t.stateNode,h=t.memoizedState;h!==null&&(l=h.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(i),op(t,l)}function ix(t,i){return fn(t,i)}var Gl=null,xo=null,_u=!1,Vl=!1,Tu=!1,ai=0;function gn(t){t!==xo&&t.next===null&&(xo===null?Gl=xo=t:xo=xo.next=t),Vl=!0,_u||(_u=!0,sx())}function ys(t,i){if(!Tu&&Vl){Tu=!0;do for(var l=!1,a=Gl;a!==null;){if(t!==0){var h=a.pendingLanes;if(h===0)var m=0;else{var S=a.suspendedLanes,b=a.pingedLanes;m=(1<<31-Ut(42|t)+1)-1,m&=h&~(S&~b),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,rp(a,m))}else m=Re,m=Os(a,a===Oe?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(m&3)===0||zo(a,m)||(l=!0,rp(a,m));a=a.next}while(l);Tu=!1}}function ox(){sp()}function sp(){Vl=_u=!1;var t=0;ai!==0&&mx()&&(t=ai);for(var i=Dt(),l=null,a=Gl;a!==null;){var h=a.next,m=lp(a,i);m===0?(a.next=null,l===null?Gl=h:l.next=h,h===null&&(xo=l)):(l=a,(t!==0||(m&3)!==0)&&(Vl=!0)),a=h}lt!==0&&lt!==5||ys(t),ai!==0&&(ai=0)}function lp(t,i){for(var l=t.suspendedLanes,a=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var S=31-Ut(m),b=1<<S,N=h[S];N===-1?((b&l)===0||(b&a)!==0)&&(h[S]=Iy(b,i)):N<=i&&(t.expiredLanes|=b),m&=~b}if(i=Oe,l=Re,l=Os(t,t===i?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,l===0||t===i&&(He===2||He===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&Gi(a),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||zo(t,l)){if(i=l&-l,i===t.callbackPriority)return i;switch(a!==null&&Gi(a),Ha(l)){case 2:case 8:l=Kc;break;case 32:l=Vs;break;case 268435456:l=Xc;break;default:l=Vs}return a=ap.bind(null,t),l=fn(l,a),t.callbackPriority=i,t.callbackNode=l,i}return a!==null&&a!==null&&Gi(a),t.callbackPriority=2,t.callbackNode=null,2}function ap(t,i){if(lt!==0&&lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(Hl()&&t.callbackNode!==l)return null;var a=Re;return a=Os(t,t===Oe?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(Ph(t,a,i),lp(t,Dt()),t.callbackNode!=null&&t.callbackNode===l?ap.bind(null,t):null)}function rp(t,i){if(Hl())return null;Ph(t,i,!0)}function sx(){yx(function(){(ze&6)!==0?fn($c,ox):sp()})}function bu(){if(ai===0){var t=io;t===0&&(t=qs,qs<<=1,(qs&261888)===0&&(qs=256)),ai=t}return ai}function up(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Js(""+t)}function cp(t,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,t.id&&l.setAttribute("form",t.id),i.parentNode.insertBefore(l,i),t=new FormData(t),l.parentNode.removeChild(l),t}function lx(t,i,l,a,h){if(i==="submit"&&l&&l.stateNode===h){var m=up((h[Et]||null).action),S=a.submitter;S&&(i=(i=S[Et]||null)?up(i.formAction):S.getAttribute("formAction"),i!==null&&(m=i,S=null));var b=new Qs("action","action",null,a,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ai!==0){var N=S?cp(h,S):new FormData(h);Or(l,{pending:!0,data:N,method:h.method,action:m},null,N)}}else typeof m=="function"&&(b.preventDefault(),N=S?cp(h,S):new FormData(h),Or(l,{pending:!0,data:N,method:h.method,action:m},m,N))},currentTarget:h}]})}}for(var Eu=0;Eu<lr.length;Eu++){var Cu=lr[Eu],ax=Cu.toLowerCase(),rx=Cu[0].toUpperCase()+Cu.slice(1);sn(ax,"on"+rx)}sn(qd,"onAnimationEnd"),sn(Bd,"onAnimationIteration"),sn(Pd,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(Ev,"onTransitionRun"),sn(Cv,"onTransitionStart"),sn(Nv,"onTransitionCancel"),sn(Od,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ux=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vs));function dp(t,i){i=(i&4)!==0;for(var l=0;l<t.length;l++){var a=t[l],h=a.event;a=a.listeners;e:{var m=void 0;if(i)for(var S=a.length-1;0<=S;S--){var b=a[S],N=b.instance,L=b.currentTarget;if(b=b.listener,N!==m&&h.isPropagationStopped())break e;m=b,h.currentTarget=L;try{m(h)}catch(O){el(O)}h.currentTarget=null,m=N}else for(S=0;S<a.length;S++){if(b=a[S],N=b.instance,L=b.currentTarget,b=b.listener,N!==m&&h.isPropagationStopped())break e;m=b,h.currentTarget=L;try{m(h)}catch(O){el(O)}h.currentTarget=null,m=N}}}}function Ae(t,i){var l=i[Ga];l===void 0&&(l=i[Ga]=new Set);var a=t+"__bubble";l.has(a)||(fp(i,t,2,!1),l.add(a))}function Nu(t,i,l){var a=0;i&&(a|=4),fp(l,t,a,i)}var ql="_reactListening"+Math.random().toString(36).slice(2);function wu(t){if(!t[ql]){t[ql]=!0,od.forEach(function(l){l!=="selectionchange"&&(ux.has(l)||Nu(l,!1,t),Nu(l,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ql]||(i[ql]=!0,Nu("selectionchange",!1,i))}}function fp(t,i,l,a){switch(Bp(i)){case 2:var h=Hx;break;case 8:h=Gx;break;default:h=Pu}l=h.bind(null,i,l,t),h=void 0,!Ja||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),a?h!==void 0?t.addEventListener(i,l,{capture:!0,passive:h}):t.addEventListener(i,l,!0):h!==void 0?t.addEventListener(i,l,{passive:h}):t.addEventListener(i,l,!1)}function Au(t,i,l,a,h){var m=a;if((i&1)===0&&(i&2)===0&&a!==null)e:for(;;){if(a===null)return;var S=a.tag;if(S===3||S===4){var b=a.stateNode.containerInfo;if(b===h)break;if(S===4)for(S=a.return;S!==null;){var N=S.tag;if((N===3||N===4)&&S.stateNode.containerInfo===h)return;S=S.return}for(;b!==null;){if(S=qi(b),S===null)return;if(N=S.tag,N===5||N===6||N===26||N===27){a=m=S;continue e}b=b.parentNode}}a=a.return}gd(function(){var L=m,O=Ya(l),J=[];e:{var H=Fd.get(t);if(H!==void 0){var q=Qs,ae=t;switch(t){case"keypress":if(Ks(l)===0)break e;case"keydown":case"keyup":q=nv;break;case"focusin":ae="focus",q=Qa;break;case"focusout":ae="blur",q=Qa;break;case"beforeblur":case"afterblur":q=Qa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Fy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=sv;break;case qd:case Bd:case Pd:q=Jy;break;case Od:q=av;break;case"scroll":case"scrollend":q=Py;break;case"wheel":q=uv;break;case"copy":case"cut":case"paste":q=Ky;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=_d;break;case"toggle":case"beforetoggle":q=dv}var pe=(i&4)!==0,Pe=!pe&&(t==="scroll"||t==="scrollend"),D=pe?H!==null?H+"Capture":null:H;pe=[];for(var M=L,U;M!==null;){var j=M;if(U=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||U===null||D===null||(j=qo(M,D),j!=null&&pe.push(xs(M,j,U))),Pe)break;M=M.return}0<pe.length&&(H=new q(H,ae,null,l,O),J.push({event:H,listeners:pe}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",H&&l!==Fa&&(ae=l.relatedTarget||l.fromElement)&&(qi(ae)||ae[Vi]))break e;if((q||H)&&(H=O.window===O?O:(H=O.ownerDocument)?H.defaultView||H.parentWindow:window,q?(ae=l.relatedTarget||l.toElement,q=L,ae=ae?qi(ae):null,ae!==null&&(Pe=c(ae),pe=ae.tag,ae!==Pe||pe!==5&&pe!==27&&pe!==6)&&(ae=null)):(q=null,ae=L),q!==ae)){if(pe=xd,j="onMouseLeave",D="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(pe=_d,j="onPointerLeave",D="onPointerEnter",M="pointer"),Pe=q==null?H:Vo(q),U=ae==null?H:Vo(ae),H=new pe(j,M+"leave",q,l,O),H.target=Pe,H.relatedTarget=U,j=null,qi(O)===L&&(pe=new pe(D,M+"enter",ae,l,O),pe.target=U,pe.relatedTarget=Pe,j=pe),Pe=j,q&&ae)t:{for(pe=cx,D=q,M=ae,U=0,j=D;j;j=pe(j))U++;j=0;for(var fe=M;fe;fe=pe(fe))j++;for(;0<U-j;)D=pe(D),U--;for(;0<j-U;)M=pe(M),j--;for(;U--;){if(D===M||M!==null&&D===M.alternate){pe=D;break t}D=pe(D),M=pe(M)}pe=null}else pe=null;q!==null&&hp(J,H,q,pe,!1),ae!==null&&Pe!==null&&hp(J,Pe,ae,pe,!0)}}e:{if(H=L?Vo(L):window,q=H.nodeName&&H.nodeName.toLowerCase(),q==="select"||q==="input"&&H.type==="file")var ke=Rd;else if(wd(H))if(Md)ke=_v;else{ke=xv;var ce=vv}else q=H.nodeName,!q||q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?L&&Oa(L.elementType)&&(ke=Rd):ke=Sv;if(ke&&(ke=ke(t,L))){Ad(J,ke,l,O);break e}ce&&ce(t,H,L),t==="focusout"&&L&&H.type==="number"&&L.memoizedProps.value!=null&&Pa(H,"number",H.value)}switch(ce=L?Vo(L):window,t){case"focusin":(wd(ce)||ce.contentEditable==="true")&&(Ki=ce,ir=L,$o=null);break;case"focusout":$o=ir=Ki=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,Gd(J,l,O);break;case"selectionchange":if(bv)break;case"keydown":case"keyup":Gd(J,l,O)}var be;if(Wa)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else $i?Cd(t,l)&&(Me="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Me="onCompositionStart");Me&&(Td&&l.locale!=="ko"&&($i||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&$i&&(be=yd()):(Yn=O,$a="value"in Yn?Yn.value:Yn.textContent,$i=!0)),ce=Bl(L,Me),0<ce.length&&(Me=new Sd(Me,t,null,l,O),J.push({event:Me,listeners:ce}),be?Me.data=be:(be=Nd(l),be!==null&&(Me.data=be)))),(be=hv?pv(t,l):mv(t,l))&&(Me=Bl(L,"onBeforeInput"),0<Me.length&&(ce=new Sd("onBeforeInput","beforeinput",null,l,O),J.push({event:ce,listeners:Me}),ce.data=be)),lx(J,t,L,l,O)}dp(J,i)})}function xs(t,i,l){return{instance:t,listener:i,currentTarget:l}}function Bl(t,i){for(var l=i+"Capture",a=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=qo(t,l),h!=null&&a.unshift(xs(t,h,m)),h=qo(t,i),h!=null&&a.push(xs(t,h,m))),t.tag===3)return a;t=t.return}return[]}function cx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function hp(t,i,l,a,h){for(var m=i._reactName,S=[];l!==null&&l!==a;){var b=l,N=b.alternate,L=b.stateNode;if(b=b.tag,N!==null&&N===a)break;b!==5&&b!==26&&b!==27||L===null||(N=L,h?(L=qo(l,m),L!=null&&S.unshift(xs(l,L,N))):h||(L=qo(l,m),L!=null&&S.push(xs(l,L,N)))),l=l.return}S.length!==0&&t.push({event:i,listeners:S})}var dx=/\r\n?/g,fx=/\u0000|\uFFFD/g;function pp(t){return(typeof t=="string"?t:""+t).replace(dx,`
`).replace(fx,"")}function mp(t,i){return i=pp(i),pp(t)===i}function Be(t,i,l,a,h,m){switch(l){case"children":typeof a=="string"?i==="body"||i==="textarea"&&a===""||Yi(t,a):(typeof a=="number"||typeof a=="bigint")&&i!=="body"&&Yi(t,""+a);break;case"className":Ys(t,"class",a);break;case"tabIndex":Ys(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ys(t,l,a);break;case"style":pd(t,a,m);break;case"data":if(i!=="object"){Ys(t,"data",a);break}case"src":case"href":if(a===""&&(i!=="a"||l!=="href")){t.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(l);break}a=Js(""+a),t.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(i!=="input"&&Be(t,i,"name",h.name,h,null),Be(t,i,"formEncType",h.formEncType,h,null),Be(t,i,"formMethod",h.formMethod,h,null),Be(t,i,"formTarget",h.formTarget,h,null)):(Be(t,i,"encType",h.encType,h,null),Be(t,i,"method",h.method,h,null),Be(t,i,"target",h.target,h,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(l);break}a=Js(""+a),t.setAttribute(l,a);break;case"onClick":a!=null&&(t.onclick=Sn);break;case"onScroll":a!=null&&Ae("scroll",t);break;case"onScrollEnd":a!=null&&Ae("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=l}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}l=Js(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(l,""+a):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":a===!0?t.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(l,a):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(l,a):t.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(l):t.setAttribute(l,a);break;case"popover":Ae("beforetoggle",t),Ae("toggle",t),Fs(t,"popover",a);break;case"xlinkActuate":xn(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":xn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":xn(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":xn(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":xn(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":xn(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":xn(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":xn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":xn(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Fs(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=qy.get(l)||l,Fs(t,l,a))}}function Ru(t,i,l,a,h,m){switch(l){case"style":pd(t,a,m);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=l}}break;case"children":typeof a=="string"?Yi(t,a):(typeof a=="number"||typeof a=="bigint")&&Yi(t,""+a);break;case"onScroll":a!=null&&Ae("scroll",t);break;case"onScrollEnd":a!=null&&Ae("scrollend",t);break;case"onClick":a!=null&&(t.onclick=Sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sd.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(h=l.endsWith("Capture"),i=l.slice(2,h?l.length-7:void 0),m=t[Et]||null,m=m!=null?m[l]:null,typeof m=="function"&&t.removeEventListener(i,m,h),typeof a=="function")){typeof m!="function"&&m!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(i,a,h);break e}l in t?t[l]=a:a===!0?t.setAttribute(l,""):Fs(t,l,a)}}}function mt(t,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",t),Ae("load",t);var a=!1,h=!1,m;for(m in l)if(l.hasOwnProperty(m)){var S=l[m];if(S!=null)switch(m){case"src":a=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Be(t,i,m,S,l,null)}}h&&Be(t,i,"srcSet",l.srcSet,l,null),a&&Be(t,i,"src",l.src,l,null);return;case"input":Ae("invalid",t);var b=m=S=h=null,N=null,L=null;for(a in l)if(l.hasOwnProperty(a)){var O=l[a];if(O!=null)switch(a){case"name":h=O;break;case"type":S=O;break;case"checked":N=O;break;case"defaultChecked":L=O;break;case"value":m=O;break;case"defaultValue":b=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,i));break;default:Be(t,i,a,O,l,null)}}cd(t,m,b,N,L,S,h,!1);return;case"select":Ae("invalid",t),a=S=m=null;for(h in l)if(l.hasOwnProperty(h)&&(b=l[h],b!=null))switch(h){case"value":m=b;break;case"defaultValue":S=b;break;case"multiple":a=b;default:Be(t,i,h,b,l,null)}i=m,l=S,t.multiple=!!a,i!=null?Fi(t,!!a,i,!1):l!=null&&Fi(t,!!a,l,!0);return;case"textarea":Ae("invalid",t),m=h=a=null;for(S in l)if(l.hasOwnProperty(S)&&(b=l[S],b!=null))switch(S){case"value":a=b;break;case"defaultValue":h=b;break;case"children":m=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Be(t,i,S,b,l,null)}fd(t,a,h,m);return;case"option":for(N in l)if(l.hasOwnProperty(N)&&(a=l[N],a!=null))switch(N){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Be(t,i,N,a,l,null)}return;case"dialog":Ae("beforetoggle",t),Ae("toggle",t),Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":Ae("load",t);break;case"video":case"audio":for(a=0;a<vs.length;a++)Ae(vs[a],t);break;case"image":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"embed":case"source":case"link":Ae("error",t),Ae("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in l)if(l.hasOwnProperty(L)&&(a=l[L],a!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Be(t,i,L,a,l,null)}return;default:if(Oa(i)){for(O in l)l.hasOwnProperty(O)&&(a=l[O],a!==void 0&&Ru(t,i,O,a,l,void 0));return}}for(b in l)l.hasOwnProperty(b)&&(a=l[b],a!=null&&Be(t,i,b,a,l,null))}function hx(t,i,l,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,S=null,b=null,N=null,L=null,O=null;for(q in l){var J=l[q];if(l.hasOwnProperty(q)&&J!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":N=J;default:a.hasOwnProperty(q)||Be(t,i,q,null,a,J)}}for(var H in a){var q=a[H];if(J=l[H],a.hasOwnProperty(H)&&(q!=null||J!=null))switch(H){case"type":m=q;break;case"name":h=q;break;case"checked":L=q;break;case"defaultChecked":O=q;break;case"value":S=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==J&&Be(t,i,H,q,a,J)}}Ba(t,S,b,N,L,O,m,h);return;case"select":q=S=b=H=null;for(m in l)if(N=l[m],l.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":q=N;default:a.hasOwnProperty(m)||Be(t,i,m,null,a,N)}for(h in a)if(m=a[h],N=l[h],a.hasOwnProperty(h)&&(m!=null||N!=null))switch(h){case"value":H=m;break;case"defaultValue":b=m;break;case"multiple":S=m;default:m!==N&&Be(t,i,h,m,a,N)}i=b,l=S,a=q,H!=null?Fi(t,!!l,H,!1):!!a!=!!l&&(i!=null?Fi(t,!!l,i,!0):Fi(t,!!l,l?[]:"",!1));return;case"textarea":q=H=null;for(b in l)if(h=l[b],l.hasOwnProperty(b)&&h!=null&&!a.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Be(t,i,b,null,a,h)}for(S in a)if(h=a[S],m=l[S],a.hasOwnProperty(S)&&(h!=null||m!=null))switch(S){case"value":H=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&Be(t,i,S,h,a,m)}dd(t,H,q);return;case"option":for(var ae in l)if(H=l[ae],l.hasOwnProperty(ae)&&H!=null&&!a.hasOwnProperty(ae))switch(ae){case"selected":t.selected=!1;break;default:Be(t,i,ae,null,a,H)}for(N in a)if(H=a[N],q=l[N],a.hasOwnProperty(N)&&H!==q&&(H!=null||q!=null))switch(N){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Be(t,i,N,H,a,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in l)H=l[pe],l.hasOwnProperty(pe)&&H!=null&&!a.hasOwnProperty(pe)&&Be(t,i,pe,null,a,H);for(L in a)if(H=a[L],q=l[L],a.hasOwnProperty(L)&&H!==q&&(H!=null||q!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Be(t,i,L,H,a,q)}return;default:if(Oa(i)){for(var Pe in l)H=l[Pe],l.hasOwnProperty(Pe)&&H!==void 0&&!a.hasOwnProperty(Pe)&&Ru(t,i,Pe,void 0,a,H);for(O in a)H=a[O],q=l[O],!a.hasOwnProperty(O)||H===q||H===void 0&&q===void 0||Ru(t,i,O,H,a,q);return}}for(var D in l)H=l[D],l.hasOwnProperty(D)&&H!=null&&!a.hasOwnProperty(D)&&Be(t,i,D,null,a,H);for(J in a)H=a[J],q=l[J],!a.hasOwnProperty(J)||H===q||H==null&&q==null||Be(t,i,J,H,a,q)}function gp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function px(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var h=l[a],m=h.transferSize,S=h.initiatorType,b=h.duration;if(m&&b&&gp(S)){for(S=0,b=h.responseEnd,a+=1;a<l.length;a++){var N=l[a],L=N.startTime;if(L>b)break;var O=N.transferSize,J=N.initiatorType;O&&gp(J)&&(N=N.responseEnd,S+=O*(N<b?1:(b-L)/(N-L)))}if(--a,i+=8*(m+S)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Mu=null,Iu=null;function Pl(t){return t.nodeType===9?t:t.ownerDocument}function yp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vp(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Du(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ku=null;function mx(){var t=window.event;return t&&t.type==="popstate"?t===ku?!1:(ku=t,!0):(ku=null,!1)}var xp=typeof setTimeout=="function"?setTimeout:void 0,gx=typeof clearTimeout=="function"?clearTimeout:void 0,Sp=typeof Promise=="function"?Promise:void 0,yx=typeof queueMicrotask=="function"?queueMicrotask:typeof Sp<"u"?function(t){return Sp.resolve(null).then(t).catch(vx)}:xp;function vx(t){setTimeout(function(){throw t})}function ri(t){return t==="head"}function _p(t,i){var l=i,a=0;do{var h=l.nextSibling;if(t.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"||l==="/&"){if(a===0){t.removeChild(h),bo(i);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Ss(t.ownerDocument.documentElement);else if(l==="head"){l=t.ownerDocument.head,Ss(l);for(var m=l.firstChild;m;){var S=m.nextSibling,b=m.nodeName;m[Go]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=S}}else l==="body"&&Ss(t.ownerDocument.body);l=h}while(l);bo(i)}function Tp(t,i){var l=t;t=0;do{var a=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(t===0)break;t--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||t++;l=a}while(l)}function Uu(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Uu(l),Va(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function xx(t,i,l,a){for(;t.nodeType===1;){var h=l;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Go])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Xt(t.nextSibling),t===null)break}return null}function Sx(t,i,l){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=Xt(t.nextSibling),t===null))return null;return t}function bp(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Xt(t.nextSibling),t===null))return null;return t}function Lu(t){return t.data==="$?"||t.data==="$~"}function zu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _x(t,i){var l=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||l.readyState!=="loading")i();else{var a=function(){i(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Xt(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Hu=null;function Ep(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"||l==="/&"){if(i===0)return Xt(t.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}t=t.nextSibling}return null}function Cp(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return t;i--}else l!=="/$"&&l!=="/&"||i++}t=t.previousSibling}return null}function Np(t,i,l){switch(i=Pl(l),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ss(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Va(t)}var Qt=new Map,wp=new Set;function Ol(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var zn=P.d;P.d={f:Tx,r:bx,D:Ex,C:Cx,L:Nx,m:wx,X:Rx,S:Ax,M:Mx};function Tx(){var t=zn.f(),i=Ul();return t||i}function bx(t){var i=Bi(t);i!==null&&i.tag===5&&i.type==="form"?Ff(i):zn.r(t)}var So=typeof document>"u"?null:document;function Ap(t,i,l){var a=So;if(a&&typeof i=="string"&&i){var h=Ot(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof l=="string"&&(h+='[crossorigin="'+l+'"]'),wp.has(h)||(wp.add(h),t={rel:t,crossOrigin:l,href:i},a.querySelector(h)===null&&(i=a.createElement("link"),mt(i,"link",t),rt(i),a.head.appendChild(i)))}}function Ex(t){zn.D(t),Ap("dns-prefetch",t,null)}function Cx(t,i){zn.C(t,i),Ap("preconnect",t,i)}function Nx(t,i,l){zn.L(t,i,l);var a=So;if(a&&t&&i){var h='link[rel="preload"][as="'+Ot(i)+'"]';i==="image"&&l&&l.imageSrcSet?(h+='[imagesrcset="'+Ot(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(h+='[imagesizes="'+Ot(l.imageSizes)+'"]')):h+='[href="'+Ot(t)+'"]';var m=h;switch(i){case"style":m=_o(t);break;case"script":m=To(t)}Qt.has(m)||(t=T({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:t,as:i},l),Qt.set(m,t),a.querySelector(h)!==null||i==="style"&&a.querySelector(_s(m))||i==="script"&&a.querySelector(Ts(m))||(i=a.createElement("link"),mt(i,"link",t),rt(i),a.head.appendChild(i)))}}function wx(t,i){zn.m(t,i);var l=So;if(l&&t){var a=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ot(a)+'"][href="'+Ot(t)+'"]',m=h;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=To(t)}if(!Qt.has(m)&&(t=T({rel:"modulepreload",href:t},i),Qt.set(m,t),l.querySelector(h)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ts(m)))return}a=l.createElement("link"),mt(a,"link",t),rt(a),l.head.appendChild(a)}}}function Ax(t,i,l){zn.S(t,i,l);var a=So;if(a&&t){var h=Pi(a).hoistableStyles,m=_o(t);i=i||"default";var S=h.get(m);if(!S){var b={loading:0,preload:null};if(S=a.querySelector(_s(m)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},l),(l=Qt.get(m))&&Gu(t,l);var N=S=a.createElement("link");rt(N),mt(N,"link",t),N._p=new Promise(function(L,O){N.onload=L,N.onerror=O}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Fl(S,i,a)}S={type:"stylesheet",instance:S,count:1,state:b},h.set(m,S)}}}function Rx(t,i){zn.X(t,i);var l=So;if(l&&t){var a=Pi(l).hoistableScripts,h=To(t),m=a.get(h);m||(m=l.querySelector(Ts(h)),m||(t=T({src:t,async:!0},i),(i=Qt.get(h))&&Vu(t,i),m=l.createElement("script"),rt(m),mt(m,"link",t),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},a.set(h,m))}}function Mx(t,i){zn.M(t,i);var l=So;if(l&&t){var a=Pi(l).hoistableScripts,h=To(t),m=a.get(h);m||(m=l.querySelector(Ts(h)),m||(t=T({src:t,async:!0,type:"module"},i),(i=Qt.get(h))&&Vu(t,i),m=l.createElement("script"),rt(m),mt(m,"link",t),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},a.set(h,m))}}function Rp(t,i,l,a){var h=(h=z.current)?Ol(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=_o(l.href),l=Pi(h).hoistableStyles,a=l.get(i),a||(a={type:"style",instance:null,count:0,state:null},l.set(i,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=_o(l.href);var m=Pi(h).hoistableStyles,S=m.get(t);if(S||(h=h.ownerDocument||h,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,S),(m=h.querySelector(_s(t)))&&!m._p&&(S.instance=m,S.state.loading=5),Qt.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Qt.set(t,l),m||Ix(h,t,l,S.state))),i&&a===null)throw Error(s(528,""));return S}if(i&&a!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=To(l),l=Pi(h).hoistableScripts,a=l.get(i),a||(a={type:"script",instance:null,count:0,state:null},l.set(i,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function _o(t){return'href="'+Ot(t)+'"'}function _s(t){return'link[rel="stylesheet"]['+t+"]"}function Mp(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Ix(t,i,l,a){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?a.loading=1:(i=t.createElement("link"),a.preload=i,i.addEventListener("load",function(){return a.loading|=1}),i.addEventListener("error",function(){return a.loading|=2}),mt(i,"link",l),rt(i),t.head.appendChild(i))}function To(t){return'[src="'+Ot(t)+'"]'}function Ts(t){return"script[async]"+t}function Ip(t,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var a=t.querySelector('style[data-href~="'+Ot(l.href)+'"]');if(a)return i.instance=a,rt(a),a;var h=T({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),rt(a),mt(a,"style",h),Fl(a,l.precedence,t),i.instance=a;case"stylesheet":h=_o(l.href);var m=t.querySelector(_s(h));if(m)return i.state.loading|=4,i.instance=m,rt(m),m;a=Mp(l),(h=Qt.get(h))&&Gu(a,h),m=(t.ownerDocument||t).createElement("link"),rt(m);var S=m;return S._p=new Promise(function(b,N){S.onload=b,S.onerror=N}),mt(m,"link",a),i.state.loading|=4,Fl(m,l.precedence,t),i.instance=m;case"script":return m=To(l.src),(h=t.querySelector(Ts(m)))?(i.instance=h,rt(h),h):(a=l,(h=Qt.get(m))&&(a=T({},l),Vu(a,h)),t=t.ownerDocument||t,h=t.createElement("script"),rt(h),mt(h,"link",a),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(a=i.instance,i.state.loading|=4,Fl(a,l.precedence,t));return i.instance}function Fl(t,i,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=a.length?a[a.length-1]:null,m=h,S=0;S<a.length;S++){var b=a[S];if(b.dataset.precedence===i)m=b;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(t,i.firstChild))}function Gu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Vu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Yl=null;function Dp(t,i,l){if(Yl===null){var a=new Map,h=Yl=new Map;h.set(l,a)}else h=Yl,a=h.get(l),a||(a=new Map,h.set(l,a));if(a.has(t))return a;for(a.set(t,null),l=l.getElementsByTagName(t),h=0;h<l.length;h++){var m=l[h];if(!(m[Go]||m[dt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(i)||"";S=t+S;var b=a.get(S);b?b.push(m):a.set(S,[m])}}return a}function kp(t,i,l){t=t.ownerDocument||t,t.head.insertBefore(l,i==="title"?t.querySelector("head > title"):null)}function Dx(t,i,l){if(l===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Up(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function kx(t,i,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var h=_o(a.href),m=i.querySelector(_s(h));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=jl.bind(t),i.then(t,t)),l.state.loading|=4,l.instance=m,rt(m);return}m=i.ownerDocument||i,a=Mp(a),(h=Qt.get(h))&&Gu(a,h),m=m.createElement("link"),rt(m);var S=m;S._p=new Promise(function(b,N){S.onload=b,S.onerror=N}),mt(m,"link",a),l.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(t.count++,l=jl.bind(t),i.addEventListener("load",l),i.addEventListener("error",l))}}var qu=0;function Ux(t,i){return t.stylesheets&&t.count===0&&$l(t,t.stylesheets),0<t.count||0<t.imgCount?function(l){var a=setTimeout(function(){if(t.stylesheets&&$l(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&qu===0&&(qu=62500*px());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&$l(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>qu?50:800)+i);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(h)}}:null}function jl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$l(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Jl=null;function $l(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Jl=new Map,i.forEach(Lx,t),Jl=null,jl.call(t))}function Lx(t,i){if(!(i.state.loading&4)){var l=Jl.get(t);if(l)var a=l.get(null);else{l=new Map,Jl.set(t,l);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var S=h[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),a=S)}a&&l.set(null,a)}h=i.instance,S=h.getAttribute("data-precedence"),m=l.get(S)||a,m===a&&l.set(null,h),l.set(S,h),this.count++,a=jl.bind(this),h.addEventListener("load",a),h.addEventListener("error",a),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var bs={$$typeof:G,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function zx(t,i,l,a,h,m,S,b,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=La(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=La(0),this.hiddenUpdates=La(null),this.identifierPrefix=a,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Lp(t,i,l,a,h,m,S,b,N,L,O,J){return t=new zx(t,i,l,S,N,L,O,J,b),i=1,m===!0&&(i|=24),m=zt(3,null,null,i),t.current=m,m.stateNode=t,i=xr(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:a,isDehydrated:l,cache:i},br(m),t}function zp(t){return t?(t=Zi,t):Zi}function Hp(t,i,l,a,h,m){h=zp(h),a.context===null?a.context=h:a.pendingContext=h,a=Qn(i),a.payload={element:l},m=m===void 0?null:m,m!==null&&(a.callback=m),l=Zn(t,a,i),l!==null&&(Mt(l,t,i),ts(l,t,i))}function Gp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<i?l:i}}function Bu(t,i){Gp(t,i),(t=t.alternate)&&Gp(t,i)}function Vp(t){if(t.tag===13||t.tag===31){var i=bi(t,67108864);i!==null&&Mt(i,t,67108864),Bu(t,67108864)}}function qp(t){if(t.tag===13||t.tag===31){var i=Bt();i=za(i);var l=bi(t,i);l!==null&&Mt(l,t,i),Bu(t,i)}}var Kl=!0;function Hx(t,i,l,a){var h=w.T;w.T=null;var m=P.p;try{P.p=2,Pu(t,i,l,a)}finally{P.p=m,w.T=h}}function Gx(t,i,l,a){var h=w.T;w.T=null;var m=P.p;try{P.p=8,Pu(t,i,l,a)}finally{P.p=m,w.T=h}}function Pu(t,i,l,a){if(Kl){var h=Ou(a);if(h===null)Au(t,i,a,Xl,l),Pp(t,a);else if(qx(h,t,i,l,a))a.stopPropagation();else if(Pp(t,a),i&4&&-1<Vx.indexOf(t)){for(;h!==null;){var m=Bi(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=vi(m.pendingLanes);if(S!==0){var b=m;for(b.pendingLanes|=2,b.entangledLanes|=2;S;){var N=1<<31-Ut(S);b.entanglements[1]|=N,S&=~N}gn(m),(ze&6)===0&&(Dl=Dt()+500,ys(0))}}break;case 31:case 13:b=bi(m,2),b!==null&&Mt(b,m,2),Ul(),Bu(m,2)}if(m=Ou(a),m===null&&Au(t,i,a,Xl,l),m===h)break;h=m}h!==null&&a.stopPropagation()}else Au(t,i,a,null,l)}}function Ou(t){return t=Ya(t),Fu(t)}var Xl=null;function Fu(t){if(Xl=null,t=qi(t),t!==null){var i=c(t);if(i===null)t=null;else{var l=i.tag;if(l===13){if(t=f(i),t!==null)return t;t=null}else if(l===31){if(t=y(i),t!==null)return t;t=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Xl=t,null}function Bp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ey()){case $c:return 2;case Kc:return 8;case Vs:case Cy:return 32;case Xc:return 268435456;default:return 32}default:return 32}}var Yu=!1,ui=null,ci=null,di=null,Es=new Map,Cs=new Map,fi=[],Vx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pp(t,i){switch(t){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":Es.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cs.delete(i.pointerId)}}function Ns(t,i,l,a,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:l,eventSystemFlags:a,nativeEvent:m,targetContainers:[h]},i!==null&&(i=Bi(i),i!==null&&Vp(i)),t):(t.eventSystemFlags|=a,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function qx(t,i,l,a,h){switch(i){case"focusin":return ui=Ns(ui,t,i,l,a,h),!0;case"dragenter":return ci=Ns(ci,t,i,l,a,h),!0;case"mouseover":return di=Ns(di,t,i,l,a,h),!0;case"pointerover":var m=h.pointerId;return Es.set(m,Ns(Es.get(m)||null,t,i,l,a,h)),!0;case"gotpointercapture":return m=h.pointerId,Cs.set(m,Ns(Cs.get(m)||null,t,i,l,a,h)),!0}return!1}function Op(t){var i=qi(t.target);if(i!==null){var l=c(i);if(l!==null){if(i=l.tag,i===13){if(i=f(l),i!==null){t.blockedOn=i,nd(t.priority,function(){qp(l)});return}}else if(i===31){if(i=y(l),i!==null){t.blockedOn=i,nd(t.priority,function(){qp(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ql(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var l=Ou(t.nativeEvent);if(l===null){l=t.nativeEvent;var a=new l.constructor(l.type,l);Fa=a,l.target.dispatchEvent(a),Fa=null}else return i=Bi(l),i!==null&&Vp(i),t.blockedOn=l,!1;i.shift()}return!0}function Fp(t,i,l){Ql(t)&&l.delete(i)}function Bx(){Yu=!1,ui!==null&&Ql(ui)&&(ui=null),ci!==null&&Ql(ci)&&(ci=null),di!==null&&Ql(di)&&(di=null),Es.forEach(Fp),Cs.forEach(Fp)}function Zl(t,i){t.blockedOn===i&&(t.blockedOn=null,Yu||(Yu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Bx)))}var Wl=null;function Yp(t){Wl!==t&&(Wl=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wl===t&&(Wl=null);for(var i=0;i<t.length;i+=3){var l=t[i],a=t[i+1],h=t[i+2];if(typeof a!="function"){if(Fu(a||l)===null)continue;break}var m=Bi(l);m!==null&&(t.splice(i,3),i-=3,Or(m,{pending:!0,data:h,method:l.method,action:a},a,h))}}))}function bo(t){function i(N){return Zl(N,t)}ui!==null&&Zl(ui,t),ci!==null&&Zl(ci,t),di!==null&&Zl(di,t),Es.forEach(i),Cs.forEach(i);for(var l=0;l<fi.length;l++){var a=fi[l];a.blockedOn===t&&(a.blockedOn=null)}for(;0<fi.length&&(l=fi[0],l.blockedOn===null);)Op(l),l.blockedOn===null&&fi.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var h=l[a],m=l[a+1],S=h[Et]||null;if(typeof m=="function")S||Yp(l);else if(S){var b=null;if(m&&m.hasAttribute("formAction")){if(h=m,S=m[Et]||null)b=S.formAction;else if(Fu(h)!==null)continue}else b=S.action;typeof b=="function"?l[a+1]=b:(l.splice(a,3),a-=3),Yp(l)}}}function jp(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(S){return h=S})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function ju(t){this._internalRoot=t}ea.prototype.render=ju.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,a=Bt();Hp(l,a,t,i,null,null)},ea.prototype.unmount=ju.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Hp(t.current,2,null,t,null,null),Ul(),i[Vi]=null}};function ea(t){this._internalRoot=t}ea.prototype.unstable_scheduleHydration=function(t){if(t){var i=td();t={blockedOn:null,target:t,priority:i};for(var l=0;l<fi.length&&i!==0&&i<fi[l].priority;l++);fi.splice(l,0,t),l===0&&Op(t)}};var Jp=e.version;if(Jp!=="19.2.3")throw Error(s(527,Jp,"19.2.3"));P.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var Px={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ta.isDisabled&&ta.supportsFiber)try{Lo=ta.inject(Px),kt=ta}catch{}}return As.createRoot=function(t,i){if(!r(t))throw Error(s(299));var l=!1,a="",h=eh,m=th,S=nh;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),i=Lp(t,1,!1,null,null,l,a,null,h,m,S,jp),t[Vi]=i.current,wu(t),new ju(i)},As.hydrateRoot=function(t,i,l){if(!r(t))throw Error(s(299));var a=!1,h="",m=eh,S=th,b=nh,N=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(b=l.onRecoverableError),l.formState!==void 0&&(N=l.formState)),i=Lp(t,1,!0,i,l??null,a,h,N,m,S,b,jp),i.context=zp(null),l=i.current,a=Bt(),a=za(a),h=Qn(a),h.callback=null,Zn(l,h,a),l=a,i.current.lanes=l,Ho(i,l),gn(i),t[Vi]=i.current,wu(t),new ea(i)},As.version="19.2.3",As}var im;function Wx(){if(im)return Ku.exports;im=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ku.exports=Zx(),Ku.exports}var e1=Wx();const t1=Zg(e1);var Ve=(n=>(n.CHATS="chats",n.ZEN_SPACE="zen-space",n.STATUS="status",n.SETTINGS="settings",n.PROFILE="profile",n.CONTACT_SYNC="contact-sync",n.GROUP_SETTINGS="group-settings",n.DISCOVERY="discovery",n.ADMIN_DASHBOARD="admin-dashboard",n))(Ve||{});/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i1=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,o,s)=>s?s.toUpperCase():o.toLowerCase()),om=n=>{const e=i1(n);return e.charAt(0).toUpperCase()+e.slice(1)},Wg=(...n)=>n.filter((e,o,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===o).join(" ").trim(),o1=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=B.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:r="",children:c,iconNode:f,...y},v)=>B.createElement("svg",{ref:v,...s1,width:e,height:e,stroke:n,strokeWidth:s?Number(o)*24/Number(e):o,className:Wg("lucide",r),...!c&&!o1(y)&&{"aria-hidden":"true"},...y},[...f.map(([g,x])=>B.createElement(g,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=(n,e)=>{const o=B.forwardRef(({className:s,...r},c)=>B.createElement(l1,{ref:c,iconNode:e,className:Wg(`lucide-${n1(om(n))}`,`lucide-${n}`,s),...r}));return o.displayName=om(n),o};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ca=te("arrow-left",a1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],e0=te("arrow-right",r1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],c1=te("award",u1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],f1=te("bell-ring",d1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],p1=te("building-2",h1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Gn=te("camera",m1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],t0=te("chart-column",g1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],sm=te("check-check",y1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Mo=te("check",v1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],lm=te("chevron-right",x1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_1=te("circle-alert",S1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],b1=te("circle-check-big",T1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],C1=te("circle-check",E1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0",key:"5ilxe3"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0",key:"11zvb9"}],["path",{d:"M17.609 3.721a10 10 0 0 1 2.69 2.7",key:"1iw5b2"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8",key:"c0bmvh"}],["path",{d:"M20.279 17.609a10 10 0 0 1-2.7 2.69",key:"1ruxm7"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8",key:"qkgqxc"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69",key:"1mcia2"}],["path",{d:"M6.391 20.279a10 10 0 0 1-2.69-2.7",key:"1fvljs"}]],n0=te("circle-dashed",N1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],A1=te("circle-user-round",w1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],M1=te("clock",R1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Mc=te("compass",I1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],am=te("copy",D1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],U1=te("cpu",k1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ic=te("download",L1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],H1=te("ellipsis-vertical",z1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],i0=te("eye-off",G1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],o0=te("eye",V1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],B1=te("file-text",q1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],s0=te("file-up",P1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],F1=te("file",O1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],j1=te("funnel",Y1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],rm=te("heart",J1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Dc=te("image",$1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],l0=te("info",K1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],gi=te("loader-circle",X1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],a0=te("lock",Q1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],W1=te("mail",Z1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],tS=te("message-circle",eS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M7 11h10",key:"1twpyw"}],["path",{d:"M7 15h6",key:"d9of3u"}],["path",{d:"M7 7h8",key:"af5zfr"}]],um=te("message-square-text",nS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],oS=te("message-square",iS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],lS=te("mic-off",sS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],ca=te("mic",aS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],uS=te("moon",rS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],dS=te("package",cS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],hS=te("palette",fS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],mS=te("paperclip",pS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],yS=te("pause",gS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],xS=te("pen-line",vS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],_S=te("phone-off",SS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Na=te("phone",TS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"m12 9-8.414 8.414A2 2 0 0 0 3 18.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 3.828 21h1.344a2 2 0 0 0 1.414-.586L15 12",key:"1y3wsu"}],["path",{d:"m18 9 .4.4a1 1 0 1 1-3 3l-3.8-3.8a1 1 0 1 1 3-3l.4.4 3.4-3.4a1 1 0 1 1 3 3z",key:"110lr1"}],["path",{d:"m2 22 .414-.414",key:"jhxm08"}]],ES=te("pipette",bS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],NS=te("play",CS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Hs=te("plus",wS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],RS=te("refresh-cw",AS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],IS=te("reply",MS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],kS=te("save",DS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ya=te("search",US);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],sc=te("send",LS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],r0=te("settings",zS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],GS=te("share-2",HS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],va=te("shield-check",VS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}],["path",{d:"M12 17h.01",key:"p32p05"}]],BS=te("shield-question-mark",qS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],OS=te("shopping-bag",PS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],YS=te("smartphone",FS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],JS=te("smile",jS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Gs=te("sparkles",$S);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],XS=te("sun",KS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],ZS=te("terminal",QS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ls=te("trash-2",WS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],t_=te("trending-up",e_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],i_=te("triangle-alert",n_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],cm=te("user-minus",o_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],l_=te("user-plus",s_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],u0=te("user",a_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lc=te("users",r_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=[["path",{d:"m2 8 2 2-2 2 2 2-2 2",key:"sv1b1"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2",key:"101i4y"}],["rect",{width:"8",height:"14",x:"8",y:"5",rx:"1",key:"1oyrl4"}]],c_=te("vibrate",u_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],f_=te("video-off",d_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],ac=te("video",h_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],en=te("x",p_),dm=({contacts:n,activeContactId:e,onSelectContact:o,mode:s,setMode:r,userProfile:c,onOpenAddFriend:f,onOpenCreateGroup:y,conversations:v})=>{const[g,x]=B.useState(""),T=B.useMemo(()=>n.filter(A=>!A.isBlocked),[n]),_=B.useMemo(()=>{let A=T;if(g.trim()){const V=g.toLowerCase();A=A.filter(F=>{var K;return F.name.toLowerCase().includes(V)||(K=F.phone)!=null&&K.toLowerCase().includes(V)?!0:(v[F.id]||[]).some(X=>X.type==="text"&&X.content.toLowerCase().includes(V))})}return A.sort((V,F)=>F.lastMessageTime-V.lastMessageTime)},[T,g,v]),E=A=>{if(!g.trim())return A.lastMessageSnippet;const V=g.toLowerCase(),G=(v[A.id]||[]).find(K=>K.type==="text"&&K.content.toLowerCase().includes(V));return G&&!A.name.toLowerCase().includes(V)?`Found: "${G.content}"`:A.lastMessageSnippet},C=B.useMemo(()=>T.reduce((A,V)=>A+(V.unreadCount||0),0),[T]),k=window.innerWidth<768;return p.jsxs("div",{className:"h-full w-full md:w-[320px] lg:w-[360px] flex flex-col bg-[#111b21] border-r border-white/5 safe-top overflow-hidden shrink-0",children:[p.jsxs("div",{className:`h-[50px] bg-[#202c33] px-3 flex items-center justify-between shrink-0 ${k?"hidden":""}`,children:[p.jsx("button",{onClick:()=>r(Ve.SETTINGS),className:"w-8 h-8 rounded-xl overflow-hidden border border-white/10 hover:opacity-80 transition-opacity",children:p.jsx("img",{src:c.avatar,alt:"Me",className:"w-full h-full object-cover"})}),p.jsxs("div",{className:"flex items-center gap-4 lg:gap-5 text-[#aebac1]",children:[p.jsx(Mc,{size:18,className:`cursor-pointer hover:text-white transition-colors ${s===Ve.DISCOVERY?"text-[#00a884]":""}`,onClick:()=>r(Ve.DISCOVERY)}),p.jsx(n0,{size:18,className:`cursor-pointer hover:text-white transition-colors ${s===Ve.STATUS?"text-[#00a884]":""}`,onClick:()=>r(Ve.STATUS)}),p.jsxs("div",{className:"relative",children:[p.jsx(um,{size:18,className:`cursor-pointer hover:text-white transition-colors ${s===Ve.CHATS?"text-[#00a884]":""}`,onClick:()=>r(Ve.CHATS)}),C>0&&p.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-[#00a884] rounded-full border-2 border-[#202c33]"})]}),p.jsx(Gs,{size:18,className:`cursor-pointer hover:text-white transition-colors ${s===Ve.ZEN_SPACE?"text-[#00a884]":""}`,onClick:()=>r(Ve.ZEN_SPACE)}),p.jsx(r0,{size:18,className:`cursor-pointer hover:text-white transition-colors ${s===Ve.SETTINGS?"text-[#00a884]":""}`,onClick:()=>r(Ve.SETTINGS)})]})]}),p.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[k&&p.jsxs("div",{className:"px-4 py-3 bg-[#111b21] flex justify-between items-center border-b border-white/5",children:[p.jsx("h1",{className:"text-xl font-black text-[#00a884] font-outfit uppercase tracking-tighter",children:"Zenj"}),p.jsx(Hs,{size:20,className:"text-[#8696a0]",onClick:f})]}),p.jsxs("div",{className:"px-3 py-2 flex items-center gap-2 shrink-0",children:[p.jsxs("div",{className:"flex-1 bg-[#202c33] rounded-xl flex items-center px-3 py-1.5 gap-2 border border-white/5 shadow-inner",children:[p.jsx(ya,{size:14,className:`${g?"text-[#00a884]":"text-[#8696a0]"}`}),p.jsx("input",{type:"text",value:g,onChange:A=>x(A.target.value),placeholder:"Search",className:"bg-transparent border-none focus:ring-0 text-[13px] text-[#d1d7db] placeholder-[#8696a0] w-full"})]}),p.jsx("button",{onClick:y,className:"p-2 text-[#8696a0] hover:text-[#00a884] transition-colors",children:p.jsx(lc,{size:18})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-20 md:pb-0",children:_.length===0?p.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 text-center text-[#3b4a54] opacity-50",children:[p.jsx(um,{size:32,className:"mb-2"}),p.jsx("p",{className:"text-[11px] font-bold uppercase tracking-widest",children:"Silence"})]}):_.map(A=>p.jsxs("div",{onClick:()=>o(A.id),className:`flex items-center gap-3 px-3 py-2 cursor-pointer hover:bg-white/5 active:bg-white/10 transition-colors border-b border-white/5 ${e===A.id?"bg-white/5":""}`,children:[p.jsxs("div",{className:"relative flex-shrink-0",children:[p.jsx("img",{src:A.avatar,alt:A.name,className:"w-10 h-10 rounded-[14px] object-cover border border-[#202c33] shadow-sm"}),A.status==="online"&&p.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-[#00a884] rounded-full border-2 border-[#111b21] shadow-sm"})]}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[p.jsxs("h3",{className:"text-[#e9edef] font-bold text-[13px] truncate leading-tight flex items-center gap-1.5",children:[A.name,A.statusBadge&&p.jsx("span",{className:"text-[10px] opacity-80",children:A.statusBadge})]}),p.jsx("span",{className:"text-[8px] text-[#3b4a54] font-black uppercase tracking-tighter",children:new Date(A.lastMessageTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("p",{className:"text-[10px] text-[#8696a0] truncate opacity-60 leading-none",children:E(A)}),A.unreadCount?p.jsx("div",{className:"bg-[#00a884] text-black text-[8px] font-black px-1 rounded-full min-w-[12px] text-center ml-2",children:A.unreadCount}):null]})]})]},A.id))})]})]})};let Ro=null;const fm=async(n,e="zenj-default-salt")=>{if(!window.crypto||!window.crypto.subtle)return console.warn("Cryptography unavailable: Insecure context detected. Zenj operates with restricted encryption."),null;const o=new TextEncoder,s=await window.crypto.subtle.importKey("raw",o.encode(n),"PBKDF2",!1,["deriveKey"]);return Ro=await window.crypto.subtle.deriveKey({name:"PBKDF2",salt:o.encode(e),iterations:25e3,hash:"SHA-256"},s,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"]),Ro},Wu=async n=>{if(!Ro||!window.crypto.subtle)return n;try{const e=new TextEncoder,o=window.crypto.getRandomValues(new Uint8Array(12)),s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:o},Ro,e.encode(n)),r={iv:btoa(String.fromCharCode(...o)),data:btoa(String.fromCharCode(...new Uint8Array(s)))};return`zenj_v1:${JSON.stringify(r)}`}catch{return n}},c0=async n=>{if(!Ro||!window.crypto.subtle||!n.startsWith("zenj_v1:"))return n;try{const{iv:e,data:o}=JSON.parse(n.replace("zenj_v1:","")),s=new Uint8Array(atob(e).split("").map(f=>f.charCodeAt(0))),r=new Uint8Array(atob(o).split("").map(f=>f.charCodeAt(0))),c=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:s},Ro,r);return new TextDecoder().decode(c)}catch(e){return console.error("Decryption failed:",e),""}},m_=({message:n,onSwipeToReply:e,onSwipeToDelete:o})=>{const s=n.role==="user",r=new Date(n.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),[c,f]=B.useState(null),[y,v]=B.useState(!1),[g,x]=B.useState(0),[T,_]=B.useState(0),[E,C]=B.useState(null),[k,A]=B.useState(0),[V,F]=B.useState(0),[G,K]=B.useState(!1),X=B.useRef(null),ne=B.useRef(null);B.useEffect(()=>{(async()=>{const Ce=await c0(n.content),w=["IMAGE","VIDEO","AUDIO","FILE"];n.type!=="text"&&w.includes(Ce)?f(null):f(Ce)})()},[n.content,n.type]);const $=()=>{if(n.mediaUrl){const ie=document.createElement("a");ie.href=n.mediaUrl,ie.download=n.fileName||"file",document.body.appendChild(ie),ie.click(),document.body.removeChild(ie)}},he=(ie,Ce)=>{navigator.clipboard.writeText(ie),C(Ce),setTimeout(()=>C(null),2e3)},Z=ie=>{F(ie.touches[0].clientX),K(!0)},re=ie=>{if(!G)return;const w=ie.touches[0].clientX-V;A(w)},ye=()=>{if(!G)return;Math.abs(k)>80&&(k>0&&e&&c?e(n,c):k<0&&o&&o(n.id)),A(0),K(!1)},Ee=()=>{if(!s)return null;switch(n.status){case"read":return p.jsx(sm,{size:12,className:"text-[#53bdeb]"});case"delivered":return p.jsx(sm,{size:12,className:"text-[#8696a0]"});case"sent":default:return p.jsx(Mo,{size:12,className:"text-[#8696a0]"})}},ve=ie=>{const Ce=/(https?:\/\/[^\s]+)/g,w=/(\+?\d[\d\s\-()]{8,}\d)/g;return ie.split(/((?:https?:\/\/[^\s]+)|(?:\+?\d[\d\s\-()]{8,}\d))/g).map((Q,de)=>Q.match(Ce)?p.jsxs("span",{className:"inline-flex items-center gap-1 group/link",children:[p.jsx("a",{href:Q,target:"_blank",rel:"noopener noreferrer",className:"text-[#00a884] underline decoration-[#00a884]/30 hover:text-[#06cf9c] transition-all",children:Q}),p.jsx("button",{onClick:()=>he(Q,"Copied"),className:"opacity-0 group-hover/link:opacity-100 p-0.5 text-[#8696a0]",children:p.jsx(am,{size:10})})]},de):Q.match(w)&&Q.replace(/[^\d]/g,"").length>=10?p.jsxs("span",{className:"inline-flex items-center gap-1 group/phone",children:[p.jsx("a",{href:`tel:${Q.replace(/[^\d+]/g,"")}`,className:"text-[#00a884] underline decoration-[#00a884]/30 hover:text-[#06cf9c] transition-all",children:Q}),p.jsx("button",{onClick:()=>he(Q,"Copied"),className:"opacity-0 group-hover/phone:opacity-100 p-0.5 text-[#8696a0]",children:p.jsx(am,{size:10})})]},de):Q)};return p.jsxs("div",{className:`flex w-full mb-2 group relative ${s?"justify-end":"justify-start"}`,children:[p.jsxs("div",{className:"absolute inset-0 flex items-center",children:[k>50&&p.jsx("div",{className:"flex items-center justify-start w-full pl-4 text-emerald-500",children:p.jsxs("div",{className:"flex items-center gap-2 bg-emerald-500/10 rounded-full px-3 py-1",children:[p.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),p.jsx("path",{d:"M21 3v5h-5"}),p.jsx("polyline",{points:"16,7 21,2 21,7"}),p.jsx("line",{x1:"8",y1:"11",x2:"8",y2:"16"}),p.jsx("line",{x1:"12",y1:"9",x2:"8",y2:"13"})]}),p.jsx("span",{className:"text-xs font-bold",children:"Reply"})]})}),k<-50&&p.jsx("div",{className:"flex items-center justify-end w-full pr-4 text-rose-500",children:p.jsxs("div",{className:"flex items-center gap-2 bg-rose-500/10 rounded-full px-3 py-1",children:[p.jsx("span",{className:"text-xs font-bold",children:"Delete"}),p.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M3 6h18"}),p.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),p.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})]})})]}),p.jsx("div",{ref:ne,className:`relative flex flex-col transition-transform duration-200 ease-out ${s?"items-end":"items-start"} max-w-[85%] md:max-w-[70%]`,style:{transform:`translateX(${k}px)`},onTouchStart:Z,onTouchMove:re,onTouchEnd:ye,children:p.jsxs("div",{className:`relative p-1 rounded-xl shadow-sm ${s?"bg-[#005c4b] text-[#e9edef] rounded-tr-none":"bg-[#202c33] text-[#e9edef] rounded-tl-none"}`,children:[n.type==="image"&&n.mediaUrl&&p.jsx("div",{className:"rounded-lg overflow-hidden max-w-full",children:p.jsx("img",{src:n.mediaUrl,alt:"",className:"max-w-full h-auto block"})}),n.type==="video"&&n.mediaUrl&&p.jsx("div",{className:"rounded-lg overflow-hidden bg-black max-w-full",children:p.jsx("video",{src:n.mediaUrl,controls:!0,className:"max-w-full h-auto block"})}),n.type==="file"&&n.mediaUrl&&p.jsxs("div",{className:"flex items-center gap-3 py-1.5 px-3 bg-black/10 rounded-lg m-1",children:[p.jsx(F1,{size:18,className:"text-[#00a884]"}),p.jsx("div",{className:"flex-1 min-w-0",children:p.jsx("p",{className:"text-[10px] font-bold truncate text-white",children:n.fileName||"File"})}),p.jsx("button",{onClick:$,className:"text-[#00a884]",children:p.jsx(Ic,{size:16})})]}),n.type==="audio"&&n.mediaUrl&&p.jsxs("div",{className:"flex items-center gap-3 py-1 px-3 min-w-[160px] m-1",children:[p.jsx("audio",{ref:X,src:n.mediaUrl,onTimeUpdate:()=>{var ie;return _(((ie=X.current)==null?void 0:ie.currentTime)||0)},onLoadedMetadata:()=>{var ie;return x(((ie=X.current)==null?void 0:ie.duration)||0)},className:"hidden"}),p.jsx("button",{onClick:()=>{X.current&&(y?X.current.pause():X.current.play(),v(!y))},className:`p-1.5 rounded-lg ${s?"text-[#005c4b] bg-[#e9edef]":"text-[#202c33] bg-[#00a884]"}`,children:y?p.jsx(yS,{size:14,fill:"currentColor"}):p.jsx(NS,{size:14,fill:"currentColor"})}),p.jsx("div",{className:"flex-1 h-0.5 bg-white/20 rounded-full",children:p.jsx("div",{className:"h-full bg-[#00a884]",style:{width:`${T/g*100||0}%`}})})]}),c&&p.jsxs("div",{className:"px-2 pt-1 pb-4 text-[13px] leading-snug break-words whitespace-pre-wrap min-w-[60px] relative",children:[ve(c),E&&p.jsx("div",{className:"absolute -top-6 left-0 bg-[#00a884] text-black text-[8px] font-bold px-1.5 py-0.5 rounded shadow-lg",children:E})]}),p.jsxs("div",{className:"absolute bottom-1 right-2 flex items-center gap-1",children:[p.jsx("span",{className:"text-[8px] text-[#8696a0] font-bold",children:r}),Ee()]})]})})]})},hm=({contact:n,messages:e,onSendMessage:o,onMarkAsRead:s,onReactToMessage:r,onDeleteMessage:c,onStartCall:f,onBlockContact:y,onOpenGroupSettings:v,isTyping:g,onBack:x,userProfile:T})=>{var st;const[_,E]=B.useState(""),[C,k]=B.useState(null),[A,V]=B.useState(null),[F,G]=B.useState(null),[K,X]=B.useState(null),[ne,$]=B.useState(!1),[he,Z]=B.useState(!1),[re,ye]=B.useState(0),[Ee,ve]=B.useState(!1),[ie,Ce]=B.useState(null),[w,P]=B.useState(!1),Q=B.useRef(null),de=B.useRef(null),me=B.useRef(null),R=B.useRef(null),Y=B.useRef([]),ee=B.useRef(null),se=window.innerWidth<768,I=()=>{var Ne;(Ne=Q.current)==null||Ne.scrollIntoView({behavior:"smooth"})};B.useEffect(I,[e,g]);const z=Ne=>{var at;const _e=(at=Ne.target.files)==null?void 0:at[0];if(_e){if(_e.size>5*1024*1024){const It={url:"",name:_e.name,size:_e.size,file:_e};G(It),k(null),V(null),P(!1);return}const We=new FileReader;We.onloadend=()=>{const It=We.result;_e.type.startsWith("image/")?(k(It),V(null),G(null)):_e.type.startsWith("video/")?(V(It),k(null),G(null)):(G({url:It,name:_e.name,size:_e.size}),k(null),V(null)),P(!1)},We.readAsDataURL(_e)}},W=async()=>{try{const Ne=await navigator.mediaDevices.getUserMedia({audio:!0}),_e=new MediaRecorder(Ne);R.current=_e,Y.current=[],_e.ondataavailable=at=>Y.current.push(at.data),_e.onstop=()=>{const at=new Blob(Y.current,{type:"audio/webm"}),We=new FileReader;We.onloadend=()=>X(We.result),We.readAsDataURL(at),Ne.getTracks().forEach(It=>It.stop())},_e.start(),Z(!0),ye(0),ee.current=window.setInterval(()=>ye(at=>at+1),1e3)}catch{alert("Microphone access denied.")}},le=Ne=>{R.current&&he&&(Ne||(R.current.onstop=()=>{}),R.current.stop(),Z(!1),ee.current&&clearInterval(ee.current))},ge=()=>{k(null),V(null),G(null),X(null)},ue=async Ne=>{if(Ne.preventDefault(),!_.trim()&&!C&&!A&&!F&&!K||g||ne)return;const _e={input:_.trim(),selectedImage:C,recordedAudio:K,replyTo:ie,selectedVideo:A,selectedFile:F};E(""),ge(),Ce(null),$(!0);try{await o(_e.input,_e.selectedImage||void 0,_e.recordedAudio||void 0,_e.replyTo||void 0,_e.selectedVideo||void 0,_e.selectedFile||void 0)}finally{$(!1)}},$e=T.settings.wallpaper;return p.jsxs("div",{className:"flex flex-col h-full bg-[#0b141a] relative overflow-hidden animate-in slide-in-from-right duration-300",children:[p.jsxs("header",{className:`h-[50px] bg-[#202c33] px-3 flex items-center justify-between border-l border-[#222d34] shadow-sm shrink-0 z-40 ${se?"safe-top pt-2 h-[70px]":""}`,children:[p.jsxs("div",{className:"flex items-center gap-1 overflow-hidden",children:[x&&p.jsx("button",{onClick:x,className:"p-2 text-[#d1d7db] hover:bg-white/5 rounded-full",children:p.jsx(Ca,{size:20})}),p.jsxs("div",{className:"flex items-center gap-3 cursor-pointer flex-1 min-w-0",onClick:n.isGroup?v:void 0,children:[p.jsx("img",{src:n.avatar,alt:n.name,className:"w-8 h-8 rounded-xl object-cover border border-white/5"}),p.jsxs("div",{className:"flex flex-col truncate pr-2",children:[p.jsxs("span",{className:"text-[#e9edef] font-bold text-sm leading-tight truncate flex items-center gap-1.5",children:[n.hideDetails?"Zen Sanctuary":n.name,p.jsx(va,{size:12,className:"text-[#00a884]"})]}),p.jsx("span",{className:"text-[9px] text-[#8696a0] font-bold uppercase tracking-widest",children:g?p.jsx("span",{className:"text-[#00a884] animate-pulse",children:"Pulse active..."}):n.isGroup?`${(st=n.members)==null?void 0:st.length} souls`:n.status})]})]})]}),p.jsxs("div",{className:"flex items-center gap-1 text-[#aebac1]",children:[!n.isGroup&&p.jsxs("div",{className:"flex",children:[p.jsx("button",{onClick:()=>f("video"),className:"p-2 hover:bg-white/5 rounded-full transition-colors",children:p.jsx(ac,{size:18})}),p.jsx("button",{onClick:()=>f("audio"),className:"p-2 hover:bg-white/5 rounded-full transition-colors",children:p.jsx(Na,{size:18})})]}),p.jsx("button",{className:`p-2 transition-colors rounded-full ${Ee?"bg-white/10 text-white":"hover:bg-white/5"}`,onClick:()=>ve(!Ee),children:p.jsx(H1,{size:18})})]})]}),p.jsx("div",{className:`flex-1 overflow-y-auto p-4 custom-scrollbar z-0 relative ${$e?"":"bg-[#0b141a]"}`,style:{backgroundImage:$e?`url(${$e})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundColor:$e?"transparent":void 0},children:p.jsxs("div",{className:"max-w-2xl mx-auto space-y-1",children:[e.map(Ne=>p.jsx(m_,{message:Ne,userName:T.name,onReact:_e=>r(Ne.id,_e),onSwipeToReply:(_e,at)=>Ce({id:_e.id,text:at}),onSwipeToDelete:c},Ne.id)),g&&p.jsx("div",{className:"flex justify-start mb-2",children:p.jsx("div",{className:"bg-[#202c33]/80 px-3 py-1.5 rounded-xl text-[#00a884] text-[10px] font-black uppercase tracking-widest flex items-center gap-2 border border-[#00a884]/20 animate-pulse",children:"Thinking"})}),p.jsx("div",{ref:Q,className:"h-4"})]})}),p.jsxs("div",{className:`flex flex-col bg-[#202c33] shrink-0 z-40 border-t border-white/5 ${se?"safe-bottom pb-1":""}`,children:[(C||A||F||K||ie)&&p.jsxs("div",{className:"px-3 py-3 bg-[#1c272d] border-b border-white/5 flex flex-col gap-2 animate-in slide-in-from-bottom-2 duration-200",children:[ie&&p.jsxs("div",{className:"flex items-center justify-between bg-[#2a3942] p-2 rounded-lg border-l-2 border-[#00a884]",children:[p.jsxs("div",{className:"flex items-center gap-2 truncate text-[10px] text-[#8696a0] italic",children:[p.jsx(IS,{size:12})," ",ie.text]}),p.jsx("button",{onClick:()=>Ce(null),className:"text-[#8696a0] hover:text-white",children:p.jsx(en,{size:14})})]}),p.jsxs("div",{className:"flex items-end justify-between",children:[p.jsxs("div",{className:"flex-1 flex gap-3 overflow-x-auto no-scrollbar py-1",children:[C&&p.jsxs("div",{className:"relative w-20 h-20 rounded-xl overflow-hidden border border-white/10 shrink-0 shadow-lg",children:[p.jsx("img",{src:C,className:"w-full h-full object-cover",alt:"Preview"}),p.jsx("button",{onClick:()=>k(null),className:"absolute top-1 right-1 bg-black/60 p-1 rounded-full text-white",children:p.jsx(en,{size:10})})]}),A&&p.jsxs("div",{className:"relative w-24 h-20 rounded-xl overflow-hidden border border-white/10 bg-black shrink-0 shadow-lg",children:[p.jsx("video",{src:A,className:"w-full h-full object-cover"}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 pointer-events-none",children:p.jsx(ac,{size:16,className:"text-white"})}),p.jsx("button",{onClick:()=>V(null),className:"absolute top-1 right-1 bg-black/60 p-1 rounded-full text-white",children:p.jsx(en,{size:10})})]}),F&&p.jsxs("div",{className:"relative h-20 w-32 bg-[#2a3942] rounded-xl flex flex-col items-center justify-center p-2 border border-white/10 shrink-0 shadow-lg",children:[p.jsx(B1,{size:20,className:"text-[#00a884] mb-1"}),p.jsx("span",{className:"text-[8px] text-white truncate w-full text-center font-bold px-1",children:F.name}),p.jsx("button",{onClick:()=>G(null),className:"absolute top-1 right-1 bg-black/60 p-1 rounded-full text-white",children:p.jsx(en,{size:10})})]}),K&&p.jsxs("div",{className:"relative h-20 w-40 bg-[#00a884]/10 rounded-xl flex items-center justify-center gap-3 p-3 border border-[#00a884]/30 shrink-0 shadow-lg animate-in zoom-in-95",children:[p.jsx("div",{className:"p-2 bg-[#00a884] rounded-full text-black",children:p.jsx(ca,{size:16})}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[9px] font-bold text-[#00a884] uppercase tracking-tighter",children:"Recorded Memo"}),p.jsx("audio",{src:K,controls:!0,className:"h-6 w-20 opacity-60"})]}),p.jsx("button",{onClick:()=>X(null),className:"absolute top-1 right-1 bg-[#00a884]/20 p-1 rounded-full text-[#00a884]",children:p.jsx(en,{size:10})})]})]}),ne&&p.jsxs("div",{className:"p-2 flex items-center gap-2 text-[10px] text-[#00a884] font-black uppercase",children:[p.jsx(gi,{className:"animate-spin",size:12})," Syncing"]})]})]}),p.jsx("div",{className:"px-3 py-2 flex items-center gap-2",children:he?p.jsxs("div",{className:"flex-1 flex items-center gap-4 py-1",children:[p.jsx(ca,{size:20,className:"text-rose-500 animate-pulse"}),p.jsxs("div",{className:"flex-1 text-[#e9edef] font-mono text-sm tracking-wider",children:[Math.floor(re/60),":",(re%60).toString().padStart(2,"0")]}),p.jsx("button",{onClick:()=>le(!1),className:"p-2 text-[#8696a0] hover:text-rose-500",children:p.jsx(Ls,{size:20})}),p.jsx("button",{onClick:()=>le(!0),className:"bg-[#00a884] text-black p-2 rounded-xl",children:p.jsx(Mo,{size:20,strokeWidth:3})})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center gap-1 text-[#8696a0] relative",children:[p.jsx("button",{onClick:()=>{var Ne;return(Ne=me.current)==null?void 0:Ne.click()},className:"p-2 hover:text-[#d1d7db] rounded-xl",children:p.jsx(Gn,{size:20})}),p.jsx("button",{onClick:()=>P(!w),className:`p-2 rounded-xl transition-all ${w?"bg-[#00a884] text-black":"hover:text-[#d1d7db]"}`,children:p.jsx(mS,{size:20})}),w&&p.jsx("div",{className:"absolute bottom-full mb-2 left-0 bg-[#2a3942] p-1.5 rounded-xl shadow-2xl border border-white/10 flex flex-col gap-1 z-50",children:p.jsxs("button",{onClick:()=>{var Ne;return(Ne=de.current)==null?void 0:Ne.click()},className:"p-2 hover:bg-white/5 rounded-lg flex items-center gap-2 text-[10px] font-bold uppercase text-white",children:[p.jsx(Dc,{size:14,className:"text-emerald-500"})," Files"]})}),p.jsx("input",{type:"file",ref:de,onChange:z,className:"hidden"}),p.jsx("input",{type:"file",ref:me,onChange:z,accept:"image/*",capture:"environment",className:"hidden"})]}),p.jsxs("form",{onSubmit:ue,className:"flex-1 flex items-center gap-2",children:[p.jsx("input",{type:"text",value:_,onChange:Ne=>E(Ne.target.value),placeholder:"Manifest message...",className:"w-full bg-[#2a3942] border-none focus:ring-0 rounded-xl py-2 px-4 text-[#d1d7db] text-[13px] shadow-inner"}),(_.trim()||C||A||F||K)&&p.jsx("button",{type:"submit",className:"bg-[#00a884] text-black p-2 rounded-xl hover:bg-[#06cf9c] transition-all",children:p.jsx(sc,{size:18})})]}),!_.trim()&&!C&&!A&&!F&&!K&&p.jsx("button",{type:"button",onClick:W,className:"text-[#00a884] p-2 hover:bg-white/5 rounded-xl",children:p.jsx(ca,{size:20})})]})})]})]})},yt="http://localhost:3003",d0="zenj_fallback_db",f0=()=>{const n=localStorage.getItem(d0);return n?JSON.parse(n):{profile:null,contacts:[],messages:[],directory_users:[],products:[],tools:[]}},gt=n=>{localStorage.setItem(d0,JSON.stringify(n))},vt=async(n,e)=>{try{const o=new AbortController,s=setTimeout(()=>o.abort(),2e3),r=await fetch(n,{...e,signal:o.signal});if(clearTimeout(s),!r.ok)return null;const c=r.headers.get("content-type");return c&&c.includes("application/json")?await r.json():null}catch{return null}},g_=async()=>(vt(`${yt}/api/metrics`),!0),Hn=async(n,e=[])=>{const o=f0();if(n.includes("FROM profile")){const s=await vt(`${yt}/api/profile`);return s&&(o.profile=s,gt(o)),o.profile?[o.profile]:[]}if(n.includes("FROM contacts")){const s=await vt(`${yt}/api/contacts`);return s&&(o.contacts=s,gt(o)),o.contacts||[]}if(n.includes("FROM messages")){const s=await vt(`${yt}/api/messages`);s&&(o.messages=s,gt(o));const r=o.messages||[];return e.length>0?r.filter(c=>c.contact_id===e[0]):r}if(n.includes("FROM directory_users")){const s=await vt(`${yt}/api/directory`);return s&&(o.directory_users=s,gt(o)),o.directory_users||[]}if(n.includes("FROM products")){const s=await vt(`${yt}/api/products`);return s&&(o.products=s,gt(o)),o.products||[]}if(n.includes("FROM tools")){const s=await vt(`${yt}/api/tools`);return s&&(o.tools=s,gt(o)),o.tools||[]}if(n.includes("FROM system_metrics")){const s=await vt(`${yt}/api/metrics`);return s?[s]:[{id:"installs",val:1}]}return[]},Je=async(n,e=[])=>{const o=f0();if(n.startsWith("INSERT INTO profile")&&e.length>=10){const s={id:e[0],name:e[1],phone:e[2],email:e[3],password:e[4],bio:e[5],avatar:e[6],role:e[7],accountStatus:e[8],settings_json:e[9]};o.profile=s,gt(o),await vt(`${yt}/api/profile`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});return}if(n.startsWith("UPDATE profile SET settings_json")){const s=e[0];o.profile&&(o.profile.settings_json=s,gt(o),await vt(`${yt}/api/profile`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o.profile)}));return}if(n.startsWith("UPDATE profile SET name=?")){o.profile&&(o.profile.name=e[0],o.profile.phone=e[1],o.profile.email=e[2],o.profile.bio=e[3],o.profile.avatar=e[4],gt(o),await vt(`${yt}/api/profile`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o.profile)}));return}if(n.startsWith("UPDATE directory_users SET accountStatus")){const s=e[0],r=e[1],c=e[2],f=(o.directory_users||[]).findIndex(y=>y.id===c);f>=0&&(o.directory_users[f].accountStatus=s,o.directory_users[f].statusBadge=r,gt(o)),await vt(`${yt}/api/directory/${c}/status`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountStatus:s,statusBadge:r})})}if(n.startsWith("INSERT INTO products")){const s={id:e[0],sellerId:e[1],sellerName:e[2],sellerAvatar:e[3],title:e[4],description:e[5],price:e[6],imageUrl:e[7],timestamp:e[8],likes:e[9]};o.products||(o.products=[]),o.products.push(s),gt(o),await vt(`${yt}/api/products`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})}if(n.startsWith("INSERT INTO tools")){const s={id:e[0],name:e[1],description:e[2],version:e[3],iconUrl:e[4],fileUrl:e[5],fileName:e[6],timestamp:e[7],downloads:e[8]};o.tools||(o.tools=[]),o.tools.push(s),gt(o),await vt(`${yt}/api/tools`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})}if(n.startsWith("UPDATE products SET likes")){const s=e[1],r=e[0],c=o.products.findIndex(f=>f.id===s);c>=0&&(o.products[c].likes=r,gt(o))}if(n.startsWith("UPDATE tools SET downloads")){const s=e[1],r=e[0],c=o.tools.findIndex(f=>f.id===s);c>=0&&(o.tools[c].downloads=r,gt(o))}if(n.startsWith("DELETE FROM tools")){const s=e[0];o.tools=o.tools.filter(r=>r.id!==s),gt(o),await vt(`${yt}/api/tools/${s}`,{method:"DELETE"})}if(n.startsWith("INSERT INTO contacts")||n.startsWith("UPDATE contacts")){const s={id:e[0],name:e[1],avatar:e[2],status:e[3],accountStatus:e[4]||"active",statusBadge:e[5]||"",lastMessageSnippet:e[6],lastMessageTime:e[7],isBlocked:e[8]===1},r=o.contacts.findIndex(c=>c.id===s.id);r>=0?o.contacts[r]={...o.contacts[r],...s}:o.contacts.push(s),gt(o),await vt(`${yt}/api/contacts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})}if(n.startsWith("INSERT INTO messages")){const s={id:e[0],contact_id:e[1],role:e[2],content:e[3],timestamp:e[4],type:e[5],mediaUrl:e[6],fileName:e[7],fileSize:e[8],status:e[9],reply_to_id:e[10],reply_to_text:e[11]};o.messages.push(s),gt(o),await vt(`${yt}/api/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})}},y_=({userProfile:n,onCheckInStore:e})=>{const[o,s]=B.useState("marketplace"),[r,c]=B.useState([]),[f,y]=B.useState([]),[v,g]=B.useState(!1),[x,T]=B.useState(!0),[_,E]=B.useState(null),[C,k]=B.useState(!1),[A,V]=B.useState(0),[F,G]=B.useState({name:"",description:"",version:"1.0.0",icon:"",file:"",fileName:""}),K=B.useRef(null),X=B.useRef(null),ne=n.role==="admin"||n.accountType==="business",$=async()=>{T(!0);const[w,P]=await Promise.all([Hn("SELECT * FROM products ORDER BY timestamp DESC"),Hn("SELECT * FROM tools ORDER BY timestamp DESC")]);c(w),y(P),T(!1)};B.useEffect(()=>{$()},[]);const he=B.useMemo(()=>{const w=r.filter(de=>de.sellerId===n.id),P=w.reduce((de,me)=>de+(me.likes||0),0),Q=w.length?(w.reduce((de,me)=>de+(me.rating||0),0)/w.length).toFixed(1):"5.0";return{count:w.length,likes:P,rating:Q}},[r,n.id]),Z=async()=>{if(!F.name||!F.file||!F.icon)return;V(10),k(!0);let w=10;const P=setInterval(()=>{w+=15,V(Math.min(w,90)),w>=100&&(clearInterval(P),re())},200)},re=async()=>{const w=`tool-${Date.now()}`;await Je("INSERT INTO tools (id, name, description, version, iconUrl, fileUrl, fileName, timestamp, downloads) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)",[w,F.name,F.description,F.version,F.icon,F.file,F.fileName,Date.now(),0]),V(100),setTimeout(()=>{k(!1),V(0),G({name:"",description:"",version:"1.0.0",icon:"",file:"",fileName:""}),s("software"),$()},800)},ye=async w=>{confirm("Remove this manifestation from existence?")&&(await Je("DELETE FROM products WHERE id = ?",[w]),$())},Ee=async w=>{const P=r.find(me=>me.id===w);if(!P)return;const Q=!P.isLiked,de=Q?(P.likes||0)+1:Math.max(0,(P.likes||0)-1);c(r.map(me=>me.id===w?{...me,isLiked:Q,likes:de}:me)),await Je("UPDATE products SET likes = ? WHERE id = ?",[de,w])},ve=async()=>{if(!ie.title||!ie.image)return;const w=typeof v=="object",Q={id:w?v.id:`prod-${Date.now()}`,sellerId:n.id,sellerName:n.name,sellerAvatar:n.avatar,title:ie.title,description:ie.description,price:ie.price,imageUrl:ie.image,timestamp:Date.now(),likes:w?v.likes:0,rating:w?v.rating:5,ratingCount:w?v.ratingCount:0};await Je("INSERT INTO products (id, sellerId, sellerName, sellerAvatar, title, description, price, imageUrl, timestamp, likes) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",[Q.id,Q.sellerId,Q.sellerName,Q.sellerAvatar,Q.title,Q.description,Q.price,Q.imageUrl,Q.timestamp,Q.likes]),g(!1),Ce({title:"",description:"",price:"",image:""}),$()},[ie,Ce]=B.useState({title:"",description:"",price:"",image:""});return p.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#0b141a] overflow-hidden",children:[p.jsxs("header",{className:"h-[70px] md:h-[100px] bg-[#202c33] flex items-center justify-between px-6 md:px-12 gap-4 shrink-0 shadow-lg relative z-10",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(OS,{className:"text-[#00a884]",size:28}),p.jsx("h2",{className:"text-white text-2xl font-bold font-outfit hidden sm:block",children:"Zen Space"})]}),p.jsxs("div",{className:"flex bg-[#111b21] rounded-[20px] p-1 border border-white/5 overflow-x-auto no-scrollbar max-w-[400px]",children:[p.jsx("button",{onClick:()=>s("marketplace"),className:`px-4 py-2 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shrink-0 ${o==="marketplace"?"bg-[#00a884] text-black":"text-[#8696a0]"}`,children:"Market"}),p.jsx("button",{onClick:()=>s("software"),className:`px-4 py-2 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shrink-0 ${o==="software"?"bg-[#00a884] text-black":"text-[#8696a0]"}`,children:"Software"}),ne&&p.jsx("button",{onClick:()=>s("dev-lab"),className:`px-4 py-2 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shrink-0 ${o==="dev-lab"?"bg-amber-500 text-black":"text-[#8696a0]"}`,children:"Dev Lab"}),n.accountType==="business"&&p.jsx("button",{onClick:()=>s("business"),className:`px-4 py-2 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shrink-0 ${o==="business"?"bg-[#00a884] text-black":"text-[#8696a0]"}`,children:"Stats"})]})]}),p.jsxs("button",{onClick:()=>g(!0),className:"p-3 bg-[#00a884] text-black rounded-2xl hover:bg-[#06cf9c] transition-all flex items-center gap-2 font-bold text-sm shadow-xl shadow-[#00a884]/20",children:[p.jsx(Hs,{size:20}),p.jsx("span",{className:"hidden sm:inline",children:"Manifest"})]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar p-6 md:p-12",children:p.jsx("div",{className:"max-w-6xl mx-auto",children:o==="dev-lab"?p.jsxs("div",{className:"space-y-10 animate-in fade-in duration-500 pb-20 max-w-2xl mx-auto",children:[p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx(U1,{className:"mx-auto text-amber-500",size:48}),p.jsx("h3",{className:"text-2xl font-bold text-white font-outfit",children:"Software Forge"}),p.jsx("p",{className:"text-[#8696a0] text-sm font-medium",children:"Manifest technical tools for the Zenj community."})]}),p.jsx("div",{className:"bg-[#111b21] rounded-[48px] p-8 border border-amber-500/20 shadow-2xl space-y-6",children:A>0?p.jsxs("div",{className:"py-20 flex flex-col items-center gap-6",children:[p.jsx(gi,{className:"animate-spin text-amber-500",size:48}),p.jsx("div",{className:"w-full h-2 bg-[#0b141a] rounded-full overflow-hidden max-w-[300px]",children:p.jsx("div",{className:"h-full bg-amber-500 transition-all duration-300",style:{width:`${A}%`}})}),p.jsx("p",{className:"text-amber-500 font-black uppercase tracking-widest text-[10px]",children:"Synchronizing Manifest..."})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex gap-6",children:[p.jsxs("div",{onClick:()=>{var w;return(w=K.current)==null?void 0:w.click()},className:"w-24 h-24 bg-[#0b141a] rounded-[32px] border border-white/5 flex items-center justify-center cursor-pointer group shrink-0 relative overflow-hidden",children:[F.icon?p.jsx("img",{src:F.icon,className:"w-full h-full object-cover",alt:""}):p.jsx(Gn,{size:32,className:"text-[#3b4a54] group-hover:text-amber-500"}),p.jsx("input",{type:"file",ref:K,onChange:w=>{var Q;const P=(Q=w.target.files)==null?void 0:Q[0];if(P){const de=new FileReader;de.onloadend=()=>G({...F,icon:de.result}),de.readAsDataURL(P)}},accept:"image/*",className:"hidden"})]}),p.jsxs("div",{className:"flex-1 space-y-4",children:[p.jsx("input",{type:"text",placeholder:"Tool Identity",value:F.name,onChange:w=>G({...F,name:w.target.value}),className:"w-full bg-[#0b141a] border border-white/5 rounded-2xl py-3 px-5 text-white font-bold outline-none focus:border-amber-500/50"}),p.jsx("input",{type:"text",placeholder:"Version (1.0.0)",value:F.version,onChange:w=>G({...F,version:w.target.value}),className:"w-full bg-[#0b141a] border border-white/5 rounded-2xl py-3 px-5 text-amber-500 font-mono text-xs outline-none focus:border-amber-500/50"})]})]}),p.jsxs("div",{onClick:()=>{var w;return(w=X.current)==null?void 0:w.click()},className:"w-full py-10 bg-[#0b141a] border-2 border-dashed border-amber-500/20 hover:border-amber-500/50 rounded-[32px] flex flex-col items-center justify-center gap-3 cursor-pointer group transition-all",children:[F.file?p.jsxs("div",{className:"flex flex-col items-center text-amber-500",children:[p.jsx(va,{size:40}),p.jsx("span",{className:"text-[10px] font-bold mt-2 uppercase",children:F.fileName})]}):p.jsxs(p.Fragment,{children:[p.jsx(s0,{size:40,className:"text-[#3b4a54] group-hover:text-amber-500"}),p.jsx("span",{className:"text-[10px] font-bold text-[#8696a0] uppercase tracking-widest",children:"Upload Bundle"})]}),p.jsx("input",{type:"file",ref:X,onChange:w=>{var Q;const P=(Q=w.target.files)==null?void 0:Q[0];if(P){const de=new FileReader;de.onloadend=()=>G({...F,file:de.result,fileName:P.name}),de.readAsDataURL(P)}},className:"hidden"})]}),p.jsx("textarea",{placeholder:"Technical description of this software manifestation...",value:F.description,onChange:w=>G({...F,description:w.target.value}),className:"w-full h-24 bg-[#0b141a] border border-white/5 rounded-2xl py-4 px-6 text-[#d1d7db] outline-none resize-none text-sm"}),p.jsx("button",{onClick:Z,disabled:!F.name||!F.file||!F.icon,className:"w-full bg-amber-500 text-black py-5 rounded-[28px] font-black text-lg shadow-2xl shadow-amber-500/30 transition-all disabled:opacity-50",children:"Forge Software"})]})})]}):o==="business"?p.jsxs("div",{className:"space-y-10 animate-in fade-in duration-500 pb-20",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-[#111b21] p-8 rounded-[40px] border border-white/5 shadow-2xl space-y-2",children:[p.jsx(t_,{className:"text-[#00a884]",size:32}),p.jsx("p",{className:"text-[#8696a0] text-xs font-black uppercase tracking-widest",children:"Active Manifestations"}),p.jsx("p",{className:"text-4xl font-bold text-white font-outfit",children:he.count})]}),p.jsxs("div",{className:"bg-[#111b21] p-8 rounded-[40px] border border-white/5 shadow-2xl space-y-2",children:[p.jsx(rm,{className:"text-rose-500",size:32}),p.jsx("p",{className:"text-[#8696a0] text-xs font-black uppercase tracking-widest",children:"Interaction Pulse"}),p.jsx("p",{className:"text-4xl font-bold text-white font-outfit",children:he.likes})]}),p.jsxs("div",{className:"bg-[#111b21] p-8 rounded-[40px] border border-white/5 shadow-2xl space-y-2",children:[p.jsx(c1,{className:"text-amber-500",size:32}),p.jsx("p",{className:"text-[#8696a0] text-xs font-black uppercase tracking-widest",children:"Trust Index"}),p.jsxs("p",{className:"text-4xl font-bold text-white font-outfit",children:[he.rating," ",p.jsx("span",{className:"text-lg text-amber-500",children:""})]})]})]}),p.jsxs("h3",{className:"text-white text-xl font-bold font-outfit flex items-center gap-3 px-2 pt-6",children:[p.jsx(t0,{className:"text-[#00a884]"})," Manifestations"]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:r.filter(w=>w.sellerId===n.id).map(w=>p.jsxs("div",{className:"bg-[#111b21] rounded-[48px] overflow-hidden border border-white/5 shadow-2xl relative group",children:[p.jsx("img",{src:w.imageUrl,className:"w-full aspect-square object-cover opacity-60 grayscale hover:grayscale-0 hover:opacity-100 transition-all duration-700",alt:""}),p.jsxs("div",{className:"p-6",children:[p.jsx("h4",{className:"text-white font-bold text-lg font-outfit truncate",children:w.title}),p.jsxs("div",{className:"flex gap-2 mt-4",children:[p.jsxs("button",{onClick:()=>{g(w),Ce({title:w.title,description:w.description,price:w.price,image:w.imageUrl})},className:"flex-1 py-3 bg-white/5 text-white rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-[#00a884] hover:text-black transition-all",children:[p.jsx(xS,{size:18})," Edit"]}),p.jsxs("button",{onClick:()=>ye(w.id),className:"flex-1 py-3 bg-rose-500/10 text-rose-500 rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-rose-500 hover:text-white transition-all",children:[p.jsx(Ls,{size:18})," Delete"]})]})]})]},w.id))})]}):o==="marketplace"?p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 pb-20",children:r.map(w=>p.jsxs("div",{className:"bg-[#111b21] rounded-[48px] overflow-hidden border border-white/5 shadow-2xl transition-all hover:border-[#00a884]/30",children:[p.jsxs("div",{className:"aspect-square relative overflow-hidden bg-black/40",children:[p.jsx("img",{src:w.imageUrl,className:"w-full h-full object-cover",alt:""}),p.jsx("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:p.jsx("button",{onClick:()=>Ee(w.id),className:`p-3 rounded-full backdrop-blur-md border border-white/10 transition-all ${w.isLiked?"bg-rose-500 text-white shadow-lg":"bg-black/40 text-white hover:bg-black/60"}`,children:p.jsx(rm,{size:20,fill:w.isLiked?"currentColor":"none"})})})]}),p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsx("h4",{className:"text-xl font-bold text-white font-outfit truncate",children:w.title}),p.jsx("p",{className:"text-[#8696a0] text-sm line-clamp-2",children:w.description}),p.jsxs("div",{className:"flex justify-between items-center pt-2",children:[p.jsx("span",{className:"text-[#00a884] font-bold text-xl font-outfit",children:w.price||"Zen"}),p.jsxs("button",{onClick:()=>e(w.sellerId,w.sellerName,w.sellerAvatar),className:"px-6 py-3 bg-[#00a884]/10 text-[#00a884] rounded-2xl font-bold flex items-center gap-2 transition-all hover:bg-[#00a884] hover:text-black border border-[#00a884]/20",children:[p.jsx(tS,{size:18})," Connect"]})]})]})]},w.id))}):p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 pb-20",children:f.map(w=>p.jsxs("div",{className:"bg-[#111b21] rounded-[48px] border border-white/5 p-8 shadow-2xl group relative overflow-hidden",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[p.jsx("img",{src:w.iconUrl,className:"w-16 h-16 rounded-[24px] border border-white/10",alt:""}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-white font-bold text-lg font-outfit",children:w.name}),p.jsx("span",{className:"text-[10px] font-mono text-[#00a884] bg-[#00a884]/10 px-2 py-0.5 rounded",children:w.version})]})]}),p.jsx("p",{className:"text-[#8696a0] text-sm mb-8 h-20 line-clamp-3",children:w.description}),p.jsxs("button",{onClick:()=>E(w),className:"w-full py-4 bg-[#00a884] text-black rounded-3xl font-black shadow-xl shadow-[#00a884]/20",children:[p.jsx(Ic,{size:20,className:"inline mr-2"})," Manifest Tool"]})]},w.id))})})}),v&&p.jsxs("div",{className:"fixed inset-0 z-[200] bg-black/95 flex flex-col p-6 animate-in slide-in-from-bottom duration-300",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6 max-w-lg mx-auto w-full",children:[p.jsx("button",{onClick:()=>g(!1),className:"text-[#8696a0] hover:text-white p-2 bg-white/5 rounded-full",children:p.jsx(en,{size:28})}),p.jsx("h3",{className:"text-white text-xl font-bold font-outfit",children:typeof v=="object"?"Edit Manifestation":"New Manifestation"}),p.jsx("div",{className:"w-10"})]}),p.jsx("div",{className:"flex-1 flex flex-col items-center justify-center max-w-lg mx-auto w-full overflow-y-auto no-scrollbar pb-10",children:p.jsxs("div",{className:"w-full bg-[#202c33] rounded-[48px] p-8 shadow-2xl border border-white/10 space-y-6",children:[p.jsxs("div",{onClick:()=>{var w;return(w=document.getElementById("item-image"))==null?void 0:w.click()},className:"relative aspect-square w-full rounded-[36px] bg-[#0b141a] border border-white/5 overflow-hidden flex flex-col items-center justify-center shadow-inner cursor-pointer group",children:[ie.image?p.jsx("img",{src:ie.image,alt:"Preview",className:"w-full h-full object-cover"}):p.jsxs("div",{className:"flex flex-col items-center gap-3 text-[#3b4a54] group-hover:text-[#00a884] transition-colors",children:[p.jsx(Gn,{size:56,strokeWidth:1.5}),p.jsx("span",{className:"text-sm font-bold uppercase tracking-widest",children:"Image Source"})]}),p.jsx("input",{type:"file",id:"item-image",onChange:w=>{var Q;const P=(Q=w.target.files)==null?void 0:Q[0];if(P){const de=new FileReader;de.onloadend=()=>Ce({...ie,image:de.result}),de.readAsDataURL(P)}},accept:"image/*",className:"hidden"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("input",{type:"text",placeholder:"Manifest Title",value:ie.title,onChange:w=>Ce({...ie,title:w.target.value}),className:"w-full bg-[#111b21] border border-white/5 rounded-2xl py-4 px-6 text-white text-lg font-bold placeholder-[#3b4a54] outline-none"}),p.jsx("input",{type:"text",placeholder:"Zen Energy / Price",value:ie.price,onChange:w=>Ce({...ie,price:w.target.value}),className:"w-full bg-[#111b21] border border-white/5 rounded-2xl py-4 px-6 text-[#00a884] font-bold placeholder-[#3b4a54] outline-none"}),p.jsx("textarea",{placeholder:"Manifest description...",value:ie.description,onChange:w=>Ce({...ie,description:w.target.value}),className:"w-full h-24 bg-[#111b21] border border-white/5 rounded-2xl py-4 px-6 text-[#d1d7db] outline-none resize-none"})]}),p.jsx("button",{onClick:ve,className:"w-full bg-[#00a884] text-black py-5 rounded-3xl font-black text-lg shadow-2xl shadow-[#00a884]/20 transition-all",children:"Synchronize Manifestation"})]})})]})]})},vn=Object.create(null);vn.open="0";vn.close="1";vn.ping="2";vn.pong="3";vn.message="4";vn.upgrade="5";vn.noop="6";const da=Object.create(null);Object.keys(vn).forEach(n=>{da[vn[n]]=n});const rc={type:"error",data:"parser error"},h0=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",p0=typeof ArrayBuffer=="function",m0=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,kc=({type:n,data:e},o,s)=>h0&&e instanceof Blob?o?s(e):pm(e,s):p0&&(e instanceof ArrayBuffer||m0(e))?o?s(e):pm(new Blob([e]),s):s(vn[n]+(e||"")),pm=(n,e)=>{const o=new FileReader;return o.onload=function(){const s=o.result.split(",")[1];e("b"+(s||""))},o.readAsDataURL(n)};function mm(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let ec;function v_(n,e){if(h0&&n.data instanceof Blob)return n.data.arrayBuffer().then(mm).then(e);if(p0&&(n.data instanceof ArrayBuffer||m0(n.data)))return e(mm(n.data));kc(n,!1,o=>{ec||(ec=new TextEncoder),e(ec.encode(o))})}const gm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ds=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<gm.length;n++)Ds[gm.charCodeAt(n)]=n;const x_=n=>{let e=n.length*.75,o=n.length,s,r=0,c,f,y,v;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const g=new ArrayBuffer(e),x=new Uint8Array(g);for(s=0;s<o;s+=4)c=Ds[n.charCodeAt(s)],f=Ds[n.charCodeAt(s+1)],y=Ds[n.charCodeAt(s+2)],v=Ds[n.charCodeAt(s+3)],x[r++]=c<<2|f>>4,x[r++]=(f&15)<<4|y>>2,x[r++]=(y&3)<<6|v&63;return g},S_=typeof ArrayBuffer=="function",Uc=(n,e)=>{if(typeof n!="string")return{type:"message",data:g0(n,e)};const o=n.charAt(0);return o==="b"?{type:"message",data:__(n.substring(1),e)}:da[o]?n.length>1?{type:da[o],data:n.substring(1)}:{type:da[o]}:rc},__=(n,e)=>{if(S_){const o=x_(n);return g0(o,e)}else return{base64:!0,data:n}},g0=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},y0="",T_=(n,e)=>{const o=n.length,s=new Array(o);let r=0;n.forEach((c,f)=>{kc(c,!1,y=>{s[f]=y,++r===o&&e(s.join(y0))})})},b_=(n,e)=>{const o=n.split(y0),s=[];for(let r=0;r<o.length;r++){const c=Uc(o[r],e);if(s.push(c),c.type==="error")break}return s};function E_(){return new TransformStream({transform(n,e){v_(n,o=>{const s=o.length;let r;if(s<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,s);else if(s<65536){r=new Uint8Array(3);const c=new DataView(r.buffer);c.setUint8(0,126),c.setUint16(1,s)}else{r=new Uint8Array(9);const c=new DataView(r.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(s))}n.data&&typeof n.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(o)})}})}let tc;function na(n){return n.reduce((e,o)=>e+o.length,0)}function ia(n,e){if(n[0].length===e)return n.shift();const o=new Uint8Array(e);let s=0;for(let r=0;r<e;r++)o[r]=n[0][s++],s===n[0].length&&(n.shift(),s=0);return n.length&&s<n[0].length&&(n[0]=n[0].slice(s)),o}function C_(n,e){tc||(tc=new TextDecoder);const o=[];let s=0,r=-1,c=!1;return new TransformStream({transform(f,y){for(o.push(f);;){if(s===0){if(na(o)<1)break;const v=ia(o,1);c=(v[0]&128)===128,r=v[0]&127,r<126?s=3:r===126?s=1:s=2}else if(s===1){if(na(o)<2)break;const v=ia(o,2);r=new DataView(v.buffer,v.byteOffset,v.length).getUint16(0),s=3}else if(s===2){if(na(o)<8)break;const v=ia(o,8),g=new DataView(v.buffer,v.byteOffset,v.length),x=g.getUint32(0);if(x>Math.pow(2,21)-1){y.enqueue(rc);break}r=x*Math.pow(2,32)+g.getUint32(4),s=3}else{if(na(o)<r)break;const v=ia(o,r);y.enqueue(Uc(c?v:tc.decode(v),e)),s=0}if(r===0||r>n){y.enqueue(rc);break}}}})}const v0=4;function ot(n){if(n)return N_(n)}function N_(n){for(var e in ot.prototype)n[e]=ot.prototype[e];return n}ot.prototype.on=ot.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};ot.prototype.once=function(n,e){function o(){this.off(n,o),e.apply(this,arguments)}return o.fn=e,this.on(n,o),this};ot.prototype.off=ot.prototype.removeListener=ot.prototype.removeAllListeners=ot.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+n];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var s,r=0;r<o.length;r++)if(s=o[r],s===e||s.fn===e){o.splice(r,1);break}return o.length===0&&delete this._callbacks["$"+n],this};ot.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),o=this._callbacks["$"+n],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(o){o=o.slice(0);for(var s=0,r=o.length;s<r;++s)o[s].apply(this,e)}return this};ot.prototype.emitReserved=ot.prototype.emit;ot.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};ot.prototype.hasListeners=function(n){return!!this.listeners(n).length};const wa=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,o)=>o(e,0),Wt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),w_="arraybuffer";function x0(n,...e){return e.reduce((o,s)=>(n.hasOwnProperty(s)&&(o[s]=n[s]),o),{})}const A_=Wt.setTimeout,R_=Wt.clearTimeout;function Aa(n,e){e.useNativeTimers?(n.setTimeoutFn=A_.bind(Wt),n.clearTimeoutFn=R_.bind(Wt)):(n.setTimeoutFn=Wt.setTimeout.bind(Wt),n.clearTimeoutFn=Wt.clearTimeout.bind(Wt))}const M_=1.33;function I_(n){return typeof n=="string"?D_(n):Math.ceil((n.byteLength||n.size)*M_)}function D_(n){let e=0,o=0;for(let s=0,r=n.length;s<r;s++)e=n.charCodeAt(s),e<128?o+=1:e<2048?o+=2:e<55296||e>=57344?o+=3:(s++,o+=4);return o}function S0(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function k_(n){let e="";for(let o in n)n.hasOwnProperty(o)&&(e.length&&(e+="&"),e+=encodeURIComponent(o)+"="+encodeURIComponent(n[o]));return e}function U_(n){let e={},o=n.split("&");for(let s=0,r=o.length;s<r;s++){let c=o[s].split("=");e[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return e}class L_ extends Error{constructor(e,o,s){super(e),this.description=o,this.context=s,this.type="TransportError"}}class Lc extends ot{constructor(e){super(),this.writable=!1,Aa(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,o,s){return super.emitReserved("error",new L_(e,o,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const o=Uc(e,this.socket.binaryType);this.onPacket(o)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,o={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(o)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const o=k_(e);return o.length?"?"+o:""}}class z_ extends Lc{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const o=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||o()})),this.writable||(s++,this.once("drain",function(){--s||o()}))}else o()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const o=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};b_(e,this.socket.binaryType).forEach(o),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,T_(e,o=>{this.doWrite(o,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",o=this.query||{};return this.opts.timestampRequests!==!1&&(o[this.opts.timestampParam]=S0()),!this.supportsBinary&&!o.sid&&(o.b64=1),this.createUri(e,o)}}let _0=!1;try{_0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const H_=_0;function G_(){}class V_ extends z_{constructor(e){if(super(e),typeof location<"u"){const o=location.protocol==="https:";let s=location.port;s||(s=o?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,o){const s=this.request({method:"POST",data:e});s.on("success",o),s.on("error",(r,c)=>{this.onError("xhr post error",r,c)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(o,s)=>{this.onError("xhr poll error",o,s)}),this.pollXhr=e}}class yn extends ot{constructor(e,o,s){super(),this.createRequest=e,Aa(this,s),this._opts=s,this._method=s.method||"GET",this._uri=o,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const o=x0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");o.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(o);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&s.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var r;s.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=yn.requestsCount++,yn.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=G_,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete yn.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}yn.requestsCount=0;yn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",ym);else if(typeof addEventListener=="function"){const n="onpagehide"in Wt?"pagehide":"unload";addEventListener(n,ym,!1)}}function ym(){for(let n in yn.requests)yn.requests.hasOwnProperty(n)&&yn.requests[n].abort()}const q_=(function(){const n=T0({xdomain:!1});return n&&n.responseType!==null})();class B_ extends V_{constructor(e){super(e);const o=e&&e.forceBase64;this.supportsBinary=q_&&!o}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new yn(T0,this.uri(),e)}}function T0(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||H_))return new XMLHttpRequest}catch{}if(!e)try{return new Wt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const b0=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class P_ extends Lc{get name(){return"websocket"}doOpen(){const e=this.uri(),o=this.opts.protocols,s=b0?{}:x0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,o,s)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let o=0;o<e.length;o++){const s=e[o],r=o===e.length-1;kc(s,this.supportsBinary,c=>{try{this.doWrite(s,c)}catch{}r&&wa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",o=this.query||{};return this.opts.timestampRequests&&(o[this.opts.timestampParam]=S0()),this.supportsBinary||(o.b64=1),this.createUri(e,o)}}const nc=Wt.WebSocket||Wt.MozWebSocket;class O_ extends P_{createSocket(e,o,s){return b0?new nc(e,o,s):o?new nc(e,o):new nc(e)}doWrite(e,o){this.ws.send(o)}}class F_ extends Lc{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const o=C_(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(o).getReader(),r=E_();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const c=()=>{s.read().then(({done:y,value:v})=>{y||(this.onPacket(v),c())}).catch(y=>{})};c();const f={type:"open"};this.query.sid&&(f.data=`{"sid":"${this.query.sid}"}`),this._writer.write(f).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let o=0;o<e.length;o++){const s=e[o],r=o===e.length-1;this._writer.write(s).then(()=>{r&&wa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Y_={websocket:O_,webtransport:F_,polling:B_},j_=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,J_=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function uc(n){if(n.length>8e3)throw"URI too long";const e=n,o=n.indexOf("["),s=n.indexOf("]");o!=-1&&s!=-1&&(n=n.substring(0,o)+n.substring(o,s).replace(/:/g,";")+n.substring(s,n.length));let r=j_.exec(n||""),c={},f=14;for(;f--;)c[J_[f]]=r[f]||"";return o!=-1&&s!=-1&&(c.source=e,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=$_(c,c.path),c.queryKey=K_(c,c.query),c}function $_(n,e){const o=/\/{2,9}/g,s=e.replace(o,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function K_(n,e){const o={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,r,c){r&&(o[r]=c)}),o}const cc=typeof addEventListener=="function"&&typeof removeEventListener=="function",fa=[];cc&&addEventListener("offline",()=>{fa.forEach(n=>n())},!1);class mi extends ot{constructor(e,o){if(super(),this.binaryType=w_,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(o=e,e=null),e){const s=uc(e);o.hostname=s.host,o.secure=s.protocol==="https"||s.protocol==="wss",o.port=s.port,s.query&&(o.query=s.query)}else o.host&&(o.hostname=uc(o.host).host);Aa(this,o),this.secure=o.secure!=null?o.secure:typeof location<"u"&&location.protocol==="https:",o.hostname&&!o.port&&(o.port=this.secure?"443":"80"),this.hostname=o.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=o.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},o.transports.forEach(s=>{const r=s.prototype.name;this.transports.push(r),this._transportsByName[r]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},o),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=U_(this.opts.query)),cc&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},fa.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const o=Object.assign({},this.opts.query);o.EIO=v0,o.transport=e,this.id&&(o.sid=this.id);const s=Object.assign({},this.opts,{query:o,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&mi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const o=this.createTransport(e);o.open(),this.setTransport(o)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",o=>this._onClose("transport close",o))}onOpen(){this.readyState="open",mi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const o=new Error("server error");o.code=e.data,this._onError(o);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let o=1;for(let s=0;s<this.writeBuffer.length;s++){const r=this.writeBuffer[s].data;if(r&&(o+=I_(r)),s>0&&o>this._maxPayload)return this.writeBuffer.slice(0,s);o+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,wa(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,o,s){return this._sendPacket("message",e,o,s),this}send(e,o,s){return this._sendPacket("message",e,o,s),this}_sendPacket(e,o,s,r){if(typeof o=="function"&&(r=o,o=void 0),typeof s=="function"&&(r=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const c={type:e,data:o,options:s};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},o=()=>{this.off("upgrade",o),this.off("upgradeError",o),e()},s=()=>{this.once("upgrade",o),this.once("upgradeError",o)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(mi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,o){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),cc&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=fa.indexOf(this._offlineEventListener);s!==-1&&fa.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,o),this.writeBuffer=[],this._prevBufferLen=0}}}mi.protocol=v0;class X_ extends mi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let o=this.createTransport(e),s=!1;mi.priorWebsocketSuccess=!1;const r=()=>{s||(o.send([{type:"ping",data:"probe"}]),o.once("packet",T=>{if(!s)if(T.type==="pong"&&T.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",o),!o)return;mi.priorWebsocketSuccess=o.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(x(),this.setTransport(o),o.send([{type:"upgrade"}]),this.emitReserved("upgrade",o),o=null,this.upgrading=!1,this.flush())})}else{const _=new Error("probe error");_.transport=o.name,this.emitReserved("upgradeError",_)}}))};function c(){s||(s=!0,x(),o.close(),o=null)}const f=T=>{const _=new Error("probe error: "+T);_.transport=o.name,c(),this.emitReserved("upgradeError",_)};function y(){f("transport closed")}function v(){f("socket closed")}function g(T){o&&T.name!==o.name&&c()}const x=()=>{o.removeListener("open",r),o.removeListener("error",f),o.removeListener("close",y),this.off("close",v),this.off("upgrading",g)};o.once("open",r),o.once("error",f),o.once("close",y),this.once("close",v),this.once("upgrading",g),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||o.open()},200):o.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const o=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&o.push(e[s]);return o}}let Q_=class extends X_{constructor(e,o={}){const s=typeof e=="object"?e:o;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(r=>Y_[r]).filter(r=>!!r)),super(e,s)}};function Z_(n,e="",o){let s=n;o=o||typeof location<"u"&&location,n==null&&(n=o.protocol+"//"+o.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=o.protocol+n:n=o.host+n),/^(https?|wss?):\/\//.test(n)||(typeof o<"u"?n=o.protocol+"//"+n:n="https://"+n),s=uc(n)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const c=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+c+":"+s.port+e,s.href=s.protocol+"://"+c+(o&&o.port===s.port?"":":"+s.port),s}const W_=typeof ArrayBuffer=="function",eT=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,E0=Object.prototype.toString,tT=typeof Blob=="function"||typeof Blob<"u"&&E0.call(Blob)==="[object BlobConstructor]",nT=typeof File=="function"||typeof File<"u"&&E0.call(File)==="[object FileConstructor]";function zc(n){return W_&&(n instanceof ArrayBuffer||eT(n))||tT&&n instanceof Blob||nT&&n instanceof File}function ha(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let o=0,s=n.length;o<s;o++)if(ha(n[o]))return!0;return!1}if(zc(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return ha(n.toJSON(),!0);for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)&&ha(n[o]))return!0;return!1}function iT(n){const e=[],o=n.data,s=n;return s.data=dc(o,e),s.attachments=e.length,{packet:s,buffers:e}}function dc(n,e){if(!n)return n;if(zc(n)){const o={_placeholder:!0,num:e.length};return e.push(n),o}else if(Array.isArray(n)){const o=new Array(n.length);for(let s=0;s<n.length;s++)o[s]=dc(n[s],e);return o}else if(typeof n=="object"&&!(n instanceof Date)){const o={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(o[s]=dc(n[s],e));return o}return n}function oT(n,e){return n.data=fc(n.data,e),delete n.attachments,n}function fc(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let o=0;o<n.length;o++)n[o]=fc(n[o],e);else if(typeof n=="object")for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(n[o]=fc(n[o],e));return n}const sT=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var De;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(De||(De={}));class lT{constructor(e){this.replacer=e}encode(e){return(e.type===De.EVENT||e.type===De.ACK)&&ha(e)?this.encodeAsBinary({type:e.type===De.EVENT?De.BINARY_EVENT:De.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let o=""+e.type;return(e.type===De.BINARY_EVENT||e.type===De.BINARY_ACK)&&(o+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(o+=e.nsp+","),e.id!=null&&(o+=e.id),e.data!=null&&(o+=JSON.stringify(e.data,this.replacer)),o}encodeAsBinary(e){const o=iT(e),s=this.encodeAsString(o.packet),r=o.buffers;return r.unshift(s),r}}class Hc extends ot{constructor(e){super(),this.reviver=e}add(e){let o;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");o=this.decodeString(e);const s=o.type===De.BINARY_EVENT;s||o.type===De.BINARY_ACK?(o.type=s?De.EVENT:De.ACK,this.reconstructor=new aT(o),o.attachments===0&&super.emitReserved("decoded",o)):super.emitReserved("decoded",o)}else if(zc(e)||e.base64)if(this.reconstructor)o=this.reconstructor.takeBinaryData(e),o&&(this.reconstructor=null,super.emitReserved("decoded",o));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let o=0;const s={type:Number(e.charAt(0))};if(De[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===De.BINARY_EVENT||s.type===De.BINARY_ACK){const c=o+1;for(;e.charAt(++o)!=="-"&&o!=e.length;);const f=e.substring(c,o);if(f!=Number(f)||e.charAt(o)!=="-")throw new Error("Illegal attachments");s.attachments=Number(f)}if(e.charAt(o+1)==="/"){const c=o+1;for(;++o&&!(e.charAt(o)===","||o===e.length););s.nsp=e.substring(c,o)}else s.nsp="/";const r=e.charAt(o+1);if(r!==""&&Number(r)==r){const c=o+1;for(;++o;){const f=e.charAt(o);if(f==null||Number(f)!=f){--o;break}if(o===e.length)break}s.id=Number(e.substring(c,o+1))}if(e.charAt(++o)){const c=this.tryParse(e.substr(o));if(Hc.isPayloadValid(s.type,c))s.data=c;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,o){switch(e){case De.CONNECT:return vm(o);case De.DISCONNECT:return o===void 0;case De.CONNECT_ERROR:return typeof o=="string"||vm(o);case De.EVENT:case De.BINARY_EVENT:return Array.isArray(o)&&(typeof o[0]=="number"||typeof o[0]=="string"&&sT.indexOf(o[0])===-1);case De.ACK:case De.BINARY_ACK:return Array.isArray(o)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class aT{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const o=oT(this.reconPack,this.buffers);return this.finishedReconstruction(),o}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function vm(n){return Object.prototype.toString.call(n)==="[object Object]"}const rT=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Hc,Encoder:lT,get PacketType(){return De}},Symbol.toStringTag,{value:"Module"}));function rn(n,e,o){return n.on(e,o),function(){n.off(e,o)}}const uT=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class C0 extends ot{constructor(e,o,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=o,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[rn(e,"open",this.onopen.bind(this)),rn(e,"packet",this.onpacket.bind(this)),rn(e,"error",this.onerror.bind(this)),rn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...o){var s,r,c;if(uT.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(o.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(o),this;const f={type:De.EVENT,data:o};if(f.options={},f.options.compress=this.flags.compress!==!1,typeof o[o.length-1]=="function"){const x=this.ids++,T=o.pop();this._registerAckCallback(x,T),f.id=x}const y=(r=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||r===void 0?void 0:r.writable,v=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!y||(v?(this.notifyOutgoingListeners(f),this.packet(f)):this.sendBuffer.push(f)),this.flags={},this}_registerAckCallback(e,o){var s;const r=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(r===void 0){this.acks[e]=o;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let y=0;y<this.sendBuffer.length;y++)this.sendBuffer[y].id===e&&this.sendBuffer.splice(y,1);o.call(this,new Error("operation has timed out"))},r),f=(...y)=>{this.io.clearTimeoutFn(c),o.apply(this,y)};f.withError=!0,this.acks[e]=f}emitWithAck(e,...o){return new Promise((s,r)=>{const c=(f,y)=>f?r(f):s(y);c.withError=!0,o.push(c),this.emit(e,...o)})}_addToQueue(e){let o;typeof e[e.length-1]=="function"&&(o=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...c)=>(this._queue[0],r!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),o&&o(r)):(this._queue.shift(),o&&o(null,...c)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const o=this._queue[0];o.pending&&!e||(o.pending=!0,o.tryCount++,this.flags=o.flags,this.emit.apply(this,o.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:De.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,o){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,o),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case De.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case De.EVENT:case De.BINARY_EVENT:this.onevent(e);break;case De.ACK:case De.BINARY_ACK:this.onack(e);break;case De.DISCONNECT:this.ondisconnect();break;case De.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const o=e.data||[];e.id!=null&&o.push(this.ack(e.id)),this.connected?this.emitEvent(o):this.receiveBuffer.push(Object.freeze(o))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const o=this._anyListeners.slice();for(const s of o)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const o=this;let s=!1;return function(...r){s||(s=!0,o.packet({type:De.ACK,id:e,data:r}))}}onack(e){const o=this.acks[e.id];typeof o=="function"&&(delete this.acks[e.id],o.withError&&e.data.unshift(null),o.apply(this,e.data))}onconnect(e,o){this.id=e,this.recovered=o&&this._pid===o,this._pid=o,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:De.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const o=this._anyListeners;for(let s=0;s<o.length;s++)if(e===o[s])return o.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const o=this._anyOutgoingListeners;for(let s=0;s<o.length;s++)if(e===o[s])return o.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const o=this._anyOutgoingListeners.slice();for(const s of o)s.apply(this,e.data)}}}function Io(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}Io.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),o=Math.floor(e*this.jitter*n);n=(Math.floor(e*10)&1)==0?n-o:n+o}return Math.min(n,this.max)|0};Io.prototype.reset=function(){this.attempts=0};Io.prototype.setMin=function(n){this.ms=n};Io.prototype.setMax=function(n){this.max=n};Io.prototype.setJitter=function(n){this.jitter=n};class hc extends ot{constructor(e,o){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(o=e,e=void 0),o=o||{},o.path=o.path||"/socket.io",this.opts=o,Aa(this,o),this.reconnection(o.reconnection!==!1),this.reconnectionAttempts(o.reconnectionAttempts||1/0),this.reconnectionDelay(o.reconnectionDelay||1e3),this.reconnectionDelayMax(o.reconnectionDelayMax||5e3),this.randomizationFactor((s=o.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Io({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(o.timeout==null?2e4:o.timeout),this._readyState="closed",this.uri=e;const r=o.parser||rT;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=o.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var o;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(o=this.backoff)===null||o===void 0||o.setMin(e),this)}randomizationFactor(e){var o;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(o=this.backoff)===null||o===void 0||o.setJitter(e),this)}reconnectionDelayMax(e){var o;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(o=this.backoff)===null||o===void 0||o.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Q_(this.uri,this.opts);const o=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const r=rn(o,"open",function(){s.onopen(),e&&e()}),c=y=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",y),e?e(y):this.maybeReconnectOnOpen()},f=rn(o,"error",c);if(this._timeout!==!1){const y=this._timeout,v=this.setTimeoutFn(()=>{r(),c(new Error("timeout")),o.close()},y);this.opts.autoUnref&&v.unref(),this.subs.push(()=>{this.clearTimeoutFn(v)})}return this.subs.push(r),this.subs.push(f),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(rn(e,"ping",this.onping.bind(this)),rn(e,"data",this.ondata.bind(this)),rn(e,"error",this.onerror.bind(this)),rn(e,"close",this.onclose.bind(this)),rn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(o){this.onclose("parse error",o)}}ondecoded(e){wa(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,o){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new C0(this,e,o),this.nsps[e]=s),s}_destroy(e){const o=Object.keys(this.nsps);for(const s of o)if(this.nsps[s].active)return;this._close()}_packet(e){const o=this.encoder.encode(e);for(let s=0;s<o.length;s++)this.engine.write(o[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,o){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,o),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const o=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},o);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Rs={};function pa(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const o=Z_(n,e.path||"/socket.io"),s=o.source,r=o.id,c=o.path,f=Rs[r]&&c in Rs[r].nsps,y=e.forceNew||e["force new connection"]||e.multiplex===!1||f;let v;return y?v=new hc(s,e):(Rs[r]||(Rs[r]=new hc(s,e)),v=Rs[r]),o.query&&!e.query&&(e.query=o.queryKey),v.socket(o.path,e)}Object.assign(pa,{Manager:hc,Socket:C0,io:pa,connect:pa});let Zt=null;const N0=n=>{const e=window.location.hostname==="localhost"?"http://localhost:3003":window.location.origin;return Zt=pa(e,{autoConnect:!0,transports:["websocket"]}),Zt.on("connect",()=>{console.log("Zenj Relay Connected:",Zt==null?void 0:Zt.id),Zt==null||Zt.emit("register",n)}),Zt},ks=n=>{var e;Zt&&((e=n.type)!=null&&e.startsWith("webrtc-")?Zt.emit(n.type,n):Zt.emit("send_message",n))};class cT{constructor(e,o,s,r){this.localStream=null,this.remoteStream=null,this.targetUserId=e,this.onRemoteStream=o,this.onCallEnded=s,this.onStatusChange=r,this.peerConnection=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]}),this.setupPeerConnection()}setupPeerConnection(){this.peerConnection.onicecandidate=e=>{e.candidate&&ks({type:"webrtc-ice",to:this.targetUserId,candidate:e.candidate})},this.peerConnection.ontrack=e=>{this.remoteStream=e.streams[0],this.onRemoteStream(this.remoteStream)},this.peerConnection.onconnectionstatechange=()=>{this.onStatusChange(this.peerConnection.connectionState),(this.peerConnection.connectionState==="disconnected"||this.peerConnection.connectionState==="failed"||this.peerConnection.connectionState==="closed")&&this.onCallEnded()}}async startCall(e,o){try{this.onStatusChange("Requesting media access..."),this.localStream=await navigator.mediaDevices.getUserMedia({audio:e,video:o}),this.localStream.getTracks().forEach(r=>{this.peerConnection.addTrack(r,this.localStream)}),this.onStatusChange("Creating offer...");const s=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(s),ks({type:"webrtc-offer",to:this.targetUserId,offer:s}),this.onStatusChange("Waiting for answer...")}catch(s){throw console.error("Error starting call:",s),this.onStatusChange("Failed to access media devices"),s}}async handleOffer(e,o){var s;try{this.onStatusChange("Receiving call..."),await this.peerConnection.setRemoteDescription(new RTCSessionDescription(o)),this.localStream=await navigator.mediaDevices.getUserMedia({audio:!0,video:((s=o.sdp)==null?void 0:s.includes("video"))||!1}),this.localStream.getTracks().forEach(c=>{this.peerConnection.addTrack(c,this.localStream)}),this.onStatusChange("Creating answer...");const r=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(r),ks({type:"webrtc-answer",to:e,answer:r}),this.onStatusChange("Connected")}catch(r){throw console.error("Error handling offer:",r),r}}async handleAnswer(e){try{await this.peerConnection.setRemoteDescription(new RTCSessionDescription(e)),this.onStatusChange("Connected")}catch(o){throw console.error("Error handling answer:",o),o}}async handleIceCandidate(e){try{await this.peerConnection.addIceCandidate(new RTCIceCandidate(e))}catch(o){console.error("Error handling ICE candidate:",o)}}endCall(){ks({type:"webrtc-end",to:this.targetUserId}),this.cleanup()}cleanup(){this.localStream&&this.localStream.getTracks().forEach(e=>e.stop()),this.peerConnection.close()}getLocalStream(){return this.localStream}getRemoteStream(){return this.remoteStream}toggleAudio(){if(this.localStream){const e=this.localStream.getAudioTracks()[0];e&&(e.enabled=!e.enabled)}}toggleVideo(){if(this.localStream){const e=this.localStream.getVideoTracks()[0];e&&(e.enabled=!e.enabled)}}}const dT=({contact:n,type:e,onEnd:o,currentUserId:s})=>{const[r,c]=B.useState(!1),[f,y]=B.useState(e==="video"),[v,g]=B.useState("Connecting..."),[x,T]=B.useState(null),_=B.useRef(null),E=B.useRef(null),C=B.useRef(null);B.useEffect(()=>(k(),()=>{x&&x.endCall()}),[]);const k=async()=>{try{g("Initializing..."),C.current=N0(s);const G=new cT(n.id,X=>{E.current&&(E.current.srcObject=X)},()=>{g("Call ended"),o()},X=>{g(X)});T(G),C.current.on("webrtc-offer",async X=>{X.from===n.id&&await G.handleOffer(X.from,X.offer)}),C.current.on("webrtc-answer",async X=>{X.from===n.id&&await G.handleAnswer(X.answer)}),C.current.on("webrtc-ice",async X=>{X.from===n.id&&await G.handleIceCandidate(X.candidate)}),C.current.on("webrtc-end",X=>{X.from===n.id&&G.endCall()}),await G.startCall(!0,e==="video");const K=G.getLocalStream();_.current&&K&&(_.current.srcObject=K)}catch(G){console.error("Error starting call:",G),g("Permission Denied")}},A=()=>{x&&(x.toggleAudio(),c(!r))},V=()=>{x&&(x.toggleVideo(),y(!f))},F=()=>{x&&x.endCall(),o()};return p.jsxs("div",{className:"fixed inset-0 z-[100] bg-[#0b141a]/95 backdrop-blur-xl flex flex-col animate-in fade-in zoom-in duration-300",children:[p.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8",children:[p.jsx("div",{className:"relative mb-8",children:e==="video"?p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"w-[240px] h-[180px] bg-black rounded-2xl overflow-hidden shadow-2xl border-2 border-white/10",children:[p.jsx("video",{ref:_,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),p.jsx("div",{className:"absolute bottom-2 left-2 text-xs text-white bg-black/50 px-2 py-1 rounded",children:"You"})]}),p.jsxs("div",{className:"w-[240px] h-[180px] bg-black rounded-2xl overflow-hidden shadow-2xl border-2 border-white/10",children:[p.jsx("video",{ref:E,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),p.jsx("div",{className:"absolute bottom-2 left-2 text-xs text-white bg-black/50 px-2 py-1 rounded",children:n.name})]})]}):p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 rounded-full animate-ping opacity-20"}),p.jsx("img",{src:n.avatar,alt:n.name,className:"w-48 h-48 rounded-full shadow-2xl relative z-10 border-4 border-[#00a884]"})]})}),p.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:n.name}),p.jsx("p",{className:"text-[#00a884] font-medium tracking-wide uppercase text-sm animate-pulse",children:v})]}),p.jsxs("div",{className:"h-[120px] bg-[#202c33]/50 backdrop-blur-md flex items-center justify-center gap-10 px-8",children:[p.jsx("button",{onClick:A,className:`p-5 rounded-full transition-all ${r?"bg-white/10 text-white":"bg-white/20 text-white hover:bg-white/30"}`,children:r?p.jsx(lS,{size:28}):p.jsx(ca,{size:28})}),p.jsx("button",{onClick:F,className:"p-6 bg-rose-500 text-white rounded-full hover:bg-rose-600 transition-all shadow-xl shadow-rose-500/20",children:p.jsx(_S,{size:32,fill:"currentColor"})}),e==="video"&&p.jsx("button",{onClick:V,className:`p-5 rounded-full transition-all ${f?"bg-white/20 text-white hover:bg-white/30":"bg-white/10 text-white"}`,children:f?p.jsx(ac,{size:28}):p.jsx(f_,{size:28})})]})]})},fT=({notification:n,onClose:e})=>{B.useEffect(()=>{if(n.duration&&n.duration>0){const s=setTimeout(()=>{e(n.id)},n.duration);return()=>clearTimeout(s)}},[n,e]);const o=()=>{switch(n.type){case"success":return"bg-green-500";case"warning":return"bg-yellow-500";case"error":return"bg-red-500";default:return"bg-[#00a884]"}};return p.jsxs("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 z-50 max-w-md w-full mx-4 ${o()} text-white rounded-lg shadow-lg p-4`,children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsx("p",{className:"text-sm font-medium flex-1",children:n.message}),p.jsx("button",{onClick:()=>e(n.id),className:"ml-2 text-white hover:text-gray-200 transition-colors",children:p.jsx(en,{size:16})})]}),n.actions&&n.actions.length>0&&p.jsx("div",{className:"flex gap-2 mt-3",children:n.actions.map((s,r)=>p.jsx("button",{onClick:()=>{s.onClick(),e(n.id)},className:`px-3 py-1 text-xs font-medium rounded ${s.variant==="secondary"?"bg-white/20 text-white hover:bg-white/30":"bg-white text-gray-800 hover:bg-gray-100"} transition-colors`,children:s.text},r))})]})},w0=B.createContext(void 0),A0=()=>{const n=B.useContext(w0);if(!n)throw new Error("useNotification must be used within a NotificationProvider");return n},hT=({children:n})=>{const[e,o]=B.useState([]),[s,r]=B.useState(new Map),c=(v,g,x="info",T=g&&g.length>0?0:3e3)=>{const E={id:Date.now().toString(),message:v,actions:g,type:x,duration:T};o(C=>[...C,E])},f=v=>new Promise(g=>{const x=Date.now().toString();r(T=>new Map(T.set(x,g))),c(v,[{text:"Yes",onClick:()=>g(!0),variant:"primary"},{text:"No",onClick:()=>g(!1),variant:"secondary"}],"warning",0)}),y=v=>{o(x=>x.filter(T=>T.id!==v));const g=s.get(v);g&&(g(!1),r(x=>{const T=new Map(x);return T.delete(v),T}))};return p.jsxs(w0.Provider,{value:{showNotification:c,confirm:f},children:[n,p.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 pointer-events-none",children:e.map(v=>p.jsx("div",{className:"pointer-events-auto",children:p.jsx(fT,{notification:v,onClose:y})},v.id))})]})},pT=({isOpen:n,onClose:e,onAdd:o,userName:s})=>{const[r,c]=B.useState(""),[f,y]=B.useState("input"),[v,g]=B.useState(!1),{showNotification:x}=A0();if(!n)return null;const T=()=>{r.trim()&&(g(!0),setTimeout(()=>{o(r),g(!1),y("success")},1e3))},_=async()=>{const E=`https://zenj.ai/register?ref=${encodeURIComponent(r)}&inviter=${encodeURIComponent(s)}`;try{navigator.share?await navigator.share({title:"Join Zenj Chat",text:"Hey! I added you on Zenj. Use this link to finish your registration:",url:E}):(await navigator.clipboard.writeText(E),x("Invite link copied to clipboard!",[],"success"))}catch(C){console.error(C)}};return p.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:p.jsxs("div",{className:"bg-[#202c33] w-full max-w-sm rounded-3xl overflow-hidden shadow-2xl border border-white/10 animate-in zoom-in-95 duration-200",children:[p.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-white/5",children:[p.jsx("h3",{className:"text-xl font-bold text-[#e9edef]",children:"Add New Friend"}),p.jsx("button",{onClick:e,className:"text-[#8696a0] hover:text-white transition-colors",children:p.jsx(en,{size:24})})]}),p.jsx("div",{className:"p-8",children:f==="input"?p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"text-center mb-4",children:[p.jsx("div",{className:"w-16 h-16 bg-[#00a884]/10 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(Na,{className:"text-[#00a884]",size:28})}),p.jsx("p",{className:"text-[#8696a0] text-sm",children:"Enter your friend's phone number to find them or invite them to Zenj."})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-semibold text-[#00a884] uppercase tracking-wider",children:"Phone Number"}),p.jsx("input",{type:"tel",placeholder:"+1 234 567 890",value:r,onChange:E=>c(E.target.value),autoFocus:!0,className:"w-full bg-[#2a3942] border border-transparent focus:border-[#00a884] rounded-xl py-3 px-4 text-[#d1d7db] outline-none transition-all text-lg"})]}),p.jsx("button",{onClick:T,disabled:!r.trim()||v,className:"w-full bg-[#00a884] text-black font-bold py-4 rounded-xl hover:bg-[#06cf9c] transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:v?p.jsx(gi,{className:"animate-spin",size:20}):"Add Friend"})]}):p.jsxs("div",{className:"text-center space-y-6",children:[p.jsx("div",{className:"w-16 h-16 bg-emerald-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(C1,{className:"text-emerald-500",size:32})}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-bold text-white mb-2",children:"Friend Added!"}),p.jsxs("p",{className:"text-[#8696a0] text-sm",children:["A placeholder profile has been created for ",p.jsx("strong",{children:r}),". Share the invite link to let them complete their registration."]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("button",{onClick:_,className:"w-full bg-[#00a884] text-black font-bold py-4 rounded-xl hover:bg-[#06cf9c] transition-all flex items-center justify-center gap-2",children:[p.jsx(GS,{size:20}),"Share Invite Link"]}),p.jsx("button",{onClick:e,className:"w-full bg-[#2a3942] text-[#d1d7db] font-semibold py-3 rounded-xl hover:bg-[#32414a] transition-all",children:"Done"})]})]})})]})})},mT=({isOpen:n,onClose:e,contacts:o,onCreate:s})=>{const[r,c]=B.useState(""),[f,y]=B.useState([]),[v,g]=B.useState(!1);if(!n)return null;const x=E=>{y(C=>C.includes(E)?C.filter(k=>k!==E):[...C,E])},T=()=>{!r.trim()||f.length===0||(g(!0),setTimeout(()=>{s(r,f),g(!1),c(""),y([]),e()},800))},_=o.filter(E=>!E.isGroup);return p.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-black/70 backdrop-blur-md animate-in fade-in duration-300",children:p.jsxs("div",{className:"bg-[#202c33] w-full max-w-md rounded-[32px] overflow-hidden shadow-2xl border border-white/10 flex flex-col max-h-[80vh]",children:[p.jsxs("div",{className:"p-6 border-b border-white/5 flex justify-between items-center bg-[#2a3942]/50",children:[p.jsxs("h3",{className:"text-xl font-bold text-[#e9edef] flex items-center gap-2",children:[p.jsx(lc,{className:"text-[#00a884]"})," New Group"]}),p.jsx("button",{onClick:e,className:"text-[#8696a0] hover:text-white transition-colors",children:p.jsx(en,{size:24})})]}),p.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto no-scrollbar",children:[p.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p.jsxs("div",{className:"w-20 h-20 bg-[#2a3942] rounded-3xl flex items-center justify-center text-[#8696a0] border border-white/5 relative group cursor-pointer",children:[p.jsx(lc,{size:32}),p.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-3xl flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:p.jsx(Gn,{size:20,className:"text-white"})})]}),p.jsx("input",{type:"text",placeholder:"Group Name",value:r,onChange:E=>c(E.target.value),className:"w-full bg-[#2a3942] border-b-2 border-transparent focus:border-[#00a884] rounded-xl py-3 px-4 text-[#d1d7db] outline-none transition-all text-center text-lg font-semibold"})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("label",{className:"text-xs font-bold text-[#00a884] uppercase tracking-widest px-1",children:"Select Members"}),p.jsx("div",{className:"space-y-1",children:_.map(E=>p.jsxs("div",{onClick:()=>x(E.id),className:`flex items-center gap-3 p-3 rounded-2xl cursor-pointer transition-all ${f.includes(E.id)?"bg-[#00a884]/10 border border-[#00a884]/20":"hover:bg-white/5 border border-transparent"}`,children:[p.jsx("img",{src:E.avatar,className:"w-10 h-10 rounded-full object-cover",alt:E.name}),p.jsx("span",{className:"flex-1 text-[#d1d7db] font-medium",children:E.name}),f.includes(E.id)&&p.jsx("div",{className:"bg-[#00a884] text-black rounded-full p-1",children:p.jsx(Mo,{size:14,strokeWidth:4})})]},E.id))})]})]}),p.jsx("div",{className:"p-6 bg-[#2a3942]/50 border-t border-white/5",children:p.jsx("button",{onClick:T,disabled:!r.trim()||f.length===0||v,className:"w-full bg-[#00a884] text-black font-bold py-4 rounded-2xl hover:bg-[#06cf9c] transition-all disabled:opacity-50 flex items-center justify-center gap-2 shadow-lg shadow-[#00a884]/20",children:v?p.jsx(gi,{className:"animate-spin"}):"Create Zen Group"})})]})})},gT=({moments:n,onAddMoment:e,userProfile:o})=>{const[s,r]=B.useState(!1),[c,f]=B.useState(""),[y,v]=B.useState(null),g=B.useRef(null),x=window.innerWidth<768,T=C=>{var A;const k=(A=C.target.files)==null?void 0:A[0];if(k){const V=new FileReader;V.onloadend=()=>v(V.result),V.readAsDataURL(k)}},_=()=>{!c.trim()&&!y||(e(c,y||void 0),f(""),v(null),r(!1))},E=C=>{const k=Date.now()-C,A=Math.floor(k/6e4);return A<1?"Just now":A<60?`${A}m ago`:`${Math.floor(A/60)}h ago`};return p.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#0b141a] animate-in fade-in duration-300 overflow-hidden",children:[p.jsx("header",{className:`h-[60px] bg-[#202c33] flex items-center px-4 shrink-0 shadow-lg ${x?"safe-top h-[100px] pt-8":""}`,children:p.jsx("h2",{className:"text-[#e9edef] text-2xl font-bold font-outfit",children:"Zen Moments"})}),p.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar p-4 md:p-8",children:p.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[p.jsxs("div",{onClick:()=>r(!0),className:"flex items-center gap-4 p-5 bg-[#202c33] rounded-[32px] cursor-pointer hover:bg-[#2a3942] active:scale-[0.98] transition-all border border-white/5 shadow-xl",children:[p.jsxs("div",{className:"relative",children:[p.jsx("img",{src:o.avatar,alt:"Me",className:"w-16 h-16 rounded-full border-2 border-[#00a884] object-cover shadow-lg"}),p.jsx("div",{className:"absolute bottom-0 right-0 bg-[#00a884] text-black rounded-full p-1 border-4 border-[#202c33]",children:p.jsx(Hs,{size:16,strokeWidth:3})})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-[#e9edef] font-bold text-lg",children:"My Moment"}),p.jsx("p",{className:"text-[#8696a0] text-sm font-medium",children:"Capture your presence"})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h4",{className:"text-[#00a884] text-xs font-bold uppercase tracking-widest px-2",children:"Recent Updates"}),n.length===0?p.jsxs("div",{className:"text-center py-20 opacity-30",children:[p.jsx(M1,{size:64,className:"mx-auto mb-4 text-[#8696a0]"}),p.jsx("p",{className:"text-[#8696a0] font-medium",children:"Quietness prevails"})]}):p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 pb-20",children:n.map(C=>p.jsxs("div",{className:"bg-[#202c33] rounded-[40px] overflow-hidden border border-white/5 shadow-2xl group transition-all",children:[C.mediaUrl&&p.jsx("div",{className:"aspect-[4/5] w-full overflow-hidden",children:p.jsx("img",{src:C.mediaUrl,alt:"Moment",className:"w-full h-full object-cover transition-transform group-hover:scale-110 duration-1000"})}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.jsx("img",{src:C.userAvatar,className:"w-10 h-10 rounded-full border border-white/10 shadow-md",alt:C.userName}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[#e9edef] text-sm font-bold",children:C.userName}),p.jsx("p",{className:"text-[#8696a0] text-[10px] uppercase font-bold tracking-tighter",children:E(C.timestamp)})]})]}),p.jsx("p",{className:"text-[#d1d7db] text-base leading-relaxed font-medium",children:C.content})]})]},C.id))})]})]})}),s&&p.jsxs("div",{className:"fixed inset-0 z-[150] bg-black/95 flex flex-col p-6 animate-in slide-in-from-bottom duration-300 safe-top safe-bottom",children:[p.jsxs("div",{className:"flex justify-between items-center mb-10",children:[p.jsx("button",{onClick:()=>r(!1),className:"text-[#8696a0] hover:text-white p-2",children:p.jsx(Ca,{size:32})}),p.jsx("h3",{className:"text-white text-xl font-bold font-outfit",children:"New Moment"}),p.jsx("div",{className:"w-8"})]}),p.jsx("div",{className:"flex-1 flex flex-col items-center justify-center max-w-lg mx-auto w-full",children:p.jsxs("div",{className:"w-full bg-[#202c33] rounded-[48px] p-8 shadow-2xl border border-white/10 space-y-8",children:[p.jsxs("div",{className:"relative aspect-[4/5] w-full rounded-[36px] bg-[#0b141a] border border-white/5 overflow-hidden flex items-center justify-center shadow-inner",children:[y?p.jsxs(p.Fragment,{children:[p.jsx("img",{src:y,alt:"Preview",className:"w-full h-full object-cover"}),p.jsx("button",{onClick:()=>v(null),className:"absolute top-6 right-6 bg-black/50 text-white p-3 rounded-full backdrop-blur-md",children:p.jsx(en,{size:20})})]}):p.jsxs("button",{onClick:()=>{var C;return(C=g.current)==null?void 0:C.click()},className:"flex flex-col items-center gap-4 text-[#8696a0] hover:text-[#00a884] transition-colors",children:[p.jsx("div",{className:"p-8 bg-white/5 rounded-full",children:p.jsx(Gn,{size:56,strokeWidth:1.5})}),p.jsx("span",{className:"text-base font-bold uppercase tracking-widest",children:"Capture Vision"})]}),p.jsx("input",{type:"file",ref:g,onChange:T,accept:"image/*",className:"hidden"})]}),p.jsx("textarea",{value:c,onChange:C=>f(C.target.value),placeholder:"What's in your mind?",className:"w-full bg-transparent border-none focus:ring-0 text-[#e9edef] text-2xl placeholder-[#3b4a54] text-center h-24 resize-none font-medium"}),p.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-white/5",children:[p.jsxs("div",{className:"flex gap-6 text-[#8696a0]",children:[p.jsx(Dc,{size:28,className:"cursor-pointer hover:text-white transition-colors",onClick:()=>{var C;return(C=g.current)==null?void 0:C.click()}}),p.jsx(JS,{size:28,className:"cursor-pointer hover:text-white transition-colors"})]}),p.jsx("button",{onClick:_,disabled:!c.trim()&&!y,className:"bg-[#00a884] text-black px-12 py-4 rounded-full font-bold shadow-2xl shadow-[#00a884]/30 hover:scale-105 active:scale-95 transition-all disabled:opacity-50 text-lg",children:"Share"})]})]})})]})]})},yT=[{id:"dark",label:"Dark",color:"#0b141a"},{id:"light",label:"Light",color:"#f8fafc"},{id:"zen-emerald",label:"Emerald",color:"#064e3b"},{id:"zen-ocean",label:"Ocean",color:"#0c4a6e"}],vT=({profile:n,onUpdateSettings:e,onUpdateProfile:o,onClearData:s,onBack:r,onOpenAdmin:c})=>{const{settings:f}=n,y=n.email==="bitbyte790@gmail.com"||n.role==="admin",[v,g]=B.useState(n),[x,T]=B.useState(!1),[_,E]=B.useState(!1),C=B.useRef(null);B.useRef(null),B.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone){E(!1);return}window.deferredPrompt&&E(!0);const K=()=>E(!0);return window.addEventListener("pwa-install-available",K),()=>window.removeEventListener("pwa-install-available",K)},[]);const k=async()=>{const G=window.deferredPrompt;if(!G)return;G.prompt();const{outcome:K}=await G.userChoice;K==="accepted"&&(window.deferredPrompt=null,E(!1))},A=G=>{var X;const K=(X=G.target.files)==null?void 0:X[0];if(K){const ne=new FileReader;ne.onloadend=()=>g({...v,avatar:ne.result}),ne.readAsDataURL(K)}},V=()=>{o(v),T(!0),setTimeout(()=>T(!1),2e3)},F=G=>{e({customThemeColor:G.target.value,theme:"custom"})};return p.jsxs("div",{className:"flex flex-col h-full bg-[#0b141a] animate-in slide-in-from-right duration-300 overflow-hidden",children:[p.jsxs("header",{className:"h-[50px] bg-[#202c33] flex items-center px-4 gap-4 shrink-0 shadow-sm z-10",children:[p.jsx("button",{onClick:r,className:"text-[#d1d7db] hover:text-white transition-colors",children:p.jsx(Ca,{size:20})}),p.jsx("h2",{className:"text-[#e9edef] text-sm font-bold uppercase tracking-wider",children:"Sanctuary Settings"})]}),p.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar p-4 md:p-6 space-y-6",children:p.jsxs("div",{className:"max-w-xl mx-auto space-y-6 pb-12",children:[p.jsxs("section",{className:"space-y-3",children:[p.jsx("h3",{className:"text-[10px] font-black text-[#00a884] uppercase tracking-widest px-1",children:"Identity Manifest"}),p.jsx("div",{className:"bg-[#111b21] rounded-2xl p-6 border border-white/5 space-y-6 shadow-sm",children:p.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>{var G;return(G=C.current)==null?void 0:G.click()},children:[p.jsx("img",{src:v.avatar,alt:"",className:"w-24 h-24 rounded-3xl object-cover border-2 border-[#202c33] shadow-lg"}),p.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-3xl flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:p.jsx(Gn,{className:"text-white",size:20})}),p.jsx("input",{type:"file",ref:C,onChange:A,accept:"image/*",className:"hidden"})]}),p.jsxs("div",{className:"w-full space-y-4",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsxs("label",{className:"text-[#8696a0] text-[9px] font-bold uppercase tracking-widest flex items-center gap-2 ml-1",children:[p.jsx(u0,{size:12})," Display Name"]}),p.jsx("input",{type:"text",value:v.name,onChange:G=>g({...v,name:G.target.value}),className:"w-full bg-[#202c33] border border-white/5 rounded-xl px-4 py-2 text-[#d1d7db] text-sm outline-none focus:border-[#00a884]/30"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsxs("label",{className:"text-[#8696a0] text-[9px] font-bold uppercase tracking-widest flex items-center gap-2 ml-1",children:[p.jsx(Na,{size:12})," Contact Node"]}),p.jsx("input",{type:"text",value:v.phone,onChange:G=>g({...v,phone:G.target.value}),className:"w-full bg-[#202c33] border border-white/5 rounded-xl px-4 py-2 text-[#d1d7db] text-sm outline-none focus:border-[#00a884]/30"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsxs("label",{className:"text-[#8696a0] text-[9px] font-bold uppercase tracking-widest flex items-center gap-2 ml-1",children:[p.jsx(l0,{size:12})," Manifest Bio"]}),p.jsx("textarea",{value:v.bio,onChange:G=>g({...v,bio:G.target.value}),className:"w-full h-16 bg-[#202c33] border border-white/5 rounded-xl px-4 py-2 text-[#d1d7db] text-sm outline-none resize-none focus:border-[#00a884]/30"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("button",{onClick:()=>g({...v,accountType:"member"}),className:`flex items-center justify-center gap-2 p-3 rounded-xl border transition-all ${v.accountType==="member"?"bg-[#00a884]/10 border-[#00a884] text-[#00a884]":"bg-[#2a3942] border-white/5 text-[#8696a0]"}`,children:[p.jsx(A1,{size:16}),p.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Personal"})]}),p.jsxs("button",{onClick:()=>g({...v,accountType:"business"}),className:`flex items-center justify-center gap-2 p-3 rounded-xl border transition-all ${v.accountType==="business"?"bg-[#00a884]/10 border-[#00a884] text-[#00a884]":"bg-[#2a3942] border-white/5 text-[#8696a0]"}`,children:[p.jsx(p1,{size:16}),p.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Business"})]})]})]}),p.jsxs("button",{onClick:V,className:"w-full flex items-center justify-center gap-2 py-3 rounded-xl font-bold text-sm transition-all bg-[#00a884] text-black hover:bg-[#06cf9c]",children:[x?p.jsx(Mo,{size:16,strokeWidth:3}):p.jsx(kS,{size:16}),x?"Identity Saved":"Update Manifest"]})]})})]}),p.jsxs("section",{className:"space-y-3",children:[p.jsx("h3",{className:"text-[10px] font-black text-[#00a884] uppercase tracking-widest px-1",children:"Behavior & Pulse"}),p.jsxs("div",{className:"bg-[#111b21] rounded-2xl overflow-hidden border border-white/5 divide-y divide-white/5 shadow-sm",children:[p.jsxs("div",{className:"p-4 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3 text-[#e9edef]",children:[p.jsx(f1,{size:18,className:"text-[#8696a0]"}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-xs font-bold",children:"Network Signals"}),p.jsx("span",{className:"text-[9px] text-[#8696a0]",children:"Sync notifications"})]})]}),p.jsx("button",{onClick:()=>e({notifications:!f.notifications}),className:`relative w-10 h-5 rounded-full transition-all flex items-center px-0.5 ${f.notifications?"bg-[#00a884]":"bg-[#2a3942]"}`,children:p.jsx("div",{className:`w-4 h-4 rounded-full bg-white transition-transform ${f.notifications?"translate-x-5":"translate-x-0"}`})})]}),p.jsxs("div",{className:"p-4 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3 text-[#e9edef]",children:[p.jsx(c_,{size:18,className:"text-[#8696a0]"}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-xs font-bold",children:"Haptic Feedback"}),p.jsx("span",{className:"text-[9px] text-[#8696a0]",children:"Vibrate on interaction"})]})]}),p.jsx("button",{onClick:()=>e({vibrations:!f.vibrations}),className:`relative w-10 h-5 rounded-full transition-all flex items-center px-0.5 ${f.vibrations?"bg-[#00a884]":"bg-[#2a3942]"}`,children:p.jsx("div",{className:`w-4 h-4 rounded-full bg-white transition-transform ${f.vibrations?"translate-x-5":"translate-x-0"}`})})]})]})]}),p.jsxs("section",{className:"space-y-3",children:[p.jsx("h3",{className:"text-[10px] font-black text-[#00a884] uppercase tracking-widest px-1",children:"Visual Flow"}),p.jsxs("div",{className:"bg-[#111b21] rounded-2xl overflow-hidden border border-white/5 divide-y divide-white/5 shadow-sm",children:[p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-3 text-[#e9edef]",children:[p.jsx(hS,{size:18,className:"text-[#8696a0]"}),p.jsx("span",{className:"text-xs font-bold",children:"Core Palette"})]}),p.jsxs("div",{className:"flex gap-2 overflow-x-auto no-scrollbar mb-4",children:[yT.map(G=>p.jsxs("button",{onClick:()=>e({theme:G.id}),className:`flex-1 min-w-[70px] flex flex-col items-center gap-1.5 p-2 rounded-xl border-2 transition-all ${f.theme===G.id?"border-[#00a884] bg-[#00a884]/5":"border-transparent bg-[#2a3942]/30 hover:bg-white/5"}`,children:[p.jsx("div",{className:"w-8 h-8 rounded-full border border-white/5 shadow-sm",style:{backgroundColor:G.color}}),p.jsx("span",{className:"text-[8px] font-bold text-[#d1d7db] uppercase",children:G.label})]},G.id)),p.jsxs("button",{onClick:()=>e({theme:"custom"}),className:`flex-1 min-w-[70px] flex flex-col items-center gap-1.5 p-2 rounded-xl border-2 transition-all ${f.theme==="custom"?"border-[#00a884] bg-[#00a884]/5":"border-transparent bg-[#2a3942]/30 hover:bg-white/5"}`,children:[p.jsx("div",{className:"w-8 h-8 rounded-full border border-white/5 shadow-sm flex items-center justify-center bg-gradient-to-tr from-rose-500 via-indigo-500 to-emerald-500",style:{backgroundColor:f.customThemeColor},children:p.jsx(ES,{size:10,className:"text-white"})}),p.jsx("span",{className:"text-[8px] font-bold text-[#d1d7db] uppercase",children:"Custom"})]})]}),f.theme==="custom"&&p.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-xl border border-white/5 animate-in fade-in duration-300",children:[p.jsx("span",{className:"text-[11px] font-bold text-[#d1d7db]",children:"Accent Manifestation"}),p.jsx("input",{type:"color",value:f.customThemeColor||"#00a884",onChange:F,className:"w-8 h-8 rounded-lg overflow-hidden border border-white/10 shadow-lg cursor-pointer bg-transparent"})]})]}),p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2 text-[#e9edef]",children:[p.jsx(Dc,{size:18,className:"text-[#8696a0]"}),p.jsx("span",{className:"text-xs font-bold",children:"Sanctuary Backdrop"})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("input",{type:"text",placeholder:"Backdrop URL (e.g. Unsplash link)",value:f.wallpaper||"",onChange:G=>e({wallpaper:G.target.value}),className:"flex-1 bg-[#202c33] border border-white/5 rounded-xl px-4 py-2 text-[#d1d7db] text-xs outline-none focus:border-[#00a884]/30"}),f.wallpaper&&p.jsx("button",{onClick:()=>e({wallpaper:""}),className:"p-2 text-rose-500 hover:bg-rose-500/10 rounded-xl transition-colors",children:p.jsx(Ls,{size:16})})]})]}),p.jsxs("div",{className:"p-4 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3 text-[#e9edef]",children:[f.brightness==="dim"?p.jsx(uS,{size:18,className:"text-[#8696a0]"}):p.jsx(XS,{size:18,className:"text-[#8696a0]"}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-xs font-bold",children:"Luminance"}),p.jsx("span",{className:"text-[9px] text-[#8696a0]",children:"Intensity filter"})]})]}),p.jsx("button",{onClick:()=>e({brightness:f.brightness==="dim"?"bright":"dim"}),className:`relative w-10 h-5 rounded-full transition-all flex items-center px-0.5 ${f.brightness==="bright"?"bg-[#00a884]":"bg-[#2a3942]"}`,children:p.jsx("div",{className:`w-4 h-4 rounded-full bg-white transition-transform ${f.brightness==="bright"?"translate-x-5":"translate-x-0"}`})})]})]})]}),_&&p.jsxs("button",{onClick:k,className:"w-full bg-[#00a884]/10 border border-[#00a884]/20 rounded-2xl p-4 flex items-center justify-between hover:bg-[#00a884]/20 transition-all group",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"p-2 bg-[#00a884] text-black rounded-xl",children:p.jsx(Ic,{size:20})}),p.jsxs("div",{className:"text-left",children:[p.jsx("p",{className:"text-white font-bold text-sm",children:"Zenj Native"}),p.jsx("p",{className:"text-[10px] text-[#8696a0]",children:"Install for deep immersion"})]})]}),p.jsx(lm,{size:18,className:"text-[#00a884] group-hover:translate-x-1 transition-transform"})]}),y&&p.jsxs("button",{onClick:c,className:"w-full bg-[#00a884]/10 border border-[#00a884]/20 rounded-2xl p-4 flex items-center justify-between hover:bg-[#00a884]/20 transition-all group",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"p-2 bg-[#00a884] text-black rounded-xl",children:p.jsx(t0,{size:20})}),p.jsxs("div",{className:"text-left",children:[p.jsx("p",{className:"text-white font-bold text-sm",children:"Zen Command"}),p.jsx("p",{className:"text-[10px] text-[#8696a0]",children:"Command dashboard"})]})]}),p.jsx(lm,{size:18,className:"text-[#00a884] group-hover:translate-x-1 transition-transform"})]}),p.jsx("div",{className:"pt-4 border-t border-white/5",children:p.jsxs("button",{onClick:s,className:"w-full py-3 bg-rose-500/5 text-rose-500 text-xs font-bold rounded-xl hover:bg-rose-500/10 transition-all flex items-center justify-center gap-2",children:[p.jsx(Ls,{size:16})," Purge Manifest"]})})]})})]})},xT=({onComplete:n})=>{const[e,o]=B.useState(1),[s,r]=B.useState(!1),[c,f]=B.useState(!1),[y,v]=B.useState({name:"",phone:"",email:"",password:"",bio:"Finding peace in connection.",avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${Math.random()}`}),g=C=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(C),x=C=>C.length>=10,T=()=>o(C=>C+1),_=y.name.trim().length>=2&&x(y.phone)&&g(y.email)&&y.password.length>=6,E=async()=>{if(_){f(!0);try{await new Promise(C=>setTimeout(C,800)),n(y)}catch(C){console.error("Registration failed:",C),f(!1)}}};return p.jsxs("div",{className:"fixed inset-0 z-[200] bg-[#0b141a] flex flex-col items-center justify-center p-6 overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[p.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-[#00a884]/10 blur-[120px] rounded-full"}),p.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-emerald-500/5 blur-[120px] rounded-full"})]}),p.jsxs("div",{className:"w-full max-w-md relative z-10 space-y-8 animate-in fade-in slide-in-from-bottom-8 duration-700",children:[p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("div",{className:"w-16 h-16 bg-[#00a884]/10 rounded-[24px] flex items-center justify-center mx-auto mb-4 shadow-2xl",children:p.jsx(Gs,{className:"text-[#00a884]",size:32})}),p.jsx("h1",{className:"text-3xl font-bold font-outfit text-white tracking-tight",children:"Welcome to Zenj"}),p.jsx("p",{className:"text-[#8696a0] font-medium text-sm",children:"Your journey to peaceful connection begins here."})]}),e===1&&p.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right duration-500 overflow-y-auto no-scrollbar max-h-[70vh] px-2",children:[p.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p.jsxs("div",{className:"relative group",children:[p.jsx("img",{src:y.avatar,className:"w-24 h-24 rounded-[32px] object-cover border-4 border-[#202c33] shadow-2xl",alt:"Avatar"}),p.jsx("button",{onClick:()=>v({...y,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${Math.random()}`}),className:"absolute -bottom-1 -right-1 bg-[#00a884] text-black p-1.5 rounded-lg shadow-xl hover:scale-110 active:scale-95 transition-all",children:p.jsx(Gn,{size:16})})]}),p.jsxs("div",{className:"w-full space-y-4",children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] font-bold text-[#00a884] uppercase tracking-[0.2em] ml-2",children:"Display Name"}),p.jsxs("div",{className:"relative",children:[p.jsx(u0,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#3b4a54]",size:18}),p.jsx("input",{type:"text",placeholder:"e.g. Zen Master",value:y.name,onChange:C=>v({...y,name:C.target.value}),className:"w-full bg-[#111b21] border border-white/5 rounded-2xl py-3.5 pl-12 pr-4 text-white outline-none focus:border-[#00a884]/40 transition-all"})]})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] font-bold text-[#00a884] uppercase tracking-[0.2em] ml-2",children:"Email Address"}),p.jsxs("div",{className:"relative",children:[p.jsx(W1,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#3b4a54]",size:18}),p.jsx("input",{type:"email",placeholder:"zen@example.com",value:y.email,onChange:C=>v({...y,email:C.target.value}),className:`w-full bg-[#111b21] border ${y.email&&!g(y.email)?"border-rose-500":"border-white/5"} rounded-2xl py-3.5 pl-12 pr-4 text-white outline-none focus:border-[#00a884]/40 transition-all`})]})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] font-bold text-[#00a884] uppercase tracking-[0.2em] ml-2",children:"Phone Number"}),p.jsxs("div",{className:"relative",children:[p.jsx(Na,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#3b4a54]",size:18}),p.jsx("input",{type:"tel",placeholder:"+256XXXXXXXXX",value:y.phone,onChange:C=>v({...y,phone:C.target.value}),className:`w-full bg-[#111b21] border ${y.phone&&!x(y.phone)?"border-rose-500":"border-white/5"} rounded-2xl py-3.5 pl-12 pr-4 text-white outline-none focus:border-[#00a884]/40 transition-all`})]})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] font-bold text-[#00a884] uppercase tracking-[0.2em] ml-2",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx(a0,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#3b4a54]",size:18}),p.jsx("input",{type:s?"text":"password",placeholder:"At least 6 characters",value:y.password,onChange:C=>v({...y,password:C.target.value}),className:"w-full bg-[#111b21] border border-white/5 rounded-2xl py-3.5 pl-12 pr-12 text-white outline-none focus:border-[#00a884]/40 transition-all"}),p.jsx("button",{type:"button",onClick:()=>r(!s),className:"absolute right-4 top-1/2 -translate-y-1/2 text-[#3b4a54] hover:text-[#00a884]",children:s?p.jsx(i0,{size:18}):p.jsx(o0,{size:18})})]})]})]})]}),p.jsxs("button",{disabled:!_,onClick:T,className:"w-full bg-[#00a884] text-black font-bold py-4 rounded-[20px] flex items-center justify-center gap-2 shadow-2xl shadow-[#00a884]/20 hover:bg-[#06cf9c] transition-all disabled:opacity-50",children:["Continue Journey ",p.jsx(e0,{size:20})]})]}),e===2&&p.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right duration-500",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-bold text-[#00a884] uppercase tracking-[0.2em] ml-2",children:"Your Presence (Bio)"}),p.jsxs("div",{className:"relative",children:[p.jsx(l0,{className:"absolute left-4 top-4 text-[#3b4a54]",size:18}),p.jsx("textarea",{value:y.bio,onChange:C=>v({...y,bio:C.target.value}),className:"w-full h-32 bg-[#111b21] border border-white/5 rounded-2xl py-4 pl-12 pr-4 text-white outline-none focus:border-[#00a884]/40 transition-all text-lg resize-none"})]})]}),p.jsx("button",{onClick:E,disabled:c||!_,className:"w-full bg-[#00a884] text-black font-bold py-5 rounded-[24px] flex items-center justify-center gap-2 shadow-2xl shadow-[#00a884]/20 hover:bg-[#06cf9c] transition-all text-lg disabled:opacity-50",children:c?p.jsxs(p.Fragment,{children:[p.jsx(gi,{className:"animate-spin",size:20}),p.jsx("span",{children:"Synchronizing..."})]}):p.jsxs(p.Fragment,{children:[p.jsx("span",{children:"Initialize Presence"}),p.jsx(Mo,{size:20,strokeWidth:3})]})}),p.jsx("button",{onClick:()=>o(1),disabled:c,className:"w-full text-[#8696a0] font-medium text-sm disabled:opacity-30",children:"Back to Identity"})]}),p.jsxs("div",{className:"flex justify-center gap-2",children:[p.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all duration-300 ${e===1?"w-6 bg-[#00a884]":"bg-[#202c33]"}`}),p.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all duration-300 ${e===2?"w-6 bg-[#00a884]":"bg-[#202c33]"}`})]})]})]})},ST=({users:n,onConnect:e,connectedIds:o,currentUser:s,onOpenAddFriend:r})=>{const[c,f]=B.useState(""),[y,v]=B.useState("All"),g=B.useMemo(()=>s?n.filter(_=>_.id!==s.id):n,[n,s]),x=B.useMemo(()=>{let _=g;if(c.trim()){const E=c.toLowerCase();_=_.filter(C=>C.name.toLowerCase().includes(E)||C.bio.toLowerCase().includes(E)||(C.tags||"").toLowerCase().includes(E))}return y!=="All"&&(_=_.filter(E=>(E.tags||"").includes(y))),_},[g,c,y]),T=B.useMemo(()=>{const _=new Set(["All"]);return g.forEach(E=>(E.tags||"").split(",").forEach(C=>C.trim()&&_.add(C.trim()))),Array.from(_)},[g]);return p.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#0b141a] animate-in fade-in duration-500 overflow-hidden",children:[p.jsxs("header",{className:"h-[70px] md:h-[100px] bg-[#202c33] flex items-center justify-between px-4 md:px-12 gap-4 shrink-0 shadow-lg relative z-20",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Mc,{className:"text-[#00a884]",size:24}),p.jsx("h2",{className:"text-white text-lg md:text-2xl font-bold font-outfit",children:"Discovery"})]}),p.jsxs("div",{className:"flex-1 max-w-md hidden md:block relative",children:[p.jsx(ya,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#3b4a54]",size:18}),p.jsx("input",{type:"text",placeholder:"Search the network...",value:c,onChange:_=>f(_.target.value),className:"w-full bg-[#111b21] border border-white/5 rounded-full py-2.5 pl-11 pr-4 text-white text-sm outline-none focus:border-[#00a884]/40 transition-all"})]}),p.jsxs("button",{onClick:r,className:"p-2.5 bg-[#00a884] text-black rounded-xl hover:bg-[#06cf9c] transition-all shadow-lg shadow-[#00a884]/10 flex items-center gap-2 font-bold text-xs",children:[p.jsx(l_,{size:18}),p.jsx("span",{className:"hidden sm:inline",children:"Add Friend"})]})]}),p.jsx("div",{className:"md:hidden px-4 py-3 bg-[#111b21] border-b border-white/5",children:p.jsxs("div",{className:"relative",children:[p.jsx(ya,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#3b4a54]",size:16}),p.jsx("input",{type:"text",placeholder:"Search souls...",value:c,onChange:_=>f(_.target.value),className:"w-full bg-[#202c33] border border-white/5 rounded-xl py-2 pl-10 pr-4 text-white text-xs outline-none"})]})}),p.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar p-3 md:p-12",children:p.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 md:space-y-10",children:[p.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar py-1",children:T.map(_=>p.jsx("button",{onClick:()=>v(_),className:`px-4 py-2 rounded-xl font-bold text-[10px] md:text-xs whitespace-nowrap transition-all border uppercase tracking-widest ${y===_?"bg-[#00a884] text-black border-transparent shadow-lg shadow-[#00a884]/10":"bg-[#111b21] text-[#8696a0] border-white/5 hover:border-[#00a884]/40"}`,children:_},_))}),x.length===0?p.jsxs("div",{className:"py-20 text-center space-y-4",children:[p.jsx("div",{className:"w-16 h-16 bg-[#202c33] rounded-3xl flex items-center justify-center mx-auto text-[#3b4a54]",children:p.jsx(j1,{size:32})}),p.jsx("h3",{className:"text-lg font-bold text-[#8696a0]",children:"No matches in the manifest"}),p.jsx("p",{className:"text-[#3b4a54] text-xs",children:"Broaden your frequency to find others."})]}):p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 md:gap-6 pb-24",children:x.map(_=>{const E=o.includes(_.id),C=_.status==="online";return p.jsxs("div",{className:"group bg-[#111b21] rounded-[24px] md:rounded-[40px] p-3 md:p-6 border border-white/5 hover:border-[#00a884]/30 transition-all shadow-xl flex flex-col items-center text-center relative",children:[p.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1.5",children:[p.jsx("div",{className:`w-2 h-2 rounded-full ${C?"bg-[#00a884] shadow-[0_0_8px_#00a884]":"bg-[#3b4a54]"}`}),p.jsx("span",{className:"text-[8px] font-black uppercase text-[#3b4a54] tracking-tighter",children:C?"Active":"Drifting"})]}),p.jsxs("div",{className:"relative mb-3 md:mb-4",children:[p.jsx("img",{src:_.avatar,alt:_.name,className:"w-16 h-16 md:w-24 md:h-24 rounded-2xl md:rounded-[32px] object-cover border-2 border-[#202c33] shadow-lg group-hover:scale-105 transition-transform"}),_.statusBadge&&p.jsx("div",{className:"absolute -bottom-1 -right-1 bg-[#202c33] rounded-lg p-1 text-[10px] shadow-lg border border-white/5",children:_.statusBadge})]}),p.jsx("h4",{className:"text-xs md:text-lg font-bold text-white truncate w-full font-outfit mb-1",children:_.name}),p.jsx("p",{className:"text-[10px] md:text-sm text-[#8696a0] leading-tight mb-3 md:mb-4 line-clamp-2 h-6 md:h-10",children:_.bio||"Navigating the Zenj network..."}),p.jsx("div",{className:"flex flex-wrap justify-center gap-1 mb-4 md:mb-6 h-4 md:h-6 overflow-hidden",children:(_.tags||"").split(",").slice(0,2).map(k=>p.jsx("span",{className:"px-2 py-0.5 text-[7px] md:text-[9px] font-bold rounded-full uppercase tracking-tighter bg-white/5 text-[#d1d7db]",children:k.trim()},k))}),p.jsx("button",{onClick:()=>!E&&e(_),disabled:E,className:`w-full py-2 md:py-3.5 rounded-xl md:rounded-2xl font-bold flex items-center justify-center gap-2 transition-all text-[9px] md:text-xs ${E?"bg-white/5 text-[#00a884] cursor-default":"bg-[#00a884] text-black hover:bg-[#06cf9c] active:scale-95"}`,children:E?p.jsxs(p.Fragment,{children:[p.jsx(Mo,{size:14,strokeWidth:3}),p.jsx("span",{children:"Synced"})]}):p.jsxs(p.Fragment,{children:[p.jsx(Hs,{size:14,strokeWidth:3}),p.jsx("span",{children:"Connect"})]})})]},_.id)})})]})})]})},_T=({onBack:n,onBroadcast:e,loadTools:o})=>{const[s,r]=B.useState("users"),[c,f]=B.useState(""),[y,v]=B.useState([]),[g,x]=B.useState([]),[T,_]=B.useState(0),[E,C]=B.useState(""),[k,A]=B.useState(!1),[V,F]=B.useState(0),[G,K]=B.useState(!1),[X,ne]=B.useState(null),[$,he]=B.useState({name:"",description:"",version:"1.0.0",icon:"",file:"",fileName:""}),[Z,re]=B.useState({name:"",email:"",phone:"",password:"",bio:"",avatar:"",avatarFile:null}),ye=B.useRef(null),Ee=B.useRef(null),ve=B.useRef(null),ie=async()=>{const[I,z,W]=await Promise.all([Hn("SELECT * FROM directory_users"),o(),Hn("SELECT val FROM system_metrics WHERE id = 'installs'")]);v(I.map(le=>({...le,status:le.status||"offline",accountStatus:le.accountStatus||"active"}))),x(z),W&&W.length>0&&_(W[0].val)};B.useEffect(()=>{ie();const I=setInterval(ie,1e4);return()=>clearInterval(I)},[]);const Ce=B.useMemo(()=>{const I=y.length,z=y.filter(W=>W.status==="online").length;return{total:I,online:z,installs:T,toolCount:g.length}},[y,T,g]),w=y.filter(I=>I.name.toLowerCase().includes(E.toLowerCase())||(I.email||"").toLowerCase().includes(E.toLowerCase())),P=async(I,z)=>{if(!confirm(`Are you sure you want to set status to ${z}?`))return;await Je("UPDATE directory_users SET accountStatus = ?, statusBadge = ? WHERE id = ?",[z,z==="warned"?"":z==="suspended"?"":z==="banned"?"":"",I]),ie(),e(`User ${I} has been ${z}.`)},Q=()=>{const I=g.find(z=>z.name.toLowerCase()===$.name.toLowerCase());return I?(ne({isOpen:!0,tool:I}),!0):!1},de=async()=>{!$.name||!$.file||!$.icon||Q()||me()},me=async()=>{F(0),ne(null);const I=setInterval(()=>{F(z=>z>=100?(clearInterval(I),R(),100):z+Math.random()*15)},150)},R=async()=>{K(!0);const I=`tool-${Date.now()}`;await Je("INSERT INTO tools (id, name, description, version, iconUrl, fileUrl, fileName, timestamp, downloads) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)",[I,$.name,$.description,$.version,$.icon,$.file,$.fileName,Date.now(),0]),setTimeout(()=>{A(!1),K(!1),F(0),he({name:"",description:"",version:"1.0.0",icon:"",file:"",fileName:""}),ie()},1e3)},Y=I=>{var W;const z=(W=I.target.files)==null?void 0:W[0];if(z){const le=new FileReader;le.onloadend=()=>he(ge=>({...ge,icon:le.result})),le.readAsDataURL(z)}},ee=I=>{var W;const z=(W=I.target.files)==null?void 0:W[0];if(z){const le=new FileReader;le.onloadend=()=>he(ge=>({...ge,file:le.result,fileName:z.name})),le.readAsDataURL(z)}},se=I=>{var W;const z=(W=I.target.files)==null?void 0:W[0];if(z){re(ge=>({...ge,avatarFile:z}));const le=new FileReader;le.onloadend=()=>re(ge=>({...ge,avatar:le.result})),le.readAsDataURL(z)}};return p.jsxs("div",{className:"flex flex-col h-full bg-[#0b141a] animate-in slide-in-from-right duration-300 overflow-hidden",children:[p.jsxs("header",{className:"h-[70px] bg-[#202c33] flex items-center px-6 gap-4 shrink-0 shadow-lg border-b border-[#00a884]/20",children:[p.jsx("button",{onClick:n,className:"text-[#d1d7db] hover:text-white p-2 rounded-full hover:bg-white/5",children:p.jsx(Ca,{size:24})}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("h2",{className:"text-white text-xl font-bold font-outfit flex items-center gap-2",children:[p.jsx(va,{size:24,className:"text-[#00a884]"})," Central Command"]}),p.jsx("p",{className:"text-[#8696a0] text-[10px] uppercase font-bold tracking-widest",children:"Real-time Performance & Manifestation"})]}),p.jsxs("div",{className:"flex bg-[#111b21] rounded-xl p-1 border border-white/5",children:[p.jsx("button",{onClick:()=>r("users"),className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-all ${s==="users"?"bg-[#00a884] text-black shadow-lg":"text-[#8696a0]"}`,children:"Users"}),p.jsx("button",{onClick:()=>r("register"),className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-all ${s==="register"?"bg-[#00a884] text-black shadow-lg":"text-[#8696a0]"}`,children:"Register"}),p.jsx("button",{onClick:()=>r("broadcast"),className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-all ${s==="broadcast"?"bg-[#00a884] text-black shadow-lg":"text-[#8696a0]"}`,children:"Broadcast"}),p.jsx("button",{onClick:()=>r("tools"),className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-all ${s==="tools"?"bg-[#00a884] text-black shadow-lg":"text-[#8696a0]"}`,children:"Lab"})]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar p-6 space-y-6",children:s==="users"?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"bg-[#111b21] p-4 rounded-[24px] border border-white/5 shadow-xl",children:[p.jsx("div",{className:"text-[#8696a0] text-[10px] font-bold uppercase mb-1",children:"Online Presence"}),p.jsx("div",{className:"text-3xl font-bold text-[#00a884] font-outfit",children:Ce.online})]}),p.jsxs("div",{className:"bg-[#111b21] p-4 rounded-[24px] border border-white/5 shadow-xl",children:[p.jsx("div",{className:"text-[#8696a0] text-[10px] font-bold uppercase mb-1",children:"Total Souls"}),p.jsx("div",{className:"text-3xl font-bold text-white font-outfit",children:Ce.total})]}),p.jsxs("div",{className:"bg-[#111b21] p-4 rounded-[24px] border border-white/5 shadow-xl",children:[p.jsx("div",{className:"text-[#8696a0] text-[10px] font-bold uppercase mb-1",children:"Tools Active"}),p.jsx("div",{className:"text-3xl font-bold text-amber-500 font-outfit",children:Ce.toolCount})]}),p.jsxs("div",{className:"bg-[#111b21] p-4 rounded-[24px] border border-white/5 shadow-xl",children:[p.jsx("div",{className:"text-[#8696a0] text-[10px] font-bold uppercase mb-1",children:"Installs"}),p.jsx("div",{className:"text-3xl font-bold text-rose-500 font-outfit",children:Ce.installs})]})]}),p.jsxs("div",{className:"bg-[#111b21] rounded-[32px] border border-white/5 overflow-hidden flex flex-col h-[600px] shadow-2xl",children:[p.jsxs("div",{className:"p-6 border-b border-white/5 flex items-center justify-between gap-4",children:[p.jsxs("div",{className:"flex items-center gap-3 bg-[#0b141a] px-4 py-2 rounded-2xl flex-1 max-w-md border border-white/5",children:[p.jsx(ya,{className:"text-[#3b4a54]",size:20}),p.jsx("input",{type:"text",placeholder:"Audit user by name or email...",value:E,onChange:I=>C(I.target.value),className:"bg-transparent flex-1 border-none focus:ring-0 text-white text-sm"})]}),p.jsx("button",{onClick:ie,className:"p-3 bg-[#00a884]/10 text-[#00a884] rounded-2xl hover:bg-[#00a884]/20 transition-all border border-[#00a884]/10",children:p.jsx(RS,{size:20})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto divide-y divide-white/5",children:w.length===0?p.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-30",children:[p.jsx(BS,{size:64,className:"mb-4"}),p.jsx("p",{className:"font-outfit uppercase tracking-widest text-xs",children:"No users found for audit"})]}):w.map(I=>p.jsxs("div",{className:"flex items-center gap-4 p-5 hover:bg-white/5 transition-colors group",children:[p.jsx("img",{src:I.avatar,className:"w-12 h-12 rounded-2xl object-cover shadow-lg border border-white/5",alt:""}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"font-bold text-white block truncate",children:I.name}),p.jsx("span",{className:`text-[9px] px-2 py-0.5 rounded-full font-black uppercase tracking-widest ${I.accountStatus==="active"?"bg-emerald-500/10 text-emerald-500":I.accountStatus==="warned"?"bg-amber-500/10 text-amber-500":"bg-rose-500/10 text-rose-500"}`,children:I.accountStatus})]}),p.jsx("span",{className:"text-[10px] text-[#8696a0] block truncate",children:I.email||I.id})]}),p.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[p.jsx("button",{onClick:()=>P(I.id,"active"),className:"p-2.5 bg-emerald-500/10 text-emerald-500 rounded-xl hover:bg-emerald-500 hover:text-black transition-all",children:p.jsx(b1,{size:18})}),p.jsx("button",{onClick:()=>P(I.id,"warned"),className:"p-2.5 bg-amber-500/10 text-amber-500 rounded-xl hover:bg-amber-500 hover:text-black transition-all",children:p.jsx(i_,{size:18})}),p.jsx("button",{onClick:()=>P(I.id,"suspended"),className:"p-2.5 bg-rose-500/10 text-rose-500 rounded-xl hover:bg-rose-500 hover:text-black transition-all",children:p.jsx(cm,{size:18})})]})]},I.id))})]})]}):s==="register"?p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[p.jsx("div",{className:"flex justify-between items-center",children:p.jsxs("h3",{className:"text-[#00a884] font-bold font-outfit text-2xl flex items-center gap-3",children:[p.jsx(cm,{size:32})," User Registration"]})}),p.jsxs("div",{className:"bg-[#111b21] rounded-[32px] p-8 border border-white/5 shadow-2xl max-w-2xl mx-auto",children:[p.jsx("h4",{className:"text-white font-bold text-xl font-outfit mb-6",children:"Create New User Account"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[#8696a0] text-xs font-bold uppercase tracking-widest mb-2",children:"Full Name"}),p.jsx("input",{type:"text",value:Z.name,onChange:I=>re(z=>({...z,name:I.target.value})),className:"w-full bg-[#202c33] border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-[#8696a0] focus:border-[#00a884] focus:ring-1 focus:ring-[#00a884] transition-all",placeholder:"Enter full name"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[#8696a0] text-xs font-bold uppercase tracking-widest mb-2",children:"Email Address"}),p.jsx("input",{type:"email",value:Z.email,onChange:I=>re(z=>({...z,email:I.target.value})),className:"w-full bg-[#202c33] border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-[#8696a0] focus:border-[#00a884] focus:ring-1 focus:ring-[#00a884] transition-all",placeholder:"user@example.com"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[#8696a0] text-xs font-bold uppercase tracking-widest mb-2",children:"Phone Number"}),p.jsx("input",{type:"tel",value:Z.phone,onChange:I=>re(z=>({...z,phone:I.target.value})),className:"w-full bg-[#202c33] border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-[#8696a0] focus:border-[#00a884] focus:ring-1 focus:ring-[#00a884] transition-all",placeholder:"+1 (555) 123-4567"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[#8696a0] text-xs font-bold uppercase tracking-widest mb-2",children:"Password"}),p.jsx("input",{type:"password",value:Z.password,onChange:I=>re(z=>({...z,password:I.target.value})),className:"w-full bg-[#202c33] border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-[#8696a0] focus:border-[#00a884] focus:ring-1 focus:ring-[#00a884] transition-all",placeholder:"Secure password"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[#8696a0] text-xs font-bold uppercase tracking-widest mb-2",children:"Bio (Optional)"}),p.jsx("textarea",{value:Z.bio,onChange:I=>re(z=>({...z,bio:I.target.value})),className:"w-full bg-[#202c33] border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-[#8696a0] focus:border-[#00a884] focus:ring-1 focus:ring-[#00a884] transition-all resize-none",rows:3,placeholder:"Tell us about yourself..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[#8696a0] text-xs font-bold uppercase tracking-widest mb-2",children:"Profile Picture"}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{onClick:()=>{var I;return(I=ve.current)==null?void 0:I.click()},className:"w-16 h-16 bg-[#202c33] border border-white/10 rounded-2xl flex flex-col items-center justify-center cursor-pointer group shrink-0 relative overflow-hidden hover:border-[#00a884] transition-all",children:Z.avatar?p.jsx("img",{src:Z.avatar,alt:"Avatar preview",className:"w-full h-full object-cover"}):p.jsxs("div",{className:"text-center",children:[p.jsx(Gn,{size:20,className:"mx-auto text-[#8696a0] group-hover:text-[#00a884] transition-colors"}),p.jsx("span",{className:"text-[8px] text-[#8696a0] group-hover:text-[#00a884] transition-colors mt-1 block",children:"Upload"})]})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("input",{ref:ve,type:"file",accept:"image/*",onChange:se,className:"hidden"}),p.jsx("div",{className:"text-xs text-[#8696a0] mb-2",children:Z.avatarFile?`Selected: ${Z.avatarFile.name}`:"Click to upload profile picture or use generated avatar"}),p.jsx("button",{type:"button",onClick:()=>{re(I=>({...I,avatar:"",avatarFile:null})),ve.current&&(ve.current.value="")},className:"text-[10px] text-[#8696a0] hover:text-rose-500 underline",children:"Clear & use generated avatar"})]})]})]}),p.jsx("div",{className:"flex gap-4 pt-4",children:p.jsx("button",{onClick:async()=>{if(!Z.name||!Z.email||!Z.password){alert("Name, email, and password are required");return}const I=`user-${Date.now()}`,z=Z.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(Z.name)}`;try{await Je("INSERT INTO profile (id, name, phone, email, password, bio, avatar, role, accountStatus, settings_json) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",[I,Z.name,Z.phone,Z.email,Z.password,Z.bio||"",z,"user","active",JSON.stringify({theme:"dark",wallpaper:"",vibrations:!0,notifications:!0,fontSize:"medium",brightness:"dim",customThemeColor:"#00a884"})]);const W=`${window.location.origin}?profile=${I}`;navigator.clipboard.writeText(W),alert(`User created successfully! Profile link copied to clipboard:
${W}`),re({name:"",email:"",phone:"",password:"",bio:"",avatar:"",avatarFile:null}),ve.current&&(ve.current.value=""),ie()}catch(W){console.error("Error creating user:",W),alert("Error creating user. Please try again.")}},className:"flex-1 bg-[#00a884] text-black font-bold py-3 px-6 rounded-2xl hover:scale-105 active:scale-95 transition-all shadow-xl shadow-[#00a884]/20",children:"Create User & Generate Link"})})]})]})]}):s==="broadcast"?p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[p.jsx("div",{className:"flex justify-between items-center",children:p.jsxs("h3",{className:"text-[#00a884] font-bold font-outfit text-2xl flex items-center gap-3",children:[p.jsx(sc,{size:32})," Message Broadcast"]})}),p.jsxs("div",{className:"bg-[#111b21] rounded-[32px] p-8 border border-white/5 shadow-2xl max-w-2xl mx-auto",children:[p.jsx("h4",{className:"text-white font-bold text-xl font-outfit mb-6",children:"Send Message to All Users"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[#8696a0] text-xs font-bold uppercase tracking-widest mb-2",children:"Broadcast Message"}),p.jsx("textarea",{value:c,onChange:I=>f(I.target.value),className:"w-full bg-[#202c33] border border-white/10 rounded-2xl px-4 py-3 text-white placeholder-[#8696a0] focus:border-[#00a884] focus:ring-1 focus:ring-[#00a884] transition-all resize-none",rows:4,placeholder:"Enter your message to broadcast to all users..."})]}),p.jsx("div",{className:"flex gap-4 pt-4",children:p.jsxs("button",{onClick:()=>{if(!c.trim()){alert("Please enter a message to broadcast");return}e(c.trim()),f(""),alert("Message broadcasted successfully!")},className:"flex-1 bg-[#00a884] text-black font-bold py-3 px-6 rounded-2xl hover:scale-105 active:scale-95 transition-all shadow-xl shadow-[#00a884]/20 flex items-center justify-center gap-2",children:[p.jsx(sc,{size:18}),"Broadcast Message"]})}),p.jsxs("div",{className:"text-xs text-[#8696a0] bg-[#202c33] rounded-2xl p-4 border border-white/5",children:[p.jsx("strong",{className:"text-white",children:"Note:"})," This message will be sent to all connected users in real-time and will appear in their chat as a system message from Zenj."]})]})]})]}):p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("h3",{className:"text-[#00a884] font-bold font-outfit text-2xl flex items-center gap-3",children:[p.jsx(ZS,{size:32})," Software Manifestation"]}),p.jsxs("button",{onClick:()=>A(!0),className:"px-6 py-3 bg-[#00a884] text-black rounded-2xl font-bold flex items-center gap-2 shadow-xl shadow-[#00a884]/20 hover:scale-105 active:scale-95 transition-all",children:[p.jsx(Hs,{size:20})," Create Tool"]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-20",children:g.length===0?p.jsxs("div",{className:"col-span-full py-20 text-center space-y-4 opacity-40 border-2 border-dashed border-white/5 rounded-[48px]",children:[p.jsx(dS,{size:64,className:"mx-auto text-[#8696a0]",strokeWidth:1}),p.jsx("p",{className:"text-[#8696a0] font-outfit uppercase tracking-widest text-xs",children:"No software tools manifested yet"})]}):g.map(I=>p.jsxs("div",{className:"bg-[#111b21] border border-white/5 rounded-[32px] p-6 shadow-2xl relative group overflow-hidden",children:[p.jsxs("div",{className:"flex items-start justify-between mb-4",children:[p.jsx("img",{src:I.iconUrl,className:"w-14 h-14 rounded-2xl border border-white/10 shadow-lg object-cover",alt:""}),p.jsx("button",{onClick:()=>Je("DELETE FROM tools WHERE id = ?",[I.id]).then(ie),className:"p-2 text-[#8696a0] hover:text-rose-500 hover:bg-rose-500/10 rounded-xl transition-all",children:p.jsx(Ls,{size:18})})]}),p.jsx("h4",{className:"text-white font-bold text-lg font-outfit",children:I.name}),p.jsx("p",{className:"text-[#8696a0] text-xs mt-1 mb-4 line-clamp-2 h-8",children:I.description}),p.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/5",children:[p.jsx("span",{className:"text-[10px] font-mono text-[#00a884] bg-[#00a884]/10 px-2 py-0.5 rounded uppercase",children:I.version}),p.jsxs("span",{className:"text-[10px] text-[#3b4a54] font-bold uppercase",children:[I.downloads," Pulse"]})]})]},I.id))})]})}),k&&p.jsxs("div",{className:"fixed inset-0 z-[200] bg-black/95 flex flex-col p-6 animate-in slide-in-from-bottom duration-300 safe-top safe-bottom overflow-hidden",children:[p.jsxs("div",{className:"flex justify-between items-center mb-10 max-w-lg mx-auto w-full",children:[p.jsx("button",{onClick:()=>A(!1),className:"text-[#8696a0] hover:text-white p-2 bg-white/5 rounded-full",children:p.jsx(en,{size:28})}),p.jsx("h3",{className:"text-white text-xl font-bold font-outfit",children:"New Software Portal"}),p.jsx("div",{className:"w-10"})]}),p.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar max-w-lg mx-auto w-full pb-10",children:p.jsxs("div",{className:"bg-[#202c33] rounded-[48px] p-8 border border-white/10 space-y-6 shadow-2xl",children:[V>0&&p.jsxs("div",{className:"space-y-3 p-6 bg-black/20 rounded-3xl border border-[#00a884]/20 animate-in fade-in zoom-in duration-300",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-xs font-bold text-[#00a884] uppercase tracking-widest",children:G?"Finalizing Pulse":"Transferring Manifest"}),p.jsxs("span",{className:"text-xs font-bold text-[#00a884]",children:[Math.round(V),"%"]})]}),p.jsx("div",{className:"w-full h-2 bg-[#111b21] rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-[#00a884] transition-all duration-300",style:{width:`${V}%`}})}),G&&p.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-emerald-500/60 font-medium",children:[p.jsx(gi,{size:12,className:"animate-spin"})," Verifying cryptographic signatures..."]})]}),!V&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex gap-6 items-start",children:[p.jsxs("div",{onClick:()=>{var I;return(I=ye.current)==null?void 0:I.click()},className:"w-24 h-24 bg-[#111b21] rounded-[28px] border border-white/5 flex flex-col items-center justify-center cursor-pointer group shrink-0 relative overflow-hidden",children:[$.icon?p.jsx("img",{src:$.icon,className:"w-full h-full object-cover",alt:""}):p.jsx(Gn,{size:32,className:"text-[#3b4a54] group-hover:text-[#00a884] transition-colors"}),p.jsx("input",{type:"file",ref:ye,onChange:Y,accept:"image/*",className:"hidden"})]}),p.jsxs("div",{className:"flex-1 space-y-4",children:[p.jsx("input",{type:"text",placeholder:"Tool Name",value:$.name,onChange:I=>he({...$,name:I.target.value}),className:"w-full bg-[#111b21] border border-white/5 rounded-2xl py-3 px-5 text-white font-bold outline-none focus:border-[#00a884]/40"}),p.jsx("input",{type:"text",placeholder:"Version (e.g. 1.0.0)",value:$.version,onChange:I=>he({...$,version:I.target.value}),className:"w-full bg-[#111b21] border border-white/5 rounded-2xl py-3 px-5 text-[#00a884] font-mono text-sm outline-none focus:border-[#00a884]/40"})]})]}),p.jsxs("div",{onClick:()=>{var I;return(I=Ee.current)==null?void 0:I.click()},className:"w-full h-32 bg-[#111b21] border-2 border-dashed border-[#3b4a54] hover:border-[#00a884] rounded-[28px] flex flex-col items-center justify-center gap-3 cursor-pointer group transition-all",children:[$.file?p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx(va,{className:"text-[#00a884]",size:40}),p.jsx("span",{className:"text-[10px] text-white font-bold mt-2 truncate max-w-[200px]",children:$.fileName})]}):p.jsxs(p.Fragment,{children:[p.jsx(s0,{size:40,className:"text-[#3b4a54] group-hover:text-[#00a884]"}),p.jsx("span",{className:"text-[10px] font-bold text-[#8696a0] uppercase tracking-widest",children:"Upload Bundle"})]}),p.jsx("input",{type:"file",ref:Ee,onChange:ee,className:"hidden"})]}),p.jsx("textarea",{placeholder:"Technical description...",value:$.description,onChange:I=>he({...$,description:I.target.value}),className:"w-full h-32 bg-[#111b21] border border-white/5 rounded-[28px] py-5 px-6 text-[#d1d7db] outline-none focus:border-[#00a884]/40 resize-none text-sm"}),p.jsx("button",{onClick:de,disabled:!$.name||!$.file||!$.icon,className:"w-full bg-[#00a884] text-black py-5 rounded-[28px] font-black text-lg shadow-2xl shadow-[#00a884]/30 active:scale-95 transition-all disabled:opacity-50",children:"Manifest Software Tool"})]})]})})]}),(X==null?void 0:X.isOpen)&&p.jsx("div",{className:"fixed inset-0 z-[300] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"bg-[#202c33] p-8 rounded-[40px] border border-white/10 max-w-sm w-full space-y-6 shadow-[0_0_100px_rgba(255,165,0,0.1)]",children:[p.jsx("div",{className:"w-16 h-16 bg-amber-500/10 rounded-2xl flex items-center justify-center text-amber-500 mx-auto",children:p.jsx(_1,{size:32})}),p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("h4",{className:"text-white font-bold text-xl font-outfit",children:"Manifest Conflict"}),p.jsxs("p",{className:"text-[#8696a0] text-sm",children:["A software tool with the name ",p.jsxs("strong",{className:"text-white",children:['"',$.name,'"']})," already exists in the Zenj Network."]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("button",{onClick:me,className:"w-full py-4 bg-amber-500 text-black font-black rounded-2xl shadow-xl shadow-amber-500/20 active:scale-95 transition-all",children:"Overwrite Existing"}),p.jsx("button",{onClick:()=>ne(null),className:"w-full py-3 bg-white/5 text-white font-bold rounded-2xl hover:bg-white/10 transition-all",children:"Cancel Manifestation"})]})]})})]})},TT=({profile:n,onLogin:e})=>{const[o,s]=B.useState(""),[r,c]=B.useState(!1),[f,y]=B.useState(!1),[v,g]=B.useState(!1),[x,T]=B.useState(!1);B.useEffect(()=>{const C=new URLSearchParams(window.location.search).get("profile");if(C&&C===n.id){T(!0);const k=document.querySelector('meta[property="og:title"]'),A=document.querySelector('meta[property="og:description"]'),V=document.querySelector('meta[property="og:image"]');k&&k.setAttribute("content",`Welcome to Zenj - ${n.name}`),A&&A.setAttribute("content",`Join ${n.name} on Zenj, your minimalist AI companion. Real-time voice, video, and image generation.`),V&&V.setAttribute("content",n.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(n.name)}`),document.title=`Welcome to Zenj - ${n.name}`}},[n]);const _=async E=>{if(E.preventDefault(),!!o){g(!0);try{await e(o)||(y(!0),g(!1))}catch(C){console.error("Login error:",C),y(!0),g(!1)}}};return p.jsxs("div",{className:"fixed inset-0 z-[250] bg-[#0b141a] flex flex-col items-center justify-center p-6",children:[p.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:p.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-[#00a884]/10 blur-[120px] rounded-full"})}),p.jsxs("div",{className:"w-full max-w-sm relative z-10 text-center space-y-8 animate-in fade-in zoom-in duration-700",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx("img",{src:n.avatar,alt:n.name,className:"w-24 h-24 rounded-[32px] mx-auto border-4 border-[#202c33] shadow-2xl"}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("h2",{className:"text-2xl font-bold text-white font-outfit",children:x?`Welcome to Zenj, ${n.name}!`:`Welcome back, ${n.name}`}),p.jsx("p",{className:"text-[#8696a0] text-sm",children:"Please enter your password to unlock your presence."})]})]}),p.jsxs("form",{onSubmit:_,className:"space-y-6 text-left",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-bold text-[#00a884] uppercase tracking-widest ml-2",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx(a0,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#3b4a54]",size:18}),p.jsx("input",{type:r?"text":"password",autoFocus:!0,placeholder:"Enter password",value:o,onChange:E=>{s(E.target.value),y(!1)},className:`w-full bg-[#111b21] border ${f?"border-rose-500":"border-white/5"} rounded-2xl py-4 pl-12 pr-12 text-white outline-none focus:border-[#00a884]/40 transition-all text-lg`}),p.jsx("button",{type:"button",onClick:()=>c(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-[#3b4a54] hover:text-[#00a884]",children:r?p.jsx(i0,{size:18}):p.jsx(o0,{size:18})})]}),f&&p.jsx("p",{className:"text-rose-500 text-xs mt-2 ml-2 font-medium",children:"Incorrect password. Please try again."})]}),p.jsx("button",{type:"submit",disabled:!o||v,className:"w-full bg-[#00a884] text-black font-bold py-5 rounded-[24px] flex items-center justify-center gap-2 shadow-2xl shadow-[#00a884]/20 hover:bg-[#06cf9c] transition-all disabled:opacity-50",children:v?p.jsx(gi,{className:"animate-spin",size:20}):p.jsxs(p.Fragment,{children:["Unlock ",p.jsx(e0,{size:20})]})})]}),p.jsx("button",{onClick:()=>{confirm("This will erase all data. Proceed?")&&(localStorage.clear(),window.location.reload())},className:"text-[#8696a0] text-xs font-medium hover:text-white transition-colors",children:"Not you? Reset this presence"})]})]})},bT=()=>{const[n,e]=B.useState(!1),[o,s]=B.useState(!1);B.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone){e(!1);return}window.deferredPrompt&&e(!0);const f=()=>{e(!0)};return window.addEventListener("pwa-install-available",f),()=>window.removeEventListener("pwa-install-available",f)},[]);const r=async()=>{const c=window.deferredPrompt;if(!c)return;c.prompt();const{outcome:f}=await c.userChoice;console.log(`User response to the install prompt: ${f}`),window.deferredPrompt=null,e(!1)};return!n||o?null:p.jsx("div",{className:"fixed top-0 left-0 right-0 z-[300] p-4 safe-top animate-in slide-in-from-top duration-500",children:p.jsxs("div",{className:"max-w-xl mx-auto glass rounded-[32px] p-4 flex items-center justify-between border border-[#00a884]/30 shadow-2xl shadow-[#00a884]/10",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 bg-[#00a884] rounded-2xl flex items-center justify-center text-black shadow-lg",children:p.jsx(YS,{size:24})}),p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("h4",{className:"text-white font-bold text-sm flex items-center gap-2",children:["Zenj for Mobile ",p.jsx(Gs,{size:14,className:"text-[#00a884]"})]}),p.jsx("p",{className:"text-[#8696a0] text-xs",children:"Add to Home Screen for the full experience"})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("button",{onClick:r,className:"bg-[#00a884] hover:bg-[#06cf9c] text-black text-xs font-bold px-5 py-2.5 rounded-2xl transition-all active:scale-95 shadow-lg shadow-[#00a884]/20",children:"Install"}),p.jsx("button",{onClick:()=>s(!0),className:"p-2 text-[#8696a0] hover:text-white transition-colors",children:p.jsx(en,{size:20})})]})]})})},ET=({currentMode:n,setMode:e,unreadCount:o})=>{const s=[{mode:Ve.CHATS,icon:oS,label:"Chats",badge:o},{mode:Ve.STATUS,icon:n0,label:"Status"},{mode:Ve.DISCOVERY,icon:Mc,label:"Discovery"},{mode:Ve.ZEN_SPACE,icon:Gs,label:"Zen"},{mode:Ve.SETTINGS,icon:r0,label:"Settings"}];return p.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-[#111b21]/90 backdrop-blur-xl border-t border-white/5 safe-bottom z-[100] px-2 py-1",children:p.jsx("div",{className:"flex items-center justify-around h-16",children:s.map(r=>{const c=r.icon,f=n===r.mode;return p.jsxs("button",{onClick:()=>e(r.mode),className:"relative flex flex-col items-center justify-center flex-1 py-1 transition-all duration-300",children:[p.jsxs("div",{className:`p-2 rounded-2xl transition-all duration-300 ${f?"bg-[#00a884]/10 text-[#00a884] scale-110":"text-[#8696a0]"}`,children:[p.jsx(c,{size:24,strokeWidth:f?2.5:2}),r.badge?p.jsx("span",{className:"absolute top-1 right-1/2 translate-x-4 bg-[#00a884] text-black text-[10px] font-bold px-1.5 py-0.5 rounded-full border-2 border-[#111b21]",children:r.badge>9?"9+":r.badge}):null]}),p.jsx("span",{className:`text-[10px] font-bold mt-0.5 transition-opacity duration-300 ${f?"opacity-100 text-[#00a884]":"opacity-60 text-[#8696a0]"}`,children:r.label})]},r.mode)})})})};var CT={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let NT,wT;function AT(){return{geminiUrl:NT,vertexUrl:wT}}function RT(n,e,o,s){var r,c;if(!(n!=null&&n.baseUrl)){const f=AT();return e?(r=f.vertexUrl)!==null&&r!==void 0?r:o:(c=f.geminiUrl)!==null&&c!==void 0?c:s}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qn{}function oe(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(s,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const c=e[r];return c!=null?String(c):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function d(n,e,o){for(let c=0;c<e.length-1;c++){const f=e[c];if(f.endsWith("[]")){const y=f.slice(0,-2);if(!(y in n))if(Array.isArray(o))n[y]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(n[y])){const v=n[y];if(Array.isArray(o))for(let g=0;g<v.length;g++){const x=v[g];d(x,e.slice(c+1),o[g])}else for(const g of v)d(g,e.slice(c+1),o)}return}else if(f.endsWith("[0]")){const y=f.slice(0,-3);y in n||(n[y]=[{}]);const v=n[y];d(v[0],e.slice(c+1),o);return}(!n[f]||typeof n[f]!="object")&&(n[f]={}),n=n[f]}const s=e[e.length-1],r=n[s];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(n,o):n[s]=o}function u(n,e,o=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let s=0;s<e.length;s++){if(typeof n!="object"||n===null)return o;const r=e[s];if(r.endsWith("[]")){const c=r.slice(0,-2);if(c in n){const f=n[c];return Array.isArray(f)?f.map(y=>u(y,e.slice(s+1),o)):o}else return o}else n=n[r]}return n}catch(s){if(s instanceof TypeError)return o;throw s}}function MT(n,e){for(const[o,s]of Object.entries(e)){const r=o.split("."),c=s.split("."),f=new Set;let y=-1;for(let v=0;v<r.length;v++)if(r[v]==="*"){y=v;break}if(y!==-1&&c.length>y)for(let v=y;v<c.length;v++){const g=c[v];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&f.add(g)}pc(n,r,c,0,f)}}function pc(n,e,o,s,r){if(s>=e.length||typeof n!="object"||n===null)return;const c=e[s];if(c.endsWith("[]")){const f=c.slice(0,-2),y=n;if(f in y&&Array.isArray(y[f]))for(const v of y[f])pc(v,e,o,s+1,r)}else if(c==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const f=n,y=Object.keys(f).filter(g=>!g.startsWith("_")&&!r.has(g)),v={};for(const g of y)v[g]=f[g];for(const[g,x]of Object.entries(v)){const T=[];for(const _ of o.slice(s))_==="*"?T.push(g):T.push(_);d(f,T,x)}for(const g of y)delete f[g]}}else{const f=n;c in f&&pc(f[c],e,o,s+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gc(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IT(n){const e={},o=u(n,["operationName"]);o!=null&&d(e,["operationName"],o);const s=u(n,["resourceName"]);return s!=null&&d(e,["_url","resourceName"],s),e}function DT(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const s=u(n,["metadata"]);s!=null&&d(e,["metadata"],s);const r=u(n,["done"]);r!=null&&d(e,["done"],r);const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["response","generateVideoResponse"]);return f!=null&&d(e,["response"],UT(f)),e}function kT(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const s=u(n,["metadata"]);s!=null&&d(e,["metadata"],s);const r=u(n,["done"]);r!=null&&d(e,["done"],r);const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["response"]);return f!=null&&d(e,["response"],LT(f)),e}function UT(n){const e={},o=u(n,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>zT(f))),d(e,["generatedVideos"],c)}const s=u(n,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const r=u(n,["raiMediaFilteredReasons"]);return r!=null&&d(e,["raiMediaFilteredReasons"],r),e}function LT(n){const e={},o=u(n,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>HT(f))),d(e,["generatedVideos"],c)}const s=u(n,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const r=u(n,["raiMediaFilteredReasons"]);return r!=null&&d(e,["raiMediaFilteredReasons"],r),e}function zT(n){const e={},o=u(n,["video"]);return o!=null&&d(e,["video"],OT(o)),e}function HT(n){const e={},o=u(n,["_self"]);return o!=null&&d(e,["video"],FT(o)),e}function GT(n){const e={},o=u(n,["operationName"]);return o!=null&&d(e,["_url","operationName"],o),e}function VT(n){const e={},o=u(n,["operationName"]);return o!=null&&d(e,["_url","operationName"],o),e}function qT(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const s=u(n,["metadata"]);s!=null&&d(e,["metadata"],s);const r=u(n,["done"]);r!=null&&d(e,["done"],r);const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["response"]);return f!=null&&d(e,["response"],BT(f)),e}function BT(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["parent"]);s!=null&&d(e,["parent"],s);const r=u(n,["documentName"]);return r!=null&&d(e,["documentName"],r),e}function R0(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const s=u(n,["metadata"]);s!=null&&d(e,["metadata"],s);const r=u(n,["done"]);r!=null&&d(e,["done"],r);const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["response"]);return f!=null&&d(e,["response"],PT(f)),e}function PT(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["parent"]);s!=null&&d(e,["parent"],s);const r=u(n,["documentName"]);return r!=null&&d(e,["documentName"],r),e}function OT(n){const e={},o=u(n,["uri"]);o!=null&&d(e,["uri"],o);const s=u(n,["encodedVideo"]);s!=null&&d(e,["videoBytes"],Gc(s));const r=u(n,["encoding"]);return r!=null&&d(e,["mimeType"],r),e}function FT(n){const e={},o=u(n,["gcsUri"]);o!=null&&d(e,["uri"],o);const s=u(n,["bytesBase64Encoded"]);s!=null&&d(e,["videoBytes"],Gc(s));const r=u(n,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(xm||(xm={}));var Sm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Sm||(Sm={}));var _m;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(_m||(_m={}));var pi;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(pi||(pi={}));var Tm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Tm||(Tm={}));var bm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(bm||(bm={}));var Em;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Em||(Em={}));var Cm;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Cm||(Cm={}));var Nm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Nm||(Nm={}));var wm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(wm||(wm={}));var Am;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Am||(Am={}));var Rm;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(Rm||(Rm={}));var Mm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Mm||(Mm={}));var Im;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Im||(Im={}));var Dm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Dm||(Dm={}));var km;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(km||(km={}));var Um;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Um||(Um={}));var Lm;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Lm||(Lm={}));var zm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(zm||(zm={}));var Hm;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Hm||(Hm={}));var Gm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Gm||(Gm={}));var xa;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(xa||(xa={}));var Vm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Vm||(Vm={}));var qm;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(qm||(qm={}));var Bm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Bm||(Bm={}));var mc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(mc||(mc={}));var Pm;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Pm||(Pm={}));var Om;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Om||(Om={}));var gc;(function(n){n.COLLECTION="COLLECTION"})(gc||(gc={}));var Fm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Fm||(Fm={}));var Ym;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ym||(Ym={}));var jm;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(jm||(jm={}));var Jm;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Jm||(Jm={}));var $m;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})($m||($m={}));var Km;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Km||(Km={}));var Xm;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Xm||(Xm={}));var Qm;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Qm||(Qm={}));var Zm;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Zm||(Zm={}));var Wm;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Wm||(Wm={}));var eg;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(eg||(eg={}));var tg;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(tg||(tg={}));var ng;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(ng||(ng={}));var ig;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(ig||(ig={}));var og;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(og||(og={}));var sg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(sg||(sg={}));var lg;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(lg||(lg={}));var ag;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ag||(ag={}));var rg;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(rg||(rg={}));var ug;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(ug||(ug={}));var cg;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(cg||(cg={}));var dg;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(dg||(dg={}));var fg;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(fg||(fg={}));var hg;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(hg||(hg={}));var pg;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(pg||(pg={}));var mg;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(mg||(mg={}));var gg;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(gg||(gg={}));var Co;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Co||(Co={}));class yc{constructor(e){const o={};for(const s of e.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ms{get text(){var e,o,s,r,c,f,y,v;if(((r=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",x=!1;const T=[];for(const _ of(v=(y=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||y===void 0?void 0:y.parts)!==null&&v!==void 0?v:[]){for(const[E,C]of Object.entries(_))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(C!==null||C!==void 0)&&T.push(E);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;x=!0,g+=_.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?g:void 0}get data(){var e,o,s,r,c,f,y,v;if(((r=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const x=[];for(const T of(v=(y=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||y===void 0?void 0:y.parts)!==null&&v!==void 0?v:[]){for(const[_,E]of Object.entries(T))_!=="inlineData"&&(E!==null||E!==void 0)&&x.push(_);T.inlineData&&typeof T.inlineData.data=="string"&&(g+=atob(T.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,o,s,r,c,f,y,v;if(((r=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(v=(y=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||y===void 0?void 0:y.parts)===null||v===void 0?void 0:v.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,o,s,r,c,f,y,v,g;if(((r=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(v=(y=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||y===void 0?void 0:y.parts)===null||v===void 0?void 0:v.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(g=x==null?void 0:x[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,o,s,r,c,f,y,v,g;if(((r=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(v=(y=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||y===void 0?void 0:y.parts)===null||v===void 0?void 0:v.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(g=x==null?void 0:x[0])===null||g===void 0?void 0:g.output}}class yg{}class vg{}class YT{}class jT{}class JT{}class $T{}class xg{}class Sg{}class _g{}class KT{}class Sa{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new Sa;let r;const c=e;return o?r=kT(c):r=DT(c),Object.assign(s,r),s}}class Tg{}class bg{}class Eg{}class Cg{}class XT{}class QT{}class ZT{}class Vc{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new Vc,c=qT(e);return Object.assign(s,c),s}}class WT{}class eb{}class tb{}class Ng{}class nb{get text(){var e,o,s;let r="",c=!1;const f=[];for(const y of(s=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[v,g]of Object.entries(y))v!=="text"&&v!=="thought"&&g!==null&&f.push(v);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;c=!0,r+=y.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?r:void 0}get data(){var e,o,s;let r="";const c=[];for(const f of(s=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,v]of Object.entries(f))y!=="inlineData"&&v!==null&&c.push(y);f.inlineData&&typeof f.inlineData.data=="string"&&(r+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class ib{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class qc{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new qc,c=R0(e);return Object.assign(s,c),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Le(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function M0(n,e){const o=Le(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function I0(n){return Array.isArray(n)?n.map(e=>_a(e)):[_a(n)]}function _a(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function D0(n){const e=_a(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function k0(n){const e=_a(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function wg(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function U0(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>wg(e)):[wg(n)]}function vc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Ag(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Rg(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function St(n){if(n==null)throw new Error("ContentUnion is required");return vc(n)?n:{role:"user",parts:U0(n)}}function Bc(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const s=St(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(n.isVertexAI()){const o=St(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>St(o)):[St(e)]}function tn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Ag(n)||Rg(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[St(n)]}const e=[],o=[],s=vc(n[0]);for(const r of n){const c=vc(r);if(c!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)e.push(r);else{if(Ag(r)||Rg(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return s||e.push({role:"user",parts:U0(o)}),e}function ob(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(s=>s!=="null");if(o.length===1)e.type=Object.values(pi).includes(o[0].toUpperCase())?o[0].toUpperCase():pi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of o)e.anyOf.push({type:Object.values(pi).includes(s.toUpperCase())?s.toUpperCase():pi.TYPE_UNSPECIFIED})}}function wo(n){const e={},o=["items"],s=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=n.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,n=c[1]):c[1].type==="null"&&(e.nullable=!0,n=c[0])),n.type instanceof Array&&ob(n.type,e);for(const[f,y]of Object.entries(n))if(y!=null)if(f=="type"){if(y==="null")throw new Error("type: null can not be the only possible type for the field.");if(y instanceof Array)continue;e.type=Object.values(pi).includes(y.toUpperCase())?y.toUpperCase():pi.TYPE_UNSPECIFIED}else if(o.includes(f))e[f]=wo(y);else if(s.includes(f)){const v=[];for(const g of y){if(g.type=="null"){e.nullable=!0;continue}v.push(wo(g))}e[f]=v}else if(r.includes(f)){const v={};for(const[g,x]of Object.entries(y))v[g]=wo(x);e[f]=v}else{if(f==="additionalProperties")continue;e[f]=y}return e}function Pc(n){return wo(n)}function Oc(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Fc(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Do(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=wo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=wo(e.response));return n}function ko(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function sb(n,e,o,s=1){const r=!e.startsWith(`${o}/`)&&e.split("/").length===s;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:r?`${o}/${e}`:e}function Bn(n,e){if(typeof e!="string")throw new Error("name must be a string");return sb(n,e,"cachedContents")}function L0(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function yi(n){return Gc(n)}function lb(n){return n!=null&&typeof n=="object"&&"name"in n}function ab(n){return n!=null&&typeof n=="object"&&"video"in n}function rb(n){return n!=null&&typeof n=="object"&&"uri"in n}function z0(n){var e;let o;if(lb(n)&&(o=n.name),!(rb(n)&&(o=n.uri,o===void 0))&&!(ab(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function H0(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function G0(n){for(const e of["models","tunedModels","publisherModels"])if(ub(n,e))return n[e];return[]}function ub(n,e){return n!==null&&typeof n=="object"&&e in n}function cb(n,e={}){const o=n,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function db(n,e={}){const o=[],s=new Set;for(const r of n){const c=r.name;if(s.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);s.add(c);const f=cb(r,e);f.functionDeclarations&&o.push(...f.functionDeclarations)}return{functionDeclarations:o}}function V0(n,e){let o;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function fb(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function q0(n){if(typeof n!="object"||n===null)return{};const e=n,o=e.inlinedResponses;if(typeof o!="object"||o===null)return n;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let c=!1;for(const f of r){if(typeof f!="object"||f===null)continue;const v=f.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){c=!0;break}}return c&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Uo(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function B0(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hb(n){const e={},o=u(n,["responsesFile"]);o!=null&&d(e,["fileName"],o);const s=u(n,["inlinedResponses","inlinedResponses"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>Jb(f))),d(e,["inlinedResponses"],c)}const r=u(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["inlinedEmbedContentResponses"],c)}return e}function pb(n){const e={},o=u(n,["predictionsFormat"]);o!=null&&d(e,["format"],o);const s=u(n,["gcsDestination","outputUriPrefix"]);s!=null&&d(e,["gcsUri"],s);const r=u(n,["bigqueryDestination","outputUri"]);return r!=null&&d(e,["bigqueryUri"],r),e}function mb(n){const e={},o=u(n,["format"]);o!=null&&d(e,["predictionsFormat"],o);const s=u(n,["gcsUri"]);s!=null&&d(e,["gcsDestination","outputUriPrefix"],s);const r=u(n,["bigqueryUri"]);if(r!=null&&d(e,["bigqueryDestination","outputUri"],r),u(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ma(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const s=u(n,["metadata","displayName"]);s!=null&&d(e,["displayName"],s);const r=u(n,["metadata","state"]);r!=null&&d(e,["state"],B0(r));const c=u(n,["metadata","createTime"]);c!=null&&d(e,["createTime"],c);const f=u(n,["metadata","endTime"]);f!=null&&d(e,["endTime"],f);const y=u(n,["metadata","updateTime"]);y!=null&&d(e,["updateTime"],y);const v=u(n,["metadata","model"]);v!=null&&d(e,["model"],v);const g=u(n,["metadata","output"]);return g!=null&&d(e,["dest"],hb(q0(g))),e}function xc(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const s=u(n,["displayName"]);s!=null&&d(e,["displayName"],s);const r=u(n,["state"]);r!=null&&d(e,["state"],B0(r));const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["createTime"]);f!=null&&d(e,["createTime"],f);const y=u(n,["startTime"]);y!=null&&d(e,["startTime"],y);const v=u(n,["endTime"]);v!=null&&d(e,["endTime"],v);const g=u(n,["updateTime"]);g!=null&&d(e,["updateTime"],g);const x=u(n,["model"]);x!=null&&d(e,["model"],x);const T=u(n,["inputConfig"]);T!=null&&d(e,["src"],gb(T));const _=u(n,["outputConfig"]);_!=null&&d(e,["dest"],pb(q0(_)));const E=u(n,["completionStats"]);return E!=null&&d(e,["completionStats"],E),e}function gb(n){const e={},o=u(n,["instancesFormat"]);o!=null&&d(e,["format"],o);const s=u(n,["gcsSource","uris"]);s!=null&&d(e,["gcsUri"],s);const r=u(n,["bigquerySource","inputUri"]);return r!=null&&d(e,["bigqueryUri"],r),e}function yb(n,e){const o={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=u(e,["fileName"]);s!=null&&d(o,["fileName"],s);const r=u(e,["inlinedRequests"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>jb(n,f))),d(o,["requests","requests"],c)}return o}function vb(n){const e={},o=u(n,["format"]);o!=null&&d(e,["instancesFormat"],o);const s=u(n,["gcsUri"]);s!=null&&d(e,["gcsSource","uris"],s);const r=u(n,["bigqueryUri"]);if(r!=null&&d(e,["bigquerySource","inputUri"],r),u(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function xb(n){const e={},o=u(n,["data"]);if(o!=null&&d(e,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function Sb(n,e){const o={},s=u(e,["name"]);return s!=null&&d(o,["_url","name"],Uo(n,s)),o}function _b(n,e){const o={},s=u(e,["name"]);return s!=null&&d(o,["_url","name"],Uo(n,s)),o}function Tb(n){const e={},o=u(n,["content"]);o!=null&&d(e,["content"],o);const s=u(n,["citationMetadata"]);s!=null&&d(e,["citationMetadata"],bb(s));const r=u(n,["tokenCount"]);r!=null&&d(e,["tokenCount"],r);const c=u(n,["finishReason"]);c!=null&&d(e,["finishReason"],c);const f=u(n,["avgLogprobs"]);f!=null&&d(e,["avgLogprobs"],f);const y=u(n,["groundingMetadata"]);y!=null&&d(e,["groundingMetadata"],y);const v=u(n,["index"]);v!=null&&d(e,["index"],v);const g=u(n,["logprobsResult"]);g!=null&&d(e,["logprobsResult"],g);const x=u(n,["safetyRatings"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(E=>E)),d(e,["safetyRatings"],_)}const T=u(n,["urlContextMetadata"]);return T!=null&&d(e,["urlContextMetadata"],T),e}function bb(n){const e={},o=u(n,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),d(e,["citations"],s)}return e}function P0(n){const e={},o=u(n,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>eE(c))),d(e,["parts"],r)}const s=u(n,["role"]);return s!=null&&d(e,["role"],s),e}function Eb(n,e){const o={},s=u(n,["displayName"]);if(e!==void 0&&s!=null&&d(e,["batch","displayName"],s),u(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function Cb(n,e){const o={},s=u(n,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const r=u(n,["dest"]);return e!==void 0&&r!=null&&d(e,["outputConfig"],mb(fb(r))),o}function Mg(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["_url","model"],Le(n,s));const r=u(e,["src"]);r!=null&&d(o,["batch","inputConfig"],yb(n,V0(n,r)));const c=u(e,["config"]);return c!=null&&Eb(c,o),o}function Nb(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["model"],Le(n,s));const r=u(e,["src"]);r!=null&&d(o,["inputConfig"],vb(V0(n,r)));const c=u(e,["config"]);return c!=null&&Cb(c,o),o}function wb(n,e){const o={},s=u(n,["displayName"]);return e!==void 0&&s!=null&&d(e,["batch","displayName"],s),o}function Ab(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["_url","model"],Le(n,s));const r=u(e,["src"]);r!=null&&d(o,["batch","inputConfig"],Lb(n,r));const c=u(e,["config"]);return c!=null&&wb(c,o),o}function Rb(n,e){const o={},s=u(e,["name"]);return s!=null&&d(o,["_url","name"],Uo(n,s)),o}function Mb(n,e){const o={},s=u(e,["name"]);return s!=null&&d(o,["_url","name"],Uo(n,s)),o}function Ib(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["name"]);s!=null&&d(e,["name"],s);const r=u(n,["done"]);r!=null&&d(e,["done"],r);const c=u(n,["error"]);return c!=null&&d(e,["error"],c),e}function Db(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["name"]);s!=null&&d(e,["name"],s);const r=u(n,["done"]);r!=null&&d(e,["done"],r);const c=u(n,["error"]);return c!=null&&d(e,["error"],c),e}function kb(n,e){const o={},s=u(e,["contents"]);if(s!=null){let c=Bc(n,s);Array.isArray(c)&&(c=c.map(f=>f)),d(o,["requests[]","request","content"],c)}const r=u(e,["config"]);return r!=null&&(d(o,["_self"],Ub(r,o)),MT(o,{"requests[].*":"requests[].request.*"})),o}function Ub(n,e){const o={},s=u(n,["taskType"]);e!==void 0&&s!=null&&d(e,["requests[]","taskType"],s);const r=u(n,["title"]);e!==void 0&&r!=null&&d(e,["requests[]","title"],r);const c=u(n,["outputDimensionality"]);if(e!==void 0&&c!=null&&d(e,["requests[]","outputDimensionality"],c),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Lb(n,e){const o={},s=u(e,["fileName"]);s!=null&&d(o,["file_name"],s);const r=u(e,["inlinedRequests"]);return r!=null&&d(o,["requests"],kb(n,r)),o}function zb(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function Hb(n){const e={},o=u(n,["id"]);o!=null&&d(e,["id"],o);const s=u(n,["args"]);s!=null&&d(e,["args"],s);const r=u(n,["name"]);if(r!=null&&d(e,["name"],r),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Gb(n){const e={},o=u(n,["allowedFunctionNames"]);o!=null&&d(e,["allowedFunctionNames"],o);const s=u(n,["mode"]);if(s!=null&&d(e,["mode"],s),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Vb(n,e,o){const s={},r=u(e,["systemInstruction"]);o!==void 0&&r!=null&&d(o,["systemInstruction"],P0(St(r)));const c=u(e,["temperature"]);c!=null&&d(s,["temperature"],c);const f=u(e,["topP"]);f!=null&&d(s,["topP"],f);const y=u(e,["topK"]);y!=null&&d(s,["topK"],y);const v=u(e,["candidateCount"]);v!=null&&d(s,["candidateCount"],v);const g=u(e,["maxOutputTokens"]);g!=null&&d(s,["maxOutputTokens"],g);const x=u(e,["stopSequences"]);x!=null&&d(s,["stopSequences"],x);const T=u(e,["responseLogprobs"]);T!=null&&d(s,["responseLogprobs"],T);const _=u(e,["logprobs"]);_!=null&&d(s,["logprobs"],_);const E=u(e,["presencePenalty"]);E!=null&&d(s,["presencePenalty"],E);const C=u(e,["frequencyPenalty"]);C!=null&&d(s,["frequencyPenalty"],C);const k=u(e,["seed"]);k!=null&&d(s,["seed"],k);const A=u(e,["responseMimeType"]);A!=null&&d(s,["responseMimeType"],A);const V=u(e,["responseSchema"]);V!=null&&d(s,["responseSchema"],Pc(V));const F=u(e,["responseJsonSchema"]);if(F!=null&&d(s,["responseJsonSchema"],F),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const G=u(e,["safetySettings"]);if(o!==void 0&&G!=null){let ve=G;Array.isArray(ve)&&(ve=ve.map(ie=>tE(ie))),d(o,["safetySettings"],ve)}const K=u(e,["tools"]);if(o!==void 0&&K!=null){let ve=ko(K);Array.isArray(ve)&&(ve=ve.map(ie=>iE(Do(ie)))),d(o,["tools"],ve)}const X=u(e,["toolConfig"]);if(o!==void 0&&X!=null&&d(o,["toolConfig"],nE(X)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=u(e,["cachedContent"]);o!==void 0&&ne!=null&&d(o,["cachedContent"],Bn(n,ne));const $=u(e,["responseModalities"]);$!=null&&d(s,["responseModalities"],$);const he=u(e,["mediaResolution"]);he!=null&&d(s,["mediaResolution"],he);const Z=u(e,["speechConfig"]);if(Z!=null&&d(s,["speechConfig"],Oc(Z)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=u(e,["thinkingConfig"]);re!=null&&d(s,["thinkingConfig"],re);const ye=u(e,["imageConfig"]);ye!=null&&d(s,["imageConfig"],Yb(ye));const Ee=u(e,["enableEnhancedCivicAnswers"]);if(Ee!=null&&d(s,["enableEnhancedCivicAnswers"],Ee),u(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function qb(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(g=>Tb(g))),d(e,["candidates"],v)}const r=u(n,["modelVersion"]);r!=null&&d(e,["modelVersion"],r);const c=u(n,["promptFeedback"]);c!=null&&d(e,["promptFeedback"],c);const f=u(n,["responseId"]);f!=null&&d(e,["responseId"],f);const y=u(n,["usageMetadata"]);return y!=null&&d(e,["usageMetadata"],y),e}function Bb(n,e){const o={},s=u(e,["name"]);return s!=null&&d(o,["_url","name"],Uo(n,s)),o}function Pb(n,e){const o={},s=u(e,["name"]);return s!=null&&d(o,["_url","name"],Uo(n,s)),o}function Ob(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function Fb(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function Yb(n){const e={},o=u(n,["aspectRatio"]);o!=null&&d(e,["aspectRatio"],o);const s=u(n,["imageSize"]);if(s!=null&&d(e,["imageSize"],s),u(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function jb(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["request","model"],Le(n,s));const r=u(e,["contents"]);if(r!=null){let y=tn(r);Array.isArray(y)&&(y=y.map(v=>P0(v))),d(o,["request","contents"],y)}const c=u(e,["metadata"]);c!=null&&d(o,["metadata"],c);const f=u(e,["config"]);return f!=null&&d(o,["request","generationConfig"],Vb(n,f,u(o,["request"],{}))),o}function Jb(n){const e={},o=u(n,["response"]);o!=null&&d(e,["response"],qb(o));const s=u(n,["error"]);return s!=null&&d(e,["error"],s),e}function $b(n,e){const o={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const r=u(n,["pageToken"]);if(e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),u(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function Kb(n,e){const o={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const r=u(n,["pageToken"]);e!==void 0&&r!=null&&d(e,["_query","pageToken"],r);const c=u(n,["filter"]);return e!==void 0&&c!=null&&d(e,["_query","filter"],c),o}function Xb(n){const e={},o=u(n,["config"]);return o!=null&&$b(o,e),e}function Qb(n){const e={},o=u(n,["config"]);return o!=null&&Kb(o,e),e}function Zb(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=u(n,["operations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>ma(f))),d(e,["batchJobs"],c)}return e}function Wb(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=u(n,["batchPredictionJobs"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>xc(f))),d(e,["batchJobs"],c)}return e}function eE(n){const e={},o=u(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const s=u(n,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const r=u(n,["executableCode"]);r!=null&&d(e,["executableCode"],r);const c=u(n,["fileData"]);c!=null&&d(e,["fileData"],zb(c));const f=u(n,["functionCall"]);f!=null&&d(e,["functionCall"],Hb(f));const y=u(n,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const v=u(n,["inlineData"]);v!=null&&d(e,["inlineData"],xb(v));const g=u(n,["text"]);g!=null&&d(e,["text"],g);const x=u(n,["thought"]);x!=null&&d(e,["thought"],x);const T=u(n,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const _=u(n,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function tE(n){const e={},o=u(n,["category"]);if(o!=null&&d(e,["category"],o),u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(n,["threshold"]);return s!=null&&d(e,["threshold"],s),e}function nE(n){const e={},o=u(n,["retrievalConfig"]);o!=null&&d(e,["retrievalConfig"],o);const s=u(n,["functionCallingConfig"]);return s!=null&&d(e,["functionCallingConfig"],Gb(s)),e}function iE(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&d(e,["computerUse"],o);const s=u(n,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const r=u(n,["codeExecution"]);if(r!=null&&d(e,["codeExecution"],r),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(T=>T)),d(e,["functionDeclarations"],x)}const f=u(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],Ob(f));const y=u(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],Fb(y));const v=u(n,["googleSearchRetrieval"]);v!=null&&d(e,["googleSearchRetrieval"],v);const g=u(n,["urlContext"]);return g!=null&&d(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Vn||(Vn={}));class Hi{constructor(e,o,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,s,r)}init(e,o,s){var r,c;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!s||Object.keys(s).length===0?f={config:{}}:typeof s=="object"?f=Object.assign({},s):f=s,f.config&&(f.config.pageToken=o.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(c=(r=f.config)===null||r===void 0?void 0:r.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oE extends qn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Hi(Vn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(e){const o=Mg(this.apiClient,e),s=o._url,r=oe("{model}:batchGenerateContent",s),y=o.batch.inputConfig.requests,v=y.requests,g=[];for(const x of v){const T=Object.assign({},x);if(T.systemInstruction){const _=T.systemInstruction;delete T.systemInstruction;const E=T.request;E.systemInstruction=_,T.request=E}g.push(T)}return y.requests=g,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const s=o?Object.assign({},o):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const c=this.getGcsUri(e),f=this.getBigqueryUri(e);if(c)c.endsWith(".jsonl")?s.dest=`${c.slice(0,-6)}/dest`:s.dest=`${c}_dest_${r}`;else if(f)s.dest=`${f}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=Nb(this.apiClient,e);return y=oe("batchPredictionJobs",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),f.then(x=>xc(x))}else{const g=Mg(this.apiClient,e);return y=oe("{model}:batchGenerateContent",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),f.then(x=>ma(x))}}async createEmbeddingsInternal(e){var o,s;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=Ab(this.apiClient,e);return c=oe("{model}:asyncBatchEmbedContent",y._url),f=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>ma(v))}}async get(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=Pb(this.apiClient,e);return y=oe("batchPredictionJobs/{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),f.then(x=>xc(x))}else{const g=Bb(this.apiClient,e);return y=oe("batches/{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),f.then(x=>ma(x))}}async cancel(e){var o,s,r,c;let f="",y={};if(this.apiClient.isVertexAI()){const v=_b(this.apiClient,e);f=oe("batchPredictionJobs/{name}:cancel",v._url),y=v._query,delete v._url,delete v._query,await this.apiClient.request({path:f,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const v=Sb(this.apiClient,e);f=oe("batches/{name}:cancel",v._url),y=v._query,delete v._url,delete v._query,await this.apiClient.request({path:f,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=Qb(e);return y=oe("batchPredictionJobs",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=Wb(x),_=new Ng;return Object.assign(_,T),_})}else{const g=Xb(e);return y=oe("batches",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=Zb(x),_=new Ng;return Object.assign(_,T),_})}}async delete(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=Mb(this.apiClient,e);return y=oe("batchPredictionJobs/{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>Db(x))}else{const g=Rb(this.apiClient,e);return y=oe("batches/{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>Ib(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sE(n){const e={},o=u(n,["data"]);if(o!=null&&d(e,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function Ig(n){const e={},o=u(n,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>AE(c))),d(e,["parts"],r)}const s=u(n,["role"]);return s!=null&&d(e,["role"],s),e}function lE(n,e){const o={},s=u(n,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const r=u(n,["expireTime"]);e!==void 0&&r!=null&&d(e,["expireTime"],r);const c=u(n,["displayName"]);e!==void 0&&c!=null&&d(e,["displayName"],c);const f=u(n,["contents"]);if(e!==void 0&&f!=null){let x=tn(f);Array.isArray(x)&&(x=x.map(T=>Ig(T))),d(e,["contents"],x)}const y=u(n,["systemInstruction"]);e!==void 0&&y!=null&&d(e,["systemInstruction"],Ig(St(y)));const v=u(n,["tools"]);if(e!==void 0&&v!=null){let x=v;Array.isArray(x)&&(x=x.map(T=>ME(T))),d(e,["tools"],x)}const g=u(n,["toolConfig"]);if(e!==void 0&&g!=null&&d(e,["toolConfig"],RE(g)),u(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function aE(n,e){const o={},s=u(n,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const r=u(n,["expireTime"]);e!==void 0&&r!=null&&d(e,["expireTime"],r);const c=u(n,["displayName"]);e!==void 0&&c!=null&&d(e,["displayName"],c);const f=u(n,["contents"]);if(e!==void 0&&f!=null){let T=tn(f);Array.isArray(T)&&(T=T.map(_=>_)),d(e,["contents"],T)}const y=u(n,["systemInstruction"]);e!==void 0&&y!=null&&d(e,["systemInstruction"],St(y));const v=u(n,["tools"]);if(e!==void 0&&v!=null){let T=v;Array.isArray(T)&&(T=T.map(_=>IE(_))),d(e,["tools"],T)}const g=u(n,["toolConfig"]);e!==void 0&&g!=null&&d(e,["toolConfig"],g);const x=u(n,["kmsKeyName"]);return e!==void 0&&x!=null&&d(e,["encryption_spec","kmsKeyName"],x),o}function rE(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["model"],M0(n,s));const r=u(e,["config"]);return r!=null&&lE(r,o),o}function uE(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["model"],M0(n,s));const r=u(e,["config"]);return r!=null&&aE(r,o),o}function cE(n,e){const o={},s=u(e,["name"]);return s!=null&&d(o,["_url","name"],Bn(n,s)),o}function dE(n,e){const o={},s=u(e,["name"]);return s!=null&&d(o,["_url","name"],Bn(n,s)),o}function fE(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function hE(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function pE(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function mE(n){const e={},o=u(n,["id"]);o!=null&&d(e,["id"],o);const s=u(n,["args"]);s!=null&&d(e,["args"],s);const r=u(n,["name"]);if(r!=null&&d(e,["name"],r),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gE(n){const e={},o=u(n,["allowedFunctionNames"]);o!=null&&d(e,["allowedFunctionNames"],o);const s=u(n,["mode"]);if(s!=null&&d(e,["mode"],s),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function yE(n){const e={},o=u(n,["description"]);o!=null&&d(e,["description"],o);const s=u(n,["name"]);s!=null&&d(e,["name"],s);const r=u(n,["parameters"]);r!=null&&d(e,["parameters"],r);const c=u(n,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const f=u(n,["response"]);f!=null&&d(e,["response"],f);const y=u(n,["responseJsonSchema"]);if(y!=null&&d(e,["responseJsonSchema"],y),u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function vE(n,e){const o={},s=u(e,["name"]);return s!=null&&d(o,["_url","name"],Bn(n,s)),o}function xE(n,e){const o={},s=u(e,["name"]);return s!=null&&d(o,["_url","name"],Bn(n,s)),o}function SE(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function _E(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function TE(n,e){const o={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const r=u(n,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),o}function bE(n,e){const o={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const r=u(n,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),o}function EE(n){const e={},o=u(n,["config"]);return o!=null&&TE(o,e),e}function CE(n){const e={},o=u(n,["config"]);return o!=null&&bE(o,e),e}function NE(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=u(n,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["cachedContents"],c)}return e}function wE(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=u(n,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["cachedContents"],c)}return e}function AE(n){const e={},o=u(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const s=u(n,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const r=u(n,["executableCode"]);r!=null&&d(e,["executableCode"],r);const c=u(n,["fileData"]);c!=null&&d(e,["fileData"],pE(c));const f=u(n,["functionCall"]);f!=null&&d(e,["functionCall"],mE(f));const y=u(n,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const v=u(n,["inlineData"]);v!=null&&d(e,["inlineData"],sE(v));const g=u(n,["text"]);g!=null&&d(e,["text"],g);const x=u(n,["thought"]);x!=null&&d(e,["thought"],x);const T=u(n,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const _=u(n,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function RE(n){const e={},o=u(n,["retrievalConfig"]);o!=null&&d(e,["retrievalConfig"],o);const s=u(n,["functionCallingConfig"]);return s!=null&&d(e,["functionCallingConfig"],gE(s)),e}function ME(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&d(e,["computerUse"],o);const s=u(n,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const r=u(n,["codeExecution"]);if(r!=null&&d(e,["codeExecution"],r),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(T=>T)),d(e,["functionDeclarations"],x)}const f=u(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],SE(f));const y=u(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],_E(y));const v=u(n,["googleSearchRetrieval"]);v!=null&&d(e,["googleSearchRetrieval"],v);const g=u(n,["urlContext"]);return g!=null&&d(e,["urlContext"],g),e}function IE(n){const e={},o=u(n,["retrieval"]);o!=null&&d(e,["retrieval"],o);const s=u(n,["computerUse"]);if(s!=null&&d(e,["computerUse"],s),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(n,["codeExecution"]);r!=null&&d(e,["codeExecution"],r);const c=u(n,["enterpriseWebSearch"]);c!=null&&d(e,["enterpriseWebSearch"],c);const f=u(n,["functionDeclarations"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(_=>yE(_))),d(e,["functionDeclarations"],T)}const y=u(n,["googleMaps"]);y!=null&&d(e,["googleMaps"],y);const v=u(n,["googleSearch"]);v!=null&&d(e,["googleSearch"],v);const g=u(n,["googleSearchRetrieval"]);g!=null&&d(e,["googleSearchRetrieval"],g);const x=u(n,["urlContext"]);return x!=null&&d(e,["urlContext"],x),e}function DE(n,e){const o={},s=u(n,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const r=u(n,["expireTime"]);return e!==void 0&&r!=null&&d(e,["expireTime"],r),o}function kE(n,e){const o={},s=u(n,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const r=u(n,["expireTime"]);return e!==void 0&&r!=null&&d(e,["expireTime"],r),o}function UE(n,e){const o={},s=u(e,["name"]);s!=null&&d(o,["_url","name"],Bn(n,s));const r=u(e,["config"]);return r!=null&&DE(r,o),o}function LE(n,e){const o={},s=u(e,["name"]);s!=null&&d(o,["_url","name"],Bn(n,s));const r=u(e,["config"]);return r!=null&&kE(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zE extends qn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Hi(Vn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=uE(this.apiClient,e);return y=oe("cachedContents",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),f.then(x=>x)}else{const g=rE(this.apiClient,e);return y=oe("cachedContents",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),f.then(x=>x)}}async get(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=xE(this.apiClient,e);return y=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),f.then(x=>x)}else{const g=vE(this.apiClient,e);return y=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),f.then(x=>x)}}async delete(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=dE(this.apiClient,e);return y=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=hE(x),_=new Eg;return Object.assign(_,T),_})}else{const g=cE(this.apiClient,e);return y=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=fE(x),_=new Eg;return Object.assign(_,T),_})}}async update(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=LE(this.apiClient,e);return y=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),f.then(x=>x)}else{const g=UE(this.apiClient,e);return y=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),f.then(x=>x)}}async listInternal(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=CE(e);return y=oe("cachedContents",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=wE(x),_=new Cg;return Object.assign(_,T),_})}else{const g=EE(e);return y=oe("cachedContents",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=NE(x),_=new Cg;return Object.assign(_,T),_})}}}function Ta(n,e){var o={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(o[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(o[s[r]]=n[s[r]]);return o}function Dg(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],s=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xe(n){return this instanceof xe?(this.v=n,this):new xe(n)}function un(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(n,e||[]),r,c=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",f),r[Symbol.asyncIterator]=function(){return this},r;function f(E){return function(C){return Promise.resolve(C).then(E,T)}}function y(E,C){s[E]&&(r[E]=function(k){return new Promise(function(A,V){c.push([E,k,A,V])>1||v(E,k)})},C&&(r[E]=C(r[E])))}function v(E,C){try{g(s[E](C))}catch(k){_(c[0][3],k)}}function g(E){E.value instanceof xe?Promise.resolve(E.value.v).then(x,T):_(c[0][2],E)}function x(E){v("next",E)}function T(E){v("throw",E)}function _(E,C){E(C),c.shift(),c.length&&v(c[0][0],c[0][1])}}function cn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof Dg=="function"?Dg(n):n[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(c){o[c]=n[c]&&function(f){return new Promise(function(y,v){f=n[c](f),r(y,v,f.done,f.value)})}}function r(c,f,y,v){Promise.resolve(v).then(function(g){c({value:g,done:y})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HE(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:O0(o)}function O0(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function GE(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function kg(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let s=0;for(;s<o;)if(n[s].role==="user")e.push(n[s]),s++;else{const r=[];let c=!0;for(;s<o&&n[s].role==="model";)r.push(n[s]),c&&!O0(n[s])&&(c=!1),s++;c?e.push(...r):e.pop()}return e}class VE{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new qE(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class qE{constructor(e,o,s,r={},c=[]){this.apiClient=e,this.modelsModule=o,this.model=s,this.config=r,this.history=c,this.sendPromise=Promise.resolve(),GE(c)}async sendMessage(e){var o;await this.sendPromise;const s=St(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var c,f,y;const v=await r,g=(f=(c=v.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content,x=v.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let _=[];x!=null&&(_=(y=x.slice(T))!==null&&y!==void 0?y:[]);const E=g?[g]:[];this.recordHistory(s,E,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var o;await this.sendPromise;const s=St(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const c=await r;return this.processStreamResponse(c,s)}getHistory(e=!1){const o=e?kg(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){return un(this,arguments,function*(){var r,c,f,y,v,g;const x=[];try{for(var T=!0,_=cn(e),E;E=yield xe(_.next()),r=E.done,!r;T=!0){y=E.value,T=!1;const C=y;if(HE(C)){const k=(g=(v=C.candidates)===null||v===void 0?void 0:v[0])===null||g===void 0?void 0:g.content;k!==void 0&&x.push(k)}yield yield xe(C)}}catch(C){c={error:C}}finally{try{!T&&!r&&(f=_.return)&&(yield xe(f.call(_)))}finally{if(c)throw c.error}}this.recordHistory(o,x)})}recordHistory(e,o,s){let r=[];o.length>0&&o.every(c=>c.role!==void 0)?r=o:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...kg(s)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zs extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,zs.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BE(n){const e={},o=u(n,["file"]);return o!=null&&d(e,["file"],o),e}function PE(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function OE(n){const e={},o=u(n,["name"]);return o!=null&&d(e,["_url","file"],z0(o)),e}function FE(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function YE(n){const e={},o=u(n,["name"]);return o!=null&&d(e,["_url","file"],z0(o)),e}function jE(n,e){const o={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const r=u(n,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),o}function JE(n){const e={},o=u(n,["config"]);return o!=null&&jE(o,e),e}function $E(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=u(n,["files"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["files"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KE extends qn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Hi(Vn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>o)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,s;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=JE(e);return c=oe("files",y._url),f=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),r.then(v=>{const g=$E(v),x=new WT;return Object.assign(x,g),x})}}async createInternal(e){var o,s;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=BE(e);return c=oe("upload/v1beta/files",y._url),f=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const g=PE(v),x=new eb;return Object.assign(x,g),x})}}async get(e){var o,s;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=YE(e);return c=oe("files/{file}",y._url),f=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(e){var o,s;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=OE(e);return c=oe("files/{file}",y._url),f=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),r.then(v=>{const g=FE(v),x=new tb;return Object.assign(x,g),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ga(n){const e={},o=u(n,["data"]);if(o!=null&&d(e,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function XE(n){const e={},o=u(n,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>fC(c))),d(e,["parts"],r)}const s=u(n,["role"]);return s!=null&&d(e,["role"],s),e}function QE(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function ZE(n){const e={},o=u(n,["id"]);o!=null&&d(e,["id"],o);const s=u(n,["args"]);s!=null&&d(e,["args"],s);const r=u(n,["name"]);if(r!=null&&d(e,["name"],r),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function WE(n){const e={},o=u(n,["description"]);o!=null&&d(e,["description"],o);const s=u(n,["name"]);s!=null&&d(e,["name"],s);const r=u(n,["parameters"]);r!=null&&d(e,["parameters"],r);const c=u(n,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const f=u(n,["response"]);f!=null&&d(e,["response"],f);const y=u(n,["responseJsonSchema"]);if(y!=null&&d(e,["responseJsonSchema"],y),u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function eC(n){const e={},o=u(n,["modelSelectionConfig"]);o!=null&&d(e,["modelConfig"],o);const s=u(n,["responseJsonSchema"]);s!=null&&d(e,["responseJsonSchema"],s);const r=u(n,["audioTimestamp"]);r!=null&&d(e,["audioTimestamp"],r);const c=u(n,["candidateCount"]);c!=null&&d(e,["candidateCount"],c);const f=u(n,["enableAffectiveDialog"]);f!=null&&d(e,["enableAffectiveDialog"],f);const y=u(n,["frequencyPenalty"]);y!=null&&d(e,["frequencyPenalty"],y);const v=u(n,["logprobs"]);v!=null&&d(e,["logprobs"],v);const g=u(n,["maxOutputTokens"]);g!=null&&d(e,["maxOutputTokens"],g);const x=u(n,["mediaResolution"]);x!=null&&d(e,["mediaResolution"],x);const T=u(n,["presencePenalty"]);T!=null&&d(e,["presencePenalty"],T);const _=u(n,["responseLogprobs"]);_!=null&&d(e,["responseLogprobs"],_);const E=u(n,["responseMimeType"]);E!=null&&d(e,["responseMimeType"],E);const C=u(n,["responseModalities"]);C!=null&&d(e,["responseModalities"],C);const k=u(n,["responseSchema"]);k!=null&&d(e,["responseSchema"],k);const A=u(n,["routingConfig"]);A!=null&&d(e,["routingConfig"],A);const V=u(n,["seed"]);V!=null&&d(e,["seed"],V);const F=u(n,["speechConfig"]);F!=null&&d(e,["speechConfig"],F);const G=u(n,["stopSequences"]);G!=null&&d(e,["stopSequences"],G);const K=u(n,["temperature"]);K!=null&&d(e,["temperature"],K);const X=u(n,["thinkingConfig"]);X!=null&&d(e,["thinkingConfig"],X);const ne=u(n,["topK"]);ne!=null&&d(e,["topK"],ne);const $=u(n,["topP"]);if($!=null&&d(e,["topP"],$),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function tC(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function nC(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function iC(n,e){const o={},s=u(n,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],s);const r=u(n,["responseModalities"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig","responseModalities"],r);const c=u(n,["temperature"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","temperature"],c);const f=u(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const y=u(n,["topK"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","topK"],y);const v=u(n,["maxOutputTokens"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","maxOutputTokens"],v);const g=u(n,["mediaResolution"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","mediaResolution"],g);const x=u(n,["seed"]);e!==void 0&&x!=null&&d(e,["setup","generationConfig","seed"],x);const T=u(n,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],Fc(T));const _=u(n,["thinkingConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","thinkingConfig"],_);const E=u(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],E);const C=u(n,["systemInstruction"]);e!==void 0&&C!=null&&d(e,["setup","systemInstruction"],XE(St(C)));const k=u(n,["tools"]);if(e!==void 0&&k!=null){let ne=ko(k);Array.isArray(ne)&&(ne=ne.map($=>pC(Do($)))),d(e,["setup","tools"],ne)}const A=u(n,["sessionResumption"]);e!==void 0&&A!=null&&d(e,["setup","sessionResumption"],hC(A));const V=u(n,["inputAudioTranscription"]);e!==void 0&&V!=null&&d(e,["setup","inputAudioTranscription"],V);const F=u(n,["outputAudioTranscription"]);e!==void 0&&F!=null&&d(e,["setup","outputAudioTranscription"],F);const G=u(n,["realtimeInputConfig"]);e!==void 0&&G!=null&&d(e,["setup","realtimeInputConfig"],G);const K=u(n,["contextWindowCompression"]);e!==void 0&&K!=null&&d(e,["setup","contextWindowCompression"],K);const X=u(n,["proactivity"]);if(e!==void 0&&X!=null&&d(e,["setup","proactivity"],X),u(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function oC(n,e){const o={},s=u(n,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],eC(s));const r=u(n,["responseModalities"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig","responseModalities"],r);const c=u(n,["temperature"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","temperature"],c);const f=u(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const y=u(n,["topK"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","topK"],y);const v=u(n,["maxOutputTokens"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","maxOutputTokens"],v);const g=u(n,["mediaResolution"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","mediaResolution"],g);const x=u(n,["seed"]);e!==void 0&&x!=null&&d(e,["setup","generationConfig","seed"],x);const T=u(n,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],Fc(T));const _=u(n,["thinkingConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","thinkingConfig"],_);const E=u(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],E);const C=u(n,["systemInstruction"]);e!==void 0&&C!=null&&d(e,["setup","systemInstruction"],St(C));const k=u(n,["tools"]);if(e!==void 0&&k!=null){let $=ko(k);Array.isArray($)&&($=$.map(he=>mC(Do(he)))),d(e,["setup","tools"],$)}const A=u(n,["sessionResumption"]);e!==void 0&&A!=null&&d(e,["setup","sessionResumption"],A);const V=u(n,["inputAudioTranscription"]);e!==void 0&&V!=null&&d(e,["setup","inputAudioTranscription"],V);const F=u(n,["outputAudioTranscription"]);e!==void 0&&F!=null&&d(e,["setup","outputAudioTranscription"],F);const G=u(n,["realtimeInputConfig"]);e!==void 0&&G!=null&&d(e,["setup","realtimeInputConfig"],G);const K=u(n,["contextWindowCompression"]);e!==void 0&&K!=null&&d(e,["setup","contextWindowCompression"],K);const X=u(n,["proactivity"]);e!==void 0&&X!=null&&d(e,["setup","proactivity"],X);const ne=u(n,["explicitVadSignal"]);return e!==void 0&&ne!=null&&d(e,["setup","explicitVadSignal"],ne),o}function sC(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["setup","model"],Le(n,s));const r=u(e,["config"]);return r!=null&&d(o,["config"],iC(r,o)),o}function lC(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["setup","model"],Le(n,s));const r=u(e,["config"]);return r!=null&&d(o,["config"],oC(r,o)),o}function aC(n){const e={},o=u(n,["musicGenerationConfig"]);return o!=null&&d(e,["musicGenerationConfig"],o),e}function rC(n){const e={},o=u(n,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),d(e,["weightedPrompts"],s)}return e}function uC(n){const e={},o=u(n,["media"]);if(o!=null){let g=I0(o);Array.isArray(g)&&(g=g.map(x=>ga(x))),d(e,["mediaChunks"],g)}const s=u(n,["audio"]);s!=null&&d(e,["audio"],ga(k0(s)));const r=u(n,["audioStreamEnd"]);r!=null&&d(e,["audioStreamEnd"],r);const c=u(n,["video"]);c!=null&&d(e,["video"],ga(D0(c)));const f=u(n,["text"]);f!=null&&d(e,["text"],f);const y=u(n,["activityStart"]);y!=null&&d(e,["activityStart"],y);const v=u(n,["activityEnd"]);return v!=null&&d(e,["activityEnd"],v),e}function cC(n){const e={},o=u(n,["media"]);if(o!=null){let g=I0(o);Array.isArray(g)&&(g=g.map(x=>x)),d(e,["mediaChunks"],g)}const s=u(n,["audio"]);s!=null&&d(e,["audio"],k0(s));const r=u(n,["audioStreamEnd"]);r!=null&&d(e,["audioStreamEnd"],r);const c=u(n,["video"]);c!=null&&d(e,["video"],D0(c));const f=u(n,["text"]);f!=null&&d(e,["text"],f);const y=u(n,["activityStart"]);y!=null&&d(e,["activityStart"],y);const v=u(n,["activityEnd"]);return v!=null&&d(e,["activityEnd"],v),e}function dC(n){const e={},o=u(n,["setupComplete"]);o!=null&&d(e,["setupComplete"],o);const s=u(n,["serverContent"]);s!=null&&d(e,["serverContent"],s);const r=u(n,["toolCall"]);r!=null&&d(e,["toolCall"],r);const c=u(n,["toolCallCancellation"]);c!=null&&d(e,["toolCallCancellation"],c);const f=u(n,["usageMetadata"]);f!=null&&d(e,["usageMetadata"],gC(f));const y=u(n,["goAway"]);y!=null&&d(e,["goAway"],y);const v=u(n,["sessionResumptionUpdate"]);v!=null&&d(e,["sessionResumptionUpdate"],v);const g=u(n,["voiceActivityDetectionSignal"]);g!=null&&d(e,["voiceActivityDetectionSignal"],g);const x=u(n,["voiceActivity"]);return x!=null&&d(e,["voiceActivity"],yC(x)),e}function fC(n){const e={},o=u(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const s=u(n,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const r=u(n,["executableCode"]);r!=null&&d(e,["executableCode"],r);const c=u(n,["fileData"]);c!=null&&d(e,["fileData"],QE(c));const f=u(n,["functionCall"]);f!=null&&d(e,["functionCall"],ZE(f));const y=u(n,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const v=u(n,["inlineData"]);v!=null&&d(e,["inlineData"],ga(v));const g=u(n,["text"]);g!=null&&d(e,["text"],g);const x=u(n,["thought"]);x!=null&&d(e,["thought"],x);const T=u(n,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const _=u(n,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function hC(n){const e={},o=u(n,["handle"]);if(o!=null&&d(e,["handle"],o),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function pC(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&d(e,["computerUse"],o);const s=u(n,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const r=u(n,["codeExecution"]);if(r!=null&&d(e,["codeExecution"],r),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(T=>T)),d(e,["functionDeclarations"],x)}const f=u(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],tC(f));const y=u(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],nC(y));const v=u(n,["googleSearchRetrieval"]);v!=null&&d(e,["googleSearchRetrieval"],v);const g=u(n,["urlContext"]);return g!=null&&d(e,["urlContext"],g),e}function mC(n){const e={},o=u(n,["retrieval"]);o!=null&&d(e,["retrieval"],o);const s=u(n,["computerUse"]);if(s!=null&&d(e,["computerUse"],s),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(n,["codeExecution"]);r!=null&&d(e,["codeExecution"],r);const c=u(n,["enterpriseWebSearch"]);c!=null&&d(e,["enterpriseWebSearch"],c);const f=u(n,["functionDeclarations"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(_=>WE(_))),d(e,["functionDeclarations"],T)}const y=u(n,["googleMaps"]);y!=null&&d(e,["googleMaps"],y);const v=u(n,["googleSearch"]);v!=null&&d(e,["googleSearch"],v);const g=u(n,["googleSearchRetrieval"]);g!=null&&d(e,["googleSearchRetrieval"],g);const x=u(n,["urlContext"]);return x!=null&&d(e,["urlContext"],x),e}function gC(n){const e={},o=u(n,["promptTokenCount"]);o!=null&&d(e,["promptTokenCount"],o);const s=u(n,["cachedContentTokenCount"]);s!=null&&d(e,["cachedContentTokenCount"],s);const r=u(n,["candidatesTokenCount"]);r!=null&&d(e,["responseTokenCount"],r);const c=u(n,["toolUsePromptTokenCount"]);c!=null&&d(e,["toolUsePromptTokenCount"],c);const f=u(n,["thoughtsTokenCount"]);f!=null&&d(e,["thoughtsTokenCount"],f);const y=u(n,["totalTokenCount"]);y!=null&&d(e,["totalTokenCount"],y);const v=u(n,["promptTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(C=>C)),d(e,["promptTokensDetails"],E)}const g=u(n,["cacheTokensDetails"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(C=>C)),d(e,["cacheTokensDetails"],E)}const x=u(n,["candidatesTokensDetails"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(C=>C)),d(e,["responseTokensDetails"],E)}const T=u(n,["toolUsePromptTokensDetails"]);if(T!=null){let E=T;Array.isArray(E)&&(E=E.map(C=>C)),d(e,["toolUsePromptTokensDetails"],E)}const _=u(n,["trafficType"]);return _!=null&&d(e,["trafficType"],_),e}function yC(n){const e={},o=u(n,["type"]);return o!=null&&d(e,["voiceActivityType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vC(n){const e={},o=u(n,["data"]);if(o!=null&&d(e,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function xC(n){const e={},o=u(n,["content"]);o!=null&&d(e,["content"],o);const s=u(n,["citationMetadata"]);s!=null&&d(e,["citationMetadata"],SC(s));const r=u(n,["tokenCount"]);r!=null&&d(e,["tokenCount"],r);const c=u(n,["finishReason"]);c!=null&&d(e,["finishReason"],c);const f=u(n,["avgLogprobs"]);f!=null&&d(e,["avgLogprobs"],f);const y=u(n,["groundingMetadata"]);y!=null&&d(e,["groundingMetadata"],y);const v=u(n,["index"]);v!=null&&d(e,["index"],v);const g=u(n,["logprobsResult"]);g!=null&&d(e,["logprobsResult"],g);const x=u(n,["safetyRatings"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(E=>E)),d(e,["safetyRatings"],_)}const T=u(n,["urlContextMetadata"]);return T!=null&&d(e,["urlContextMetadata"],T),e}function SC(n){const e={},o=u(n,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),d(e,["citations"],s)}return e}function _C(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["_url","model"],Le(n,s));const r=u(e,["contents"]);if(r!=null){let c=tn(r);Array.isArray(c)&&(c=c.map(f=>f)),d(o,["contents"],c)}return o}function TC(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["tokensInfo"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(c=>c)),d(e,["tokensInfo"],r)}return e}function bC(n){const e={},o=u(n,["values"]);o!=null&&d(e,["values"],o);const s=u(n,["statistics"]);return s!=null&&d(e,["statistics"],EC(s)),e}function EC(n){const e={},o=u(n,["truncated"]);o!=null&&d(e,["truncated"],o);const s=u(n,["token_count"]);return s!=null&&d(e,["tokenCount"],s),e}function Ra(n){const e={},o=u(n,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>k2(c))),d(e,["parts"],r)}const s=u(n,["role"]);return s!=null&&d(e,["role"],s),e}function CC(n){const e={},o=u(n,["controlType"]);o!=null&&d(e,["controlType"],o);const s=u(n,["enableControlImageComputation"]);return s!=null&&d(e,["computeControl"],s),e}function NC(n){const e={};if(u(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function wC(n,e){const o={},s=u(n,["systemInstruction"]);e!==void 0&&s!=null&&d(e,["systemInstruction"],St(s));const r=u(n,["tools"]);if(e!==void 0&&r!=null){let f=r;Array.isArray(f)&&(f=f.map(y=>J0(y))),d(e,["tools"],f)}const c=u(n,["generationConfig"]);return e!==void 0&&c!=null&&d(e,["generationConfig"],v2(c)),o}function AC(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["_url","model"],Le(n,s));const r=u(e,["contents"]);if(r!=null){let f=tn(r);Array.isArray(f)&&(f=f.map(y=>Ra(y))),d(o,["contents"],f)}const c=u(e,["config"]);return c!=null&&NC(c),o}function RC(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["_url","model"],Le(n,s));const r=u(e,["contents"]);if(r!=null){let f=tn(r);Array.isArray(f)&&(f=f.map(y=>y)),d(o,["contents"],f)}const c=u(e,["config"]);return c!=null&&wC(c,o),o}function MC(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["totalTokens"]);s!=null&&d(e,["totalTokens"],s);const r=u(n,["cachedContentTokenCount"]);return r!=null&&d(e,["cachedContentTokenCount"],r),e}function IC(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["totalTokens"]);return s!=null&&d(e,["totalTokens"],s),e}function DC(n,e){const o={},s=u(e,["model"]);return s!=null&&d(o,["_url","name"],Le(n,s)),o}function kC(n,e){const o={},s=u(e,["model"]);return s!=null&&d(o,["_url","name"],Le(n,s)),o}function UC(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function LC(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function zC(n,e){const o={},s=u(n,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const r=u(n,["negativePrompt"]);e!==void 0&&r!=null&&d(e,["parameters","negativePrompt"],r);const c=u(n,["numberOfImages"]);e!==void 0&&c!=null&&d(e,["parameters","sampleCount"],c);const f=u(n,["aspectRatio"]);e!==void 0&&f!=null&&d(e,["parameters","aspectRatio"],f);const y=u(n,["guidanceScale"]);e!==void 0&&y!=null&&d(e,["parameters","guidanceScale"],y);const v=u(n,["seed"]);e!==void 0&&v!=null&&d(e,["parameters","seed"],v);const g=u(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&d(e,["parameters","safetySetting"],g);const x=u(n,["personGeneration"]);e!==void 0&&x!=null&&d(e,["parameters","personGeneration"],x);const T=u(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const _=u(n,["includeRaiReason"]);e!==void 0&&_!=null&&d(e,["parameters","includeRaiReason"],_);const E=u(n,["language"]);e!==void 0&&E!=null&&d(e,["parameters","language"],E);const C=u(n,["outputMimeType"]);e!==void 0&&C!=null&&d(e,["parameters","outputOptions","mimeType"],C);const k=u(n,["outputCompressionQuality"]);e!==void 0&&k!=null&&d(e,["parameters","outputOptions","compressionQuality"],k);const A=u(n,["addWatermark"]);e!==void 0&&A!=null&&d(e,["parameters","addWatermark"],A);const V=u(n,["labels"]);e!==void 0&&V!=null&&d(e,["labels"],V);const F=u(n,["editMode"]);e!==void 0&&F!=null&&d(e,["parameters","editMode"],F);const G=u(n,["baseSteps"]);return e!==void 0&&G!=null&&d(e,["parameters","editConfig","baseSteps"],G),o}function HC(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["_url","model"],Le(n,s));const r=u(e,["prompt"]);r!=null&&d(o,["instances[0]","prompt"],r);const c=u(e,["referenceImages"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(v=>V2(v))),d(o,["instances[0]","referenceImages"],y)}const f=u(e,["config"]);return f!=null&&zC(f,o),o}function GC(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(c=>Ma(c))),d(e,["generatedImages"],r)}return e}function VC(n,e){const o={},s=u(n,["taskType"]);e!==void 0&&s!=null&&d(e,["requests[]","taskType"],s);const r=u(n,["title"]);e!==void 0&&r!=null&&d(e,["requests[]","title"],r);const c=u(n,["outputDimensionality"]);if(e!==void 0&&c!=null&&d(e,["requests[]","outputDimensionality"],c),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function qC(n,e){const o={},s=u(n,["taskType"]);e!==void 0&&s!=null&&d(e,["instances[]","task_type"],s);const r=u(n,["title"]);e!==void 0&&r!=null&&d(e,["instances[]","title"],r);const c=u(n,["outputDimensionality"]);e!==void 0&&c!=null&&d(e,["parameters","outputDimensionality"],c);const f=u(n,["mimeType"]);e!==void 0&&f!=null&&d(e,["instances[]","mimeType"],f);const y=u(n,["autoTruncate"]);return e!==void 0&&y!=null&&d(e,["parameters","autoTruncate"],y),o}function BC(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["_url","model"],Le(n,s));const r=u(e,["contents"]);if(r!=null){let y=Bc(n,r);Array.isArray(y)&&(y=y.map(v=>v)),d(o,["requests[]","content"],y)}const c=u(e,["config"]);c!=null&&VC(c,o);const f=u(e,["model"]);return f!==void 0&&d(o,["requests[]","model"],Le(n,f)),o}function PC(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["_url","model"],Le(n,s));const r=u(e,["contents"]);if(r!=null){let f=Bc(n,r);Array.isArray(f)&&(f=f.map(y=>y)),d(o,["instances[]","content"],f)}const c=u(e,["config"]);return c!=null&&qC(c,o),o}function OC(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["embeddings"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["embeddings"],c)}const r=u(n,["metadata"]);return r!=null&&d(e,["metadata"],r),e}function FC(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["predictions[]","embeddings"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>bC(f))),d(e,["embeddings"],c)}const r=u(n,["metadata"]);return r!=null&&d(e,["metadata"],r),e}function YC(n){const e={},o=u(n,["endpoint"]);o!=null&&d(e,["name"],o);const s=u(n,["deployedModelId"]);return s!=null&&d(e,["deployedModelId"],s),e}function jC(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function JC(n){const e={},o=u(n,["id"]);o!=null&&d(e,["id"],o);const s=u(n,["args"]);s!=null&&d(e,["args"],s);const r=u(n,["name"]);if(r!=null&&d(e,["name"],r),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $C(n){const e={},o=u(n,["allowedFunctionNames"]);o!=null&&d(e,["allowedFunctionNames"],o);const s=u(n,["mode"]);if(s!=null&&d(e,["mode"],s),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function KC(n){const e={},o=u(n,["description"]);o!=null&&d(e,["description"],o);const s=u(n,["name"]);s!=null&&d(e,["name"],s);const r=u(n,["parameters"]);r!=null&&d(e,["parameters"],r);const c=u(n,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const f=u(n,["response"]);f!=null&&d(e,["response"],f);const y=u(n,["responseJsonSchema"]);if(y!=null&&d(e,["responseJsonSchema"],y),u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function XC(n,e,o){const s={},r=u(e,["systemInstruction"]);o!==void 0&&r!=null&&d(o,["systemInstruction"],Ra(St(r)));const c=u(e,["temperature"]);c!=null&&d(s,["temperature"],c);const f=u(e,["topP"]);f!=null&&d(s,["topP"],f);const y=u(e,["topK"]);y!=null&&d(s,["topK"],y);const v=u(e,["candidateCount"]);v!=null&&d(s,["candidateCount"],v);const g=u(e,["maxOutputTokens"]);g!=null&&d(s,["maxOutputTokens"],g);const x=u(e,["stopSequences"]);x!=null&&d(s,["stopSequences"],x);const T=u(e,["responseLogprobs"]);T!=null&&d(s,["responseLogprobs"],T);const _=u(e,["logprobs"]);_!=null&&d(s,["logprobs"],_);const E=u(e,["presencePenalty"]);E!=null&&d(s,["presencePenalty"],E);const C=u(e,["frequencyPenalty"]);C!=null&&d(s,["frequencyPenalty"],C);const k=u(e,["seed"]);k!=null&&d(s,["seed"],k);const A=u(e,["responseMimeType"]);A!=null&&d(s,["responseMimeType"],A);const V=u(e,["responseSchema"]);V!=null&&d(s,["responseSchema"],Pc(V));const F=u(e,["responseJsonSchema"]);if(F!=null&&d(s,["responseJsonSchema"],F),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const G=u(e,["safetySettings"]);if(o!==void 0&&G!=null){let ve=G;Array.isArray(ve)&&(ve=ve.map(ie=>q2(ie))),d(o,["safetySettings"],ve)}const K=u(e,["tools"]);if(o!==void 0&&K!=null){let ve=ko(K);Array.isArray(ve)&&(ve=ve.map(ie=>J2(Do(ie)))),d(o,["tools"],ve)}const X=u(e,["toolConfig"]);if(o!==void 0&&X!=null&&d(o,["toolConfig"],j2(X)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=u(e,["cachedContent"]);o!==void 0&&ne!=null&&d(o,["cachedContent"],Bn(n,ne));const $=u(e,["responseModalities"]);$!=null&&d(s,["responseModalities"],$);const he=u(e,["mediaResolution"]);he!=null&&d(s,["mediaResolution"],he);const Z=u(e,["speechConfig"]);if(Z!=null&&d(s,["speechConfig"],Oc(Z)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=u(e,["thinkingConfig"]);re!=null&&d(s,["thinkingConfig"],re);const ye=u(e,["imageConfig"]);ye!=null&&d(s,["imageConfig"],b2(ye));const Ee=u(e,["enableEnhancedCivicAnswers"]);if(Ee!=null&&d(s,["enableEnhancedCivicAnswers"],Ee),u(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function QC(n,e,o){const s={},r=u(e,["systemInstruction"]);o!==void 0&&r!=null&&d(o,["systemInstruction"],St(r));const c=u(e,["temperature"]);c!=null&&d(s,["temperature"],c);const f=u(e,["topP"]);f!=null&&d(s,["topP"],f);const y=u(e,["topK"]);y!=null&&d(s,["topK"],y);const v=u(e,["candidateCount"]);v!=null&&d(s,["candidateCount"],v);const g=u(e,["maxOutputTokens"]);g!=null&&d(s,["maxOutputTokens"],g);const x=u(e,["stopSequences"]);x!=null&&d(s,["stopSequences"],x);const T=u(e,["responseLogprobs"]);T!=null&&d(s,["responseLogprobs"],T);const _=u(e,["logprobs"]);_!=null&&d(s,["logprobs"],_);const E=u(e,["presencePenalty"]);E!=null&&d(s,["presencePenalty"],E);const C=u(e,["frequencyPenalty"]);C!=null&&d(s,["frequencyPenalty"],C);const k=u(e,["seed"]);k!=null&&d(s,["seed"],k);const A=u(e,["responseMimeType"]);A!=null&&d(s,["responseMimeType"],A);const V=u(e,["responseSchema"]);V!=null&&d(s,["responseSchema"],Pc(V));const F=u(e,["responseJsonSchema"]);F!=null&&d(s,["responseJsonSchema"],F);const G=u(e,["routingConfig"]);G!=null&&d(s,["routingConfig"],G);const K=u(e,["modelSelectionConfig"]);K!=null&&d(s,["modelConfig"],K);const X=u(e,["safetySettings"]);if(o!==void 0&&X!=null){let P=X;Array.isArray(P)&&(P=P.map(Q=>Q)),d(o,["safetySettings"],P)}const ne=u(e,["tools"]);if(o!==void 0&&ne!=null){let P=ko(ne);Array.isArray(P)&&(P=P.map(Q=>J0(Do(Q)))),d(o,["tools"],P)}const $=u(e,["toolConfig"]);o!==void 0&&$!=null&&d(o,["toolConfig"],$);const he=u(e,["labels"]);o!==void 0&&he!=null&&d(o,["labels"],he);const Z=u(e,["cachedContent"]);o!==void 0&&Z!=null&&d(o,["cachedContent"],Bn(n,Z));const re=u(e,["responseModalities"]);re!=null&&d(s,["responseModalities"],re);const ye=u(e,["mediaResolution"]);ye!=null&&d(s,["mediaResolution"],ye);const Ee=u(e,["speechConfig"]);Ee!=null&&d(s,["speechConfig"],Oc(Ee));const ve=u(e,["audioTimestamp"]);ve!=null&&d(s,["audioTimestamp"],ve);const ie=u(e,["thinkingConfig"]);ie!=null&&d(s,["thinkingConfig"],ie);const Ce=u(e,["imageConfig"]);if(Ce!=null&&d(s,["imageConfig"],E2(Ce)),u(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const w=u(e,["modelArmorConfig"]);return o!==void 0&&w!=null&&d(o,["modelArmorConfig"],w),s}function Ug(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["_url","model"],Le(n,s));const r=u(e,["contents"]);if(r!=null){let f=tn(r);Array.isArray(f)&&(f=f.map(y=>Ra(y))),d(o,["contents"],f)}const c=u(e,["config"]);return c!=null&&d(o,["generationConfig"],XC(n,c,o)),o}function Lg(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["_url","model"],Le(n,s));const r=u(e,["contents"]);if(r!=null){let f=tn(r);Array.isArray(f)&&(f=f.map(y=>y)),d(o,["contents"],f)}const c=u(e,["config"]);return c!=null&&d(o,["generationConfig"],QC(n,c,o)),o}function zg(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(g=>xC(g))),d(e,["candidates"],v)}const r=u(n,["modelVersion"]);r!=null&&d(e,["modelVersion"],r);const c=u(n,["promptFeedback"]);c!=null&&d(e,["promptFeedback"],c);const f=u(n,["responseId"]);f!=null&&d(e,["responseId"],f);const y=u(n,["usageMetadata"]);return y!=null&&d(e,["usageMetadata"],y),e}function Hg(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(x=>x)),d(e,["candidates"],g)}const r=u(n,["createTime"]);r!=null&&d(e,["createTime"],r);const c=u(n,["modelVersion"]);c!=null&&d(e,["modelVersion"],c);const f=u(n,["promptFeedback"]);f!=null&&d(e,["promptFeedback"],f);const y=u(n,["responseId"]);y!=null&&d(e,["responseId"],y);const v=u(n,["usageMetadata"]);return v!=null&&d(e,["usageMetadata"],v),e}function ZC(n,e){const o={};if(u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=u(n,["numberOfImages"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const r=u(n,["aspectRatio"]);e!==void 0&&r!=null&&d(e,["parameters","aspectRatio"],r);const c=u(n,["guidanceScale"]);if(e!==void 0&&c!=null&&d(e,["parameters","guidanceScale"],c),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&d(e,["parameters","safetySetting"],f);const y=u(n,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const v=u(n,["includeSafetyAttributes"]);e!==void 0&&v!=null&&d(e,["parameters","includeSafetyAttributes"],v);const g=u(n,["includeRaiReason"]);e!==void 0&&g!=null&&d(e,["parameters","includeRaiReason"],g);const x=u(n,["language"]);e!==void 0&&x!=null&&d(e,["parameters","language"],x);const T=u(n,["outputMimeType"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","mimeType"],T);const _=u(n,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&d(e,["parameters","outputOptions","compressionQuality"],_),u(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=u(n,["imageSize"]);if(e!==void 0&&E!=null&&d(e,["parameters","sampleImageSize"],E),u(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function WC(n,e){const o={},s=u(n,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const r=u(n,["negativePrompt"]);e!==void 0&&r!=null&&d(e,["parameters","negativePrompt"],r);const c=u(n,["numberOfImages"]);e!==void 0&&c!=null&&d(e,["parameters","sampleCount"],c);const f=u(n,["aspectRatio"]);e!==void 0&&f!=null&&d(e,["parameters","aspectRatio"],f);const y=u(n,["guidanceScale"]);e!==void 0&&y!=null&&d(e,["parameters","guidanceScale"],y);const v=u(n,["seed"]);e!==void 0&&v!=null&&d(e,["parameters","seed"],v);const g=u(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&d(e,["parameters","safetySetting"],g);const x=u(n,["personGeneration"]);e!==void 0&&x!=null&&d(e,["parameters","personGeneration"],x);const T=u(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const _=u(n,["includeRaiReason"]);e!==void 0&&_!=null&&d(e,["parameters","includeRaiReason"],_);const E=u(n,["language"]);e!==void 0&&E!=null&&d(e,["parameters","language"],E);const C=u(n,["outputMimeType"]);e!==void 0&&C!=null&&d(e,["parameters","outputOptions","mimeType"],C);const k=u(n,["outputCompressionQuality"]);e!==void 0&&k!=null&&d(e,["parameters","outputOptions","compressionQuality"],k);const A=u(n,["addWatermark"]);e!==void 0&&A!=null&&d(e,["parameters","addWatermark"],A);const V=u(n,["labels"]);e!==void 0&&V!=null&&d(e,["labels"],V);const F=u(n,["imageSize"]);e!==void 0&&F!=null&&d(e,["parameters","sampleImageSize"],F);const G=u(n,["enhancePrompt"]);return e!==void 0&&G!=null&&d(e,["parameters","enhancePrompt"],G),o}function e2(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["_url","model"],Le(n,s));const r=u(e,["prompt"]);r!=null&&d(o,["instances[0]","prompt"],r);const c=u(e,["config"]);return c!=null&&ZC(c,o),o}function t2(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["_url","model"],Le(n,s));const r=u(e,["prompt"]);r!=null&&d(o,["instances[0]","prompt"],r);const c=u(e,["config"]);return c!=null&&WC(c,o),o}function n2(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["predictions"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>p2(f))),d(e,["generatedImages"],c)}const r=u(n,["positivePromptSafetyAttributes"]);return r!=null&&d(e,["positivePromptSafetyAttributes"],Y0(r)),e}function i2(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["predictions"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>Ma(f))),d(e,["generatedImages"],c)}const r=u(n,["positivePromptSafetyAttributes"]);return r!=null&&d(e,["positivePromptSafetyAttributes"],j0(r)),e}function o2(n,e){const o={},s=u(n,["numberOfVideos"]);if(e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s),u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(n,["durationSeconds"]);if(e!==void 0&&r!=null&&d(e,["parameters","durationSeconds"],r),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(n,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const f=u(n,["resolution"]);e!==void 0&&f!=null&&d(e,["parameters","resolution"],f);const y=u(n,["personGeneration"]);if(e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y),u(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=u(n,["negativePrompt"]);e!==void 0&&v!=null&&d(e,["parameters","negativePrompt"],v);const g=u(n,["enhancePrompt"]);if(e!==void 0&&g!=null&&d(e,["parameters","enhancePrompt"],g),u(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=u(n,["lastFrame"]);e!==void 0&&x!=null&&d(e,["instances[0]","lastFrame"],Ia(x));const T=u(n,["referenceImages"]);if(e!==void 0&&T!=null){let _=T;Array.isArray(_)&&(_=_.map(E=>lN(E))),d(e,["instances[0]","referenceImages"],_)}if(u(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function s2(n,e){const o={},s=u(n,["numberOfVideos"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const r=u(n,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const c=u(n,["fps"]);e!==void 0&&c!=null&&d(e,["parameters","fps"],c);const f=u(n,["durationSeconds"]);e!==void 0&&f!=null&&d(e,["parameters","durationSeconds"],f);const y=u(n,["seed"]);e!==void 0&&y!=null&&d(e,["parameters","seed"],y);const v=u(n,["aspectRatio"]);e!==void 0&&v!=null&&d(e,["parameters","aspectRatio"],v);const g=u(n,["resolution"]);e!==void 0&&g!=null&&d(e,["parameters","resolution"],g);const x=u(n,["personGeneration"]);e!==void 0&&x!=null&&d(e,["parameters","personGeneration"],x);const T=u(n,["pubsubTopic"]);e!==void 0&&T!=null&&d(e,["parameters","pubsubTopic"],T);const _=u(n,["negativePrompt"]);e!==void 0&&_!=null&&d(e,["parameters","negativePrompt"],_);const E=u(n,["enhancePrompt"]);e!==void 0&&E!=null&&d(e,["parameters","enhancePrompt"],E);const C=u(n,["generateAudio"]);e!==void 0&&C!=null&&d(e,["parameters","generateAudio"],C);const k=u(n,["lastFrame"]);e!==void 0&&k!=null&&d(e,["instances[0]","lastFrame"],dn(k));const A=u(n,["referenceImages"]);if(e!==void 0&&A!=null){let G=A;Array.isArray(G)&&(G=G.map(K=>aN(K))),d(e,["instances[0]","referenceImages"],G)}const V=u(n,["mask"]);e!==void 0&&V!=null&&d(e,["instances[0]","mask"],sN(V));const F=u(n,["compressionQuality"]);return e!==void 0&&F!=null&&d(e,["parameters","compressionQuality"],F),o}function l2(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const s=u(n,["metadata"]);s!=null&&d(e,["metadata"],s);const r=u(n,["done"]);r!=null&&d(e,["done"],r);const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["response","generateVideoResponse"]);return f!=null&&d(e,["response"],c2(f)),e}function a2(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const s=u(n,["metadata"]);s!=null&&d(e,["metadata"],s);const r=u(n,["done"]);r!=null&&d(e,["done"],r);const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["response"]);return f!=null&&d(e,["response"],d2(f)),e}function r2(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["_url","model"],Le(n,s));const r=u(e,["prompt"]);r!=null&&d(o,["instances[0]","prompt"],r);const c=u(e,["image"]);c!=null&&d(o,["instances[0]","image"],Ia(c));const f=u(e,["video"]);f!=null&&d(o,["instances[0]","video"],$0(f));const y=u(e,["source"]);y!=null&&f2(y,o);const v=u(e,["config"]);return v!=null&&o2(v,o),o}function u2(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["_url","model"],Le(n,s));const r=u(e,["prompt"]);r!=null&&d(o,["instances[0]","prompt"],r);const c=u(e,["image"]);c!=null&&d(o,["instances[0]","image"],dn(c));const f=u(e,["video"]);f!=null&&d(o,["instances[0]","video"],K0(f));const y=u(e,["source"]);y!=null&&h2(y,o);const v=u(e,["config"]);return v!=null&&s2(v,o),o}function c2(n){const e={},o=u(n,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>g2(f))),d(e,["generatedVideos"],c)}const s=u(n,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const r=u(n,["raiMediaFilteredReasons"]);return r!=null&&d(e,["raiMediaFilteredReasons"],r),e}function d2(n){const e={},o=u(n,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>y2(f))),d(e,["generatedVideos"],c)}const s=u(n,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const r=u(n,["raiMediaFilteredReasons"]);return r!=null&&d(e,["raiMediaFilteredReasons"],r),e}function f2(n,e){const o={},s=u(n,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const r=u(n,["image"]);e!==void 0&&r!=null&&d(e,["instances[0]","image"],Ia(r));const c=u(n,["video"]);return e!==void 0&&c!=null&&d(e,["instances[0]","video"],$0(c)),o}function h2(n,e){const o={},s=u(n,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const r=u(n,["image"]);e!==void 0&&r!=null&&d(e,["instances[0]","image"],dn(r));const c=u(n,["video"]);return e!==void 0&&c!=null&&d(e,["instances[0]","video"],K0(c)),o}function p2(n){const e={},o=u(n,["_self"]);o!=null&&d(e,["image"],C2(o));const s=u(n,["raiFilteredReason"]);s!=null&&d(e,["raiFilteredReason"],s);const r=u(n,["_self"]);return r!=null&&d(e,["safetyAttributes"],Y0(r)),e}function Ma(n){const e={},o=u(n,["_self"]);o!=null&&d(e,["image"],F0(o));const s=u(n,["raiFilteredReason"]);s!=null&&d(e,["raiFilteredReason"],s);const r=u(n,["_self"]);r!=null&&d(e,["safetyAttributes"],j0(r));const c=u(n,["prompt"]);return c!=null&&d(e,["enhancedPrompt"],c),e}function m2(n){const e={},o=u(n,["_self"]);o!=null&&d(e,["mask"],F0(o));const s=u(n,["labels"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(c=>c)),d(e,["labels"],r)}return e}function g2(n){const e={},o=u(n,["video"]);return o!=null&&d(e,["video"],iN(o)),e}function y2(n){const e={},o=u(n,["_self"]);return o!=null&&d(e,["video"],oN(o)),e}function v2(n){const e={},o=u(n,["modelSelectionConfig"]);o!=null&&d(e,["modelConfig"],o);const s=u(n,["responseJsonSchema"]);s!=null&&d(e,["responseJsonSchema"],s);const r=u(n,["audioTimestamp"]);r!=null&&d(e,["audioTimestamp"],r);const c=u(n,["candidateCount"]);c!=null&&d(e,["candidateCount"],c);const f=u(n,["enableAffectiveDialog"]);f!=null&&d(e,["enableAffectiveDialog"],f);const y=u(n,["frequencyPenalty"]);y!=null&&d(e,["frequencyPenalty"],y);const v=u(n,["logprobs"]);v!=null&&d(e,["logprobs"],v);const g=u(n,["maxOutputTokens"]);g!=null&&d(e,["maxOutputTokens"],g);const x=u(n,["mediaResolution"]);x!=null&&d(e,["mediaResolution"],x);const T=u(n,["presencePenalty"]);T!=null&&d(e,["presencePenalty"],T);const _=u(n,["responseLogprobs"]);_!=null&&d(e,["responseLogprobs"],_);const E=u(n,["responseMimeType"]);E!=null&&d(e,["responseMimeType"],E);const C=u(n,["responseModalities"]);C!=null&&d(e,["responseModalities"],C);const k=u(n,["responseSchema"]);k!=null&&d(e,["responseSchema"],k);const A=u(n,["routingConfig"]);A!=null&&d(e,["routingConfig"],A);const V=u(n,["seed"]);V!=null&&d(e,["seed"],V);const F=u(n,["speechConfig"]);F!=null&&d(e,["speechConfig"],F);const G=u(n,["stopSequences"]);G!=null&&d(e,["stopSequences"],G);const K=u(n,["temperature"]);K!=null&&d(e,["temperature"],K);const X=u(n,["thinkingConfig"]);X!=null&&d(e,["thinkingConfig"],X);const ne=u(n,["topK"]);ne!=null&&d(e,["topK"],ne);const $=u(n,["topP"]);if($!=null&&d(e,["topP"],$),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function x2(n,e){const o={},s=u(e,["model"]);return s!=null&&d(o,["_url","name"],Le(n,s)),o}function S2(n,e){const o={},s=u(e,["model"]);return s!=null&&d(o,["_url","name"],Le(n,s)),o}function _2(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function T2(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function b2(n){const e={},o=u(n,["aspectRatio"]);o!=null&&d(e,["aspectRatio"],o);const s=u(n,["imageSize"]);if(s!=null&&d(e,["imageSize"],s),u(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function E2(n){const e={},o=u(n,["aspectRatio"]);o!=null&&d(e,["aspectRatio"],o);const s=u(n,["imageSize"]);s!=null&&d(e,["imageSize"],s);const r=u(n,["personGeneration"]);r!=null&&d(e,["personGeneration"],r);const c=u(n,["outputMimeType"]);c!=null&&d(e,["imageOutputOptions","mimeType"],c);const f=u(n,["outputCompressionQuality"]);return f!=null&&d(e,["imageOutputOptions","compressionQuality"],f),e}function C2(n){const e={},o=u(n,["bytesBase64Encoded"]);o!=null&&d(e,["imageBytes"],yi(o));const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function F0(n){const e={},o=u(n,["gcsUri"]);o!=null&&d(e,["gcsUri"],o);const s=u(n,["bytesBase64Encoded"]);s!=null&&d(e,["imageBytes"],yi(s));const r=u(n,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function Ia(n){const e={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(n,["imageBytes"]);o!=null&&d(e,["bytesBase64Encoded"],yi(o));const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function dn(n){const e={},o=u(n,["gcsUri"]);o!=null&&d(e,["gcsUri"],o);const s=u(n,["imageBytes"]);s!=null&&d(e,["bytesBase64Encoded"],yi(s));const r=u(n,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function N2(n,e,o){const s={},r=u(e,["pageSize"]);o!==void 0&&r!=null&&d(o,["_query","pageSize"],r);const c=u(e,["pageToken"]);o!==void 0&&c!=null&&d(o,["_query","pageToken"],c);const f=u(e,["filter"]);o!==void 0&&f!=null&&d(o,["_query","filter"],f);const y=u(e,["queryBase"]);return o!==void 0&&y!=null&&d(o,["_url","models_url"],H0(n,y)),s}function w2(n,e,o){const s={},r=u(e,["pageSize"]);o!==void 0&&r!=null&&d(o,["_query","pageSize"],r);const c=u(e,["pageToken"]);o!==void 0&&c!=null&&d(o,["_query","pageToken"],c);const f=u(e,["filter"]);o!==void 0&&f!=null&&d(o,["_query","filter"],f);const y=u(e,["queryBase"]);return o!==void 0&&y!=null&&d(o,["_url","models_url"],H0(n,y)),s}function A2(n,e){const o={},s=u(e,["config"]);return s!=null&&N2(n,s,o),o}function R2(n,e){const o={},s=u(e,["config"]);return s!=null&&w2(n,s,o),o}function M2(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=u(n,["_self"]);if(r!=null){let c=G0(r);Array.isArray(c)&&(c=c.map(f=>Sc(f))),d(e,["models"],c)}return e}function I2(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=u(n,["_self"]);if(r!=null){let c=G0(r);Array.isArray(c)&&(c=c.map(f=>_c(f))),d(e,["models"],c)}return e}function D2(n){const e={},o=u(n,["maskMode"]);o!=null&&d(e,["maskMode"],o);const s=u(n,["segmentationClasses"]);s!=null&&d(e,["maskClasses"],s);const r=u(n,["maskDilation"]);return r!=null&&d(e,["dilation"],r),e}function Sc(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const s=u(n,["displayName"]);s!=null&&d(e,["displayName"],s);const r=u(n,["description"]);r!=null&&d(e,["description"],r);const c=u(n,["version"]);c!=null&&d(e,["version"],c);const f=u(n,["_self"]);f!=null&&d(e,["tunedModelInfo"],$2(f));const y=u(n,["inputTokenLimit"]);y!=null&&d(e,["inputTokenLimit"],y);const v=u(n,["outputTokenLimit"]);v!=null&&d(e,["outputTokenLimit"],v);const g=u(n,["supportedGenerationMethods"]);g!=null&&d(e,["supportedActions"],g);const x=u(n,["temperature"]);x!=null&&d(e,["temperature"],x);const T=u(n,["maxTemperature"]);T!=null&&d(e,["maxTemperature"],T);const _=u(n,["topP"]);_!=null&&d(e,["topP"],_);const E=u(n,["topK"]);E!=null&&d(e,["topK"],E);const C=u(n,["thinking"]);return C!=null&&d(e,["thinking"],C),e}function _c(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const s=u(n,["displayName"]);s!=null&&d(e,["displayName"],s);const r=u(n,["description"]);r!=null&&d(e,["description"],r);const c=u(n,["versionId"]);c!=null&&d(e,["version"],c);const f=u(n,["deployedModels"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(_=>YC(_))),d(e,["endpoints"],T)}const y=u(n,["labels"]);y!=null&&d(e,["labels"],y);const v=u(n,["_self"]);v!=null&&d(e,["tunedModelInfo"],K2(v));const g=u(n,["defaultCheckpointId"]);g!=null&&d(e,["defaultCheckpointId"],g);const x=u(n,["checkpoints"]);if(x!=null){let T=x;Array.isArray(T)&&(T=T.map(_=>_)),d(e,["checkpoints"],T)}return e}function k2(n){const e={},o=u(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const s=u(n,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const r=u(n,["executableCode"]);r!=null&&d(e,["executableCode"],r);const c=u(n,["fileData"]);c!=null&&d(e,["fileData"],jC(c));const f=u(n,["functionCall"]);f!=null&&d(e,["functionCall"],JC(f));const y=u(n,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const v=u(n,["inlineData"]);v!=null&&d(e,["inlineData"],vC(v));const g=u(n,["text"]);g!=null&&d(e,["text"],g);const x=u(n,["thought"]);x!=null&&d(e,["thought"],x);const T=u(n,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const _=u(n,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function U2(n){const e={},o=u(n,["productImage"]);return o!=null&&d(e,["image"],dn(o)),e}function L2(n,e){const o={},s=u(n,["numberOfImages"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const r=u(n,["baseSteps"]);e!==void 0&&r!=null&&d(e,["parameters","baseSteps"],r);const c=u(n,["outputGcsUri"]);e!==void 0&&c!=null&&d(e,["parameters","storageUri"],c);const f=u(n,["seed"]);e!==void 0&&f!=null&&d(e,["parameters","seed"],f);const y=u(n,["safetyFilterLevel"]);e!==void 0&&y!=null&&d(e,["parameters","safetySetting"],y);const v=u(n,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const g=u(n,["addWatermark"]);e!==void 0&&g!=null&&d(e,["parameters","addWatermark"],g);const x=u(n,["outputMimeType"]);e!==void 0&&x!=null&&d(e,["parameters","outputOptions","mimeType"],x);const T=u(n,["outputCompressionQuality"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","compressionQuality"],T);const _=u(n,["enhancePrompt"]);e!==void 0&&_!=null&&d(e,["parameters","enhancePrompt"],_);const E=u(n,["labels"]);return e!==void 0&&E!=null&&d(e,["labels"],E),o}function z2(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["_url","model"],Le(n,s));const r=u(e,["source"]);r!=null&&G2(r,o);const c=u(e,["config"]);return c!=null&&L2(c,o),o}function H2(n){const e={},o=u(n,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>Ma(r))),d(e,["generatedImages"],s)}return e}function G2(n,e){const o={},s=u(n,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const r=u(n,["personImage"]);e!==void 0&&r!=null&&d(e,["instances[0]","personImage","image"],dn(r));const c=u(n,["productImages"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(y=>U2(y))),d(e,["instances[0]","productImages"],f)}return o}function V2(n){const e={},o=u(n,["referenceImage"]);o!=null&&d(e,["referenceImage"],dn(o));const s=u(n,["referenceId"]);s!=null&&d(e,["referenceId"],s);const r=u(n,["referenceType"]);r!=null&&d(e,["referenceType"],r);const c=u(n,["maskImageConfig"]);c!=null&&d(e,["maskImageConfig"],D2(c));const f=u(n,["controlImageConfig"]);f!=null&&d(e,["controlImageConfig"],CC(f));const y=u(n,["styleImageConfig"]);y!=null&&d(e,["styleImageConfig"],y);const v=u(n,["subjectImageConfig"]);return v!=null&&d(e,["subjectImageConfig"],v),e}function Y0(n){const e={},o=u(n,["safetyAttributes","categories"]);o!=null&&d(e,["categories"],o);const s=u(n,["safetyAttributes","scores"]);s!=null&&d(e,["scores"],s);const r=u(n,["contentType"]);return r!=null&&d(e,["contentType"],r),e}function j0(n){const e={},o=u(n,["safetyAttributes","categories"]);o!=null&&d(e,["categories"],o);const s=u(n,["safetyAttributes","scores"]);s!=null&&d(e,["scores"],s);const r=u(n,["contentType"]);return r!=null&&d(e,["contentType"],r),e}function q2(n){const e={},o=u(n,["category"]);if(o!=null&&d(e,["category"],o),u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(n,["threshold"]);return s!=null&&d(e,["threshold"],s),e}function B2(n){const e={},o=u(n,["image"]);return o!=null&&d(e,["image"],dn(o)),e}function P2(n,e){const o={},s=u(n,["mode"]);e!==void 0&&s!=null&&d(e,["parameters","mode"],s);const r=u(n,["maxPredictions"]);e!==void 0&&r!=null&&d(e,["parameters","maxPredictions"],r);const c=u(n,["confidenceThreshold"]);e!==void 0&&c!=null&&d(e,["parameters","confidenceThreshold"],c);const f=u(n,["maskDilation"]);e!==void 0&&f!=null&&d(e,["parameters","maskDilation"],f);const y=u(n,["binaryColorThreshold"]);e!==void 0&&y!=null&&d(e,["parameters","binaryColorThreshold"],y);const v=u(n,["labels"]);return e!==void 0&&v!=null&&d(e,["labels"],v),o}function O2(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["_url","model"],Le(n,s));const r=u(e,["source"]);r!=null&&Y2(r,o);const c=u(e,["config"]);return c!=null&&P2(c,o),o}function F2(n){const e={},o=u(n,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>m2(r))),d(e,["generatedMasks"],s)}return e}function Y2(n,e){const o={},s=u(n,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const r=u(n,["image"]);e!==void 0&&r!=null&&d(e,["instances[0]","image"],dn(r));const c=u(n,["scribbleImage"]);return e!==void 0&&c!=null&&d(e,["instances[0]","scribble"],B2(c)),o}function j2(n){const e={},o=u(n,["retrievalConfig"]);o!=null&&d(e,["retrievalConfig"],o);const s=u(n,["functionCallingConfig"]);return s!=null&&d(e,["functionCallingConfig"],$C(s)),e}function J2(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&d(e,["computerUse"],o);const s=u(n,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const r=u(n,["codeExecution"]);if(r!=null&&d(e,["codeExecution"],r),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(T=>T)),d(e,["functionDeclarations"],x)}const f=u(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],_2(f));const y=u(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],T2(y));const v=u(n,["googleSearchRetrieval"]);v!=null&&d(e,["googleSearchRetrieval"],v);const g=u(n,["urlContext"]);return g!=null&&d(e,["urlContext"],g),e}function J0(n){const e={},o=u(n,["retrieval"]);o!=null&&d(e,["retrieval"],o);const s=u(n,["computerUse"]);if(s!=null&&d(e,["computerUse"],s),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(n,["codeExecution"]);r!=null&&d(e,["codeExecution"],r);const c=u(n,["enterpriseWebSearch"]);c!=null&&d(e,["enterpriseWebSearch"],c);const f=u(n,["functionDeclarations"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(_=>KC(_))),d(e,["functionDeclarations"],T)}const y=u(n,["googleMaps"]);y!=null&&d(e,["googleMaps"],y);const v=u(n,["googleSearch"]);v!=null&&d(e,["googleSearch"],v);const g=u(n,["googleSearchRetrieval"]);g!=null&&d(e,["googleSearchRetrieval"],g);const x=u(n,["urlContext"]);return x!=null&&d(e,["urlContext"],x),e}function $2(n){const e={},o=u(n,["baseModel"]);o!=null&&d(e,["baseModel"],o);const s=u(n,["createTime"]);s!=null&&d(e,["createTime"],s);const r=u(n,["updateTime"]);return r!=null&&d(e,["updateTime"],r),e}function K2(n){const e={},o=u(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&d(e,["baseModel"],o);const s=u(n,["createTime"]);s!=null&&d(e,["createTime"],s);const r=u(n,["updateTime"]);return r!=null&&d(e,["updateTime"],r),e}function X2(n,e){const o={},s=u(n,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const r=u(n,["description"]);e!==void 0&&r!=null&&d(e,["description"],r);const c=u(n,["defaultCheckpointId"]);return e!==void 0&&c!=null&&d(e,["defaultCheckpointId"],c),o}function Q2(n,e){const o={},s=u(n,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const r=u(n,["description"]);e!==void 0&&r!=null&&d(e,["description"],r);const c=u(n,["defaultCheckpointId"]);return e!==void 0&&c!=null&&d(e,["defaultCheckpointId"],c),o}function Z2(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["_url","name"],Le(n,s));const r=u(e,["config"]);return r!=null&&X2(r,o),o}function W2(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["_url","model"],Le(n,s));const r=u(e,["config"]);return r!=null&&Q2(r,o),o}function eN(n,e){const o={},s=u(n,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const r=u(n,["safetyFilterLevel"]);e!==void 0&&r!=null&&d(e,["parameters","safetySetting"],r);const c=u(n,["personGeneration"]);e!==void 0&&c!=null&&d(e,["parameters","personGeneration"],c);const f=u(n,["includeRaiReason"]);e!==void 0&&f!=null&&d(e,["parameters","includeRaiReason"],f);const y=u(n,["outputMimeType"]);e!==void 0&&y!=null&&d(e,["parameters","outputOptions","mimeType"],y);const v=u(n,["outputCompressionQuality"]);e!==void 0&&v!=null&&d(e,["parameters","outputOptions","compressionQuality"],v);const g=u(n,["enhanceInputImage"]);e!==void 0&&g!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],g);const x=u(n,["imagePreservationFactor"]);e!==void 0&&x!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],x);const T=u(n,["labels"]);e!==void 0&&T!=null&&d(e,["labels"],T);const _=u(n,["numberOfImages"]);e!==void 0&&_!=null&&d(e,["parameters","sampleCount"],_);const E=u(n,["mode"]);return e!==void 0&&E!=null&&d(e,["parameters","mode"],E),o}function tN(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["_url","model"],Le(n,s));const r=u(e,["image"]);r!=null&&d(o,["instances[0]","image"],dn(r));const c=u(e,["upscaleFactor"]);c!=null&&d(o,["parameters","upscaleConfig","upscaleFactor"],c);const f=u(e,["config"]);return f!=null&&eN(f,o),o}function nN(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(c=>Ma(c))),d(e,["generatedImages"],r)}return e}function iN(n){const e={},o=u(n,["uri"]);o!=null&&d(e,["uri"],o);const s=u(n,["encodedVideo"]);s!=null&&d(e,["videoBytes"],yi(s));const r=u(n,["encoding"]);return r!=null&&d(e,["mimeType"],r),e}function oN(n){const e={},o=u(n,["gcsUri"]);o!=null&&d(e,["uri"],o);const s=u(n,["bytesBase64Encoded"]);s!=null&&d(e,["videoBytes"],yi(s));const r=u(n,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function sN(n){const e={},o=u(n,["image"]);o!=null&&d(e,["_self"],dn(o));const s=u(n,["maskMode"]);return s!=null&&d(e,["maskMode"],s),e}function lN(n){const e={},o=u(n,["image"]);o!=null&&d(e,["image"],Ia(o));const s=u(n,["referenceType"]);return s!=null&&d(e,["referenceType"],s),e}function aN(n){const e={},o=u(n,["image"]);o!=null&&d(e,["image"],dn(o));const s=u(n,["referenceType"]);return s!=null&&d(e,["referenceType"],s),e}function $0(n){const e={},o=u(n,["uri"]);o!=null&&d(e,["uri"],o);const s=u(n,["videoBytes"]);s!=null&&d(e,["encodedVideo"],yi(s));const r=u(n,["mimeType"]);return r!=null&&d(e,["encoding"],r),e}function K0(n){const e={},o=u(n,["uri"]);o!=null&&d(e,["gcsUri"],o);const s=u(n,["videoBytes"]);s!=null&&d(e,["bytesBase64Encoded"],yi(s));const r=u(n,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rN(n,e){const o={},s=u(n,["displayName"]);return e!==void 0&&s!=null&&d(e,["displayName"],s),o}function uN(n){const e={},o=u(n,["config"]);return o!=null&&rN(o,e),e}function cN(n,e){const o={},s=u(n,["force"]);return e!==void 0&&s!=null&&d(e,["_query","force"],s),o}function dN(n){const e={},o=u(n,["name"]);o!=null&&d(e,["_url","name"],o);const s=u(n,["config"]);return s!=null&&cN(s,e),e}function fN(n){const e={},o=u(n,["name"]);return o!=null&&d(e,["_url","name"],o),e}function hN(n,e){const o={},s=u(n,["customMetadata"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["customMetadata"],c)}const r=u(n,["chunkingConfig"]);return e!==void 0&&r!=null&&d(e,["chunkingConfig"],r),o}function pN(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const s=u(n,["metadata"]);s!=null&&d(e,["metadata"],s);const r=u(n,["done"]);r!=null&&d(e,["done"],r);const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["response"]);return f!=null&&d(e,["response"],gN(f)),e}function mN(n){const e={},o=u(n,["fileSearchStoreName"]);o!=null&&d(e,["_url","file_search_store_name"],o);const s=u(n,["fileName"]);s!=null&&d(e,["fileName"],s);const r=u(n,["config"]);return r!=null&&hN(r,e),e}function gN(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["parent"]);s!=null&&d(e,["parent"],s);const r=u(n,["documentName"]);return r!=null&&d(e,["documentName"],r),e}function yN(n,e){const o={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const r=u(n,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),o}function vN(n){const e={},o=u(n,["config"]);return o!=null&&yN(o,e),e}function xN(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=u(n,["fileSearchStores"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["fileSearchStores"],c)}return e}function X0(n,e){const o={},s=u(n,["mimeType"]);e!==void 0&&s!=null&&d(e,["mimeType"],s);const r=u(n,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const c=u(n,["customMetadata"]);if(e!==void 0&&c!=null){let y=c;Array.isArray(y)&&(y=y.map(v=>v)),d(e,["customMetadata"],y)}const f=u(n,["chunkingConfig"]);return e!==void 0&&f!=null&&d(e,["chunkingConfig"],f),o}function SN(n){const e={},o=u(n,["fileSearchStoreName"]);o!=null&&d(e,["_url","file_search_store_name"],o);const s=u(n,["config"]);return s!=null&&X0(s,e),e}function _N(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TN="Content-Type",bN="X-Server-Timeout",EN="User-Agent",Tc="x-goog-api-client",CN="1.38.0",NN=`google-genai-sdk/${CN}`,wN="v1beta1",AN="v1beta";class RN{constructor(e){var o,s,r;this.clientOptions=Object.assign({},e),this.customBaseUrl=(o=e.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const c={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const y=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!y?(c.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?c.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(c.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),c.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:wN}else{if(!this.clientOptions.apiKey)throw new zs({message:"API key must be set when using the Gemini API.",status:403});c.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:AN,c.baseUrl="https://generativelanguage.googleapis.com/"}c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,s){const r=[this.getRequestUrlInternal(o)];return s&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e,o){return!(o.baseUrl&&o.baseUrlResourceScope===gc.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e,o),r=this.constructUrl(e.path,o,s);if(e.queryParams)for(const[f,y]of Object.entries(e.queryParams))r.searchParams.append(f,String(y));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,o,r.toString(),e.abortSignal),this.unaryApiCall(r,c,e.httpMethod)}patchHttpOptions(e,o){const s=JSON.parse(JSON.stringify(e));for(const[r,c]of Object.entries(o))typeof c=="object"?s[r]=Object.assign(Object.assign({},s[r]),c):c!==void 0&&(s[r]=c);return s}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e,o),r=this.constructUrl(e.path,o,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,o,r.toString(),e.abortSignal),this.streamApiCall(r,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,s,r){if(o&&o.timeout||r){const c=new AbortController,f=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const y=setTimeout(()=>c.abort(),o.timeout);y&&typeof y.unref=="function"&&y.unref()}r&&r.addEventListener("abort",()=>{c.abort()}),e.signal=f}return o&&o.extraBody!==null&&MN(e,o.extraBody),e.headers=await this.getHeadersInternal(o,s),e}async unaryApiCall(e,o,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await Gg(r),new yc(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,o,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await Gg(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return un(this,arguments,function*(){var s;const r=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),c=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let f="";const y="data:",v=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:g,value:x}=yield xe(r.read());if(g){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=c.decode(x,{stream:!0});try{const C=JSON.parse(T);if("error"in C){const k=JSON.parse(JSON.stringify(C.error)),A=k.status,V=k.code,F=`got status: ${A}. ${JSON.stringify(C)}`;if(V>=400&&V<600)throw new zs({message:F,status:V})}}catch(C){if(C.name==="ApiError")throw C}f+=T;let _=-1,E=0;for(;;){_=-1,E=0;for(const A of v){const V=f.indexOf(A);V!==-1&&(_===-1||V<_)&&(_=V,E=A.length)}if(_===-1)break;const C=f.substring(0,_);f=f.substring(_+E);const k=C.trim();if(k.startsWith(y)){const A=k.substring(y.length).trim();try{const V=new Response(A,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield xe(new yc(V))}catch(V){throw new Error(`exception parsing stream chunk ${A}. ${V}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},o=NN+" "+this.clientOptions.userAgentExtra;return e[EN]=o,e[Tc]=o,e[TN]="application/json",e}async getHeadersInternal(e,o){const s=new Headers;if(e&&e.headers){for(const[r,c]of Object.entries(e.headers))s.append(r,c);e.timeout&&e.timeout>0&&s.append(bN,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(e){var o;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(e,o){var s;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const c=this.clientOptions.uploader,f=await c.stat(e);r.sizeBytes=String(f.size);const y=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:f.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=y;const v={file:r},g=this.getFileName(e),x=oe("upload/v1beta/files",v._url),T=await this.fetchUploadUrl(x,r.sizeBytes,r.mimeType,g,v,o==null?void 0:o.httpOptions);return c.upload(e,T,this)}async uploadFileToFileSearchStore(e,o,s){var r;const c=this.clientOptions.uploader,f=await c.stat(o),y=String(f.size),v=(r=s==null?void 0:s.mimeType)!==null&&r!==void 0?r:f.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${e}:uploadToFileSearchStore`,x=this.getFileName(o),T={};s!=null&&X0(s,T);const _=await this.fetchUploadUrl(g,y,v,x,T,s==null?void 0:s.httpOptions);return c.uploadToFileSearchStore(o,_,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o,s,r,c,f){var y;let v={};f?v=f:v={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const g=await this.request({path:e,body:JSON.stringify(c),httpMethod:"POST",httpOptions:v});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(y=g==null?void 0:g.headers)===null||y===void 0?void 0:y["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function Gg(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let s;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await n.json():s={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(s);throw o>=400&&o<600?new zs({message:r,status:o}):new Error(r)}}function MN(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const c=JSON.parse(n.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))o=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(c,f){const y=Object.assign({},c);for(const v in f)if(Object.prototype.hasOwnProperty.call(f,v)){const g=f[v],x=y[v];g&&typeof g=="object"&&!Array.isArray(g)&&x&&typeof x=="object"&&!Array.isArray(x)?y[v]=s(x,g):(x&&g&&typeof x!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof x}, New type: ${typeof g}. Overwriting.`),y[v]=g)}return y}const r=s(o,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IN="mcp_used/unknown";let DN=!1;function Q0(n){for(const e of n)if(kN(e)||typeof e=="object"&&"inputSchema"in e)return!0;return DN}function Z0(n){var e;const o=(e=n[Tc])!==null&&e!==void 0?e:"";n[Tc]=(o+` ${IN}`).trimStart()}function kN(n){return n!==null&&typeof n=="object"&&n instanceof Yc}function UN(n){return un(this,arguments,function*(o,s=100){let r,c=0;for(;c<s;){const f=yield xe(o.listTools({cursor:r}));for(const y of f.tools)yield yield xe(y),c++;if(!f.nextCursor)break;r=f.nextCursor}})}class Yc{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new Yc(e,o)}async initialize(){var e,o,s,r;if(this.mcpTools.length>0)return;const c={},f=[];for(const x of this.mcpClients)try{for(var y=!0,v=(o=void 0,cn(UN(x))),g;g=await v.next(),e=g.done,!e;y=!0){r=g.value,y=!1;const T=r;f.push(T);const _=T.name;if(c[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);c[_]=x}}catch(T){o={error:T}}finally{try{!y&&!e&&(s=v.return)&&await s.call(v)}finally{if(o)throw o.error}}this.mcpTools=f,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),db(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const f=await r.callTool({name:s.name,arguments:s.args},void 0,c);o.push({functionResponse:{name:s.name,response:f.isError?{error:f}:f}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function LN(n,e,o){const s=new ib;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(s,r),e(s)}class zN{constructor(e,o,s){this.apiClient=e,this.auth=o,this.webSocketFactory=s}async connect(e){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),f=VN(this.apiClient.getDefaultHeaders()),y=this.apiClient.getApiKey(),v=`${r}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${y}`;let g=()=>{};const x=new Promise(G=>{g=G}),T=e.callbacks,_=function(){g({})},E=this.apiClient,C={onopen:_,onmessage:G=>{LN(E,T.onmessage,G)},onerror:(o=T==null?void 0:T.onerror)!==null&&o!==void 0?o:function(G){},onclose:(s=T==null?void 0:T.onclose)!==null&&s!==void 0?s:function(G){}},k=this.webSocketFactory.create(v,GN(f),C);k.connect(),await x;const F={setup:{model:Le(this.apiClient,e.model)}};return k.send(JSON.stringify(F)),new HN(k,this.apiClient)}}class HN{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=rC(e);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=aC(e);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const o={playbackControl:e};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Co.PLAY)}pause(){this.sendPlaybackControl(Co.PAUSE)}stop(){this.sendPlaybackControl(Co.STOP)}resetContext(){this.sendPlaybackControl(Co.RESET_CONTEXT)}close(){this.conn.close()}}function GN(n){const e={};return n.forEach((o,s)=>{e[s]=o}),e}function VN(n){const e=new Headers;for(const[o,s]of Object.entries(n))e.append(o,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function BN(n,e,o){const s=new nb;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const c=JSON.parse(r);if(n.isVertexAI()){const f=dC(c);Object.assign(s,f)}else Object.assign(s,c);e(s)}class PN{constructor(e,o,s){this.apiClient=e,this.auth=o,this.webSocketFactory=s,this.music=new zN(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,s,r,c,f,y;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let x;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&Q0(e.config.tools)&&Z0(T);const _=jN(T);if(this.apiClient.isVertexAI()){const Z=this.apiClient.getProject(),re=this.apiClient.getLocation(),ye=this.apiClient.getApiKey(),Ee=!!Z&&!!re||!!ye;this.apiClient.getCustomBaseUrl()&&!Ee?x=v:(x=`${v}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,x))}else{const Z=this.apiClient.getApiKey();let re="BidiGenerateContent",ye="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),re="BidiGenerateContentConstrained",ye="access_token"),x=`${v}/ws/google.ai.generativelanguage.${g}.GenerativeService.${re}?${ye}=${Z}`}let E=()=>{};const C=new Promise(Z=>{E=Z}),k=e.callbacks,A=function(){var Z;(Z=k==null?void 0:k.onopen)===null||Z===void 0||Z.call(k),E({})},V=this.apiClient,F={onopen:A,onmessage:Z=>{BN(V,k.onmessage,Z)},onerror:(o=k==null?void 0:k.onerror)!==null&&o!==void 0?o:function(Z){},onclose:(s=k==null?void 0:k.onclose)!==null&&s!==void 0?s:function(Z){}},G=this.webSocketFactory.create(x,YN(_),F);G.connect(),await C;let K=Le(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&K.startsWith("publishers/")){const Z=this.apiClient.getProject(),re=this.apiClient.getLocation();Z&&re&&(K=`projects/${Z}/locations/${re}/`+K)}let X={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[xa.AUDIO]}:e.config.responseModalities=[xa.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ne=(y=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&y!==void 0?y:[],$=[];for(const Z of ne)if(this.isCallableTool(Z)){const re=Z;$.push(await re.tool())}else $.push(Z);$.length>0&&(e.config.tools=$);const he={model:K,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?X=lC(this.apiClient,he):X=sC(this.apiClient,he),delete X.config,G.send(JSON.stringify(X)),new FN(G,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const ON={turnComplete:!0};class FN{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=tn(o.turns),e.isVertexAI()||(s=s.map(r=>Ra(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const c of s){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(qN)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},ON),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:cC(e)}:o={realtimeInput:uC(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function YN(n){const e={};return n.forEach((o,s)=>{e[s]=o}),e}function jN(n){const e=new Headers;for(const[o,s]of Object.entries(n))e.append(o,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vg=10;function qg(n){var e,o,s;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const f of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(Ao(f)){r=!0;break}if(!r)return!0;const c=(s=n==null?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function Ao(n){return"callTool"in n&&typeof n.callTool=="function"}function JN(n){var e,o,s;return(s=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(r=>Ao(r)))!==null&&s!==void 0?s:!1}function Bg(n){var e;const o=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((s,r)=>{if(Ao(s))return;const c=s;c.functionDeclarations&&c.functionDeclarations.length>0&&o.push(r)}),o}function Pg(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $N extends qn{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var s,r,c,f,y;const v=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!JN(o)||qg(o.config))return await this.generateContentInternal(v);const g=Bg(o);if(g.length>0){const k=g.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let x,T;const _=tn(v.contents),E=(c=(r=(s=v.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&c!==void 0?c:Vg;let C=0;for(;C<E&&(x=await this.generateContentInternal(v),!(!x.functionCalls||x.functionCalls.length===0));){const k=x.candidates[0].content,A=[];for(const V of(y=(f=o.config)===null||f===void 0?void 0:f.tools)!==null&&y!==void 0?y:[])if(Ao(V)){const G=await V.callTool(x.functionCalls);A.push(...G)}C++,T={role:"user",parts:A},v.contents=tn(v.contents),v.contents.push(k),v.contents.push(T),Pg(v.config)&&(_.push(k),_.push(T))}return Pg(v.config)&&(x.automaticFunctionCallingHistory=_),x},this.generateContentStream=async o=>{var s,r,c,f,y;if(this.maybeMoveToResponseJsonSchem(o),qg(o.config)){const T=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(T)}const v=Bg(o);if(v.length>0){const T=v.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(c=(r=(s=o==null?void 0:o.config)===null||s===void 0?void 0:s.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,x=(y=(f=o==null?void 0:o.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||y===void 0?void 0:y.disable;if(g&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var r;let c;const f=[];if(s!=null&&s.generatedImages)for(const v of s.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((r=v==null?void 0:v.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?c=v==null?void 0:v.safetyAttributes:f.push(v);let y;return c?y={generatedImages:f,positivePromptSafetyAttributes:c,sdkHttpResponse:s.sdkHttpResponse}:y={generatedImages:f,sdkHttpResponse:s.sdkHttpResponse},y}),this.list=async o=>{var s;const f={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((s=f.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new Hi(Vn.PAGED_ITEM_MODELS,y=>this.listInternal(y),await this.listInternal(f),f)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var s,r,c,f,y,v;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((f=(c=o.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.uri&&(!((v=(y=o.source)===null||y===void 0?void 0:y.video)===null||v===void 0)&&v.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,s,r;const c=(o=e.config)===null||o===void 0?void 0:o.tools;if(!c)return e;const f=await Promise.all(c.map(async v=>Ao(v)?await v.tool():v)),y={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(y.config.tools=f,e.config&&e.config.tools&&Q0(e.config.tools)){const v=(r=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let g=Object.assign({},v);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),Z0(g),y.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return y}async initAfcToolsMap(e){var o,s,r;const c=new Map;for(const f of(s=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(Ao(f)){const y=f,v=await y.tool();for(const g of(r=v.functionDeclarations)!==null&&r!==void 0?r:[]){if(!g.name)throw new Error("Function declaration name is required.");if(c.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);c.set(g.name,y)}}return c}async processAfcStream(e){var o,s,r;const c=(r=(s=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:Vg;let f=!1,y=0;const v=await this.initAfcToolsMap(e);return(function(g,x,T){return un(this,arguments,function*(){for(var _,E,C,k,A,V;y<c;){f&&(y++,f=!1);const X=yield xe(g.processParamsMaybeAddMcpUsage(T)),ne=yield xe(g.generateContentStreamInternal(X)),$=[],he=[];try{for(var F=!0,G=(E=void 0,cn(ne)),K;K=yield xe(G.next()),_=K.done,!_;F=!0){k=K.value,F=!1;const Z=k;if(yield yield xe(Z),Z.candidates&&(!((A=Z.candidates[0])===null||A===void 0)&&A.content)){he.push(Z.candidates[0].content);for(const re of(V=Z.candidates[0].content.parts)!==null&&V!==void 0?V:[])if(y<c&&re.functionCall){if(!re.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(re.functionCall.name)){const ye=yield xe(x.get(re.functionCall.name).callTool([re.functionCall]));$.push(...ye)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${re.functionCall.name}`)}}}}catch(Z){E={error:Z}}finally{try{!F&&!_&&(C=G.return)&&(yield xe(C.call(G)))}finally{if(E)throw E.error}}if($.length>0){f=!0;const Z=new Ms;Z.candidates=[{content:{role:"user",parts:$}}],yield yield xe(Z);const re=[];re.push(...he),re.push({role:"user",parts:$});const ye=tn(T.contents).concat(re);T.contents=ye}else break}})})(this,v,e)}async generateContentInternal(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=Lg(this.apiClient,e);return y=oe("{model}:generateContent",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=Hg(x),_=new Ms;return Object.assign(_,T),_})}else{const g=Ug(this.apiClient,e);return y=oe("{model}:generateContent",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=zg(x),_=new Ms;return Object.assign(_,T),_})}}async generateContentStreamInternal(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=Lg(this.apiClient,e);return y=oe("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.requestStream({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),f.then(function(T){return un(this,arguments,function*(){var _,E,C,k;try{for(var A=!0,V=cn(T),F;F=yield xe(V.next()),_=F.done,!_;A=!0){k=F.value,A=!1;const G=k,K=Hg(yield xe(G.json()));K.sdkHttpResponse={headers:G.headers};const X=new Ms;Object.assign(X,K),yield yield xe(X)}}catch(G){E={error:G}}finally{try{!A&&!_&&(C=V.return)&&(yield xe(C.call(V)))}finally{if(E)throw E.error}}})})}else{const g=Ug(this.apiClient,e);return y=oe("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.requestStream({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),f.then(function(T){return un(this,arguments,function*(){var _,E,C,k;try{for(var A=!0,V=cn(T),F;F=yield xe(V.next()),_=F.done,!_;A=!0){k=F.value,A=!1;const G=k,K=zg(yield xe(G.json()));K.sdkHttpResponse={headers:G.headers};const X=new Ms;Object.assign(X,K),yield yield xe(X)}}catch(G){E={error:G}}finally{try{!A&&!_&&(C=V.return)&&(yield xe(C.call(V)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=PC(this.apiClient,e);return y=oe("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=FC(x),_=new yg;return Object.assign(_,T),_})}else{const g=BC(this.apiClient,e);return y=oe("{model}:batchEmbedContents",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=OC(x),_=new yg;return Object.assign(_,T),_})}}async generateImagesInternal(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=t2(this.apiClient,e);return y=oe("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=i2(x),_=new vg;return Object.assign(_,T),_})}else{const g=e2(this.apiClient,e);return y=oe("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=n2(x),_=new vg;return Object.assign(_,T),_})}}async editImageInternal(e){var o,s;let r,c="",f={};if(this.apiClient.isVertexAI()){const y=HC(this.apiClient,e);return c=oe("{model}:predict",y._url),f=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),r.then(v=>{const g=GC(v),x=new YT;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,s;let r,c="",f={};if(this.apiClient.isVertexAI()){const y=tN(this.apiClient,e);return c=oe("{model}:predict",y._url),f=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),r.then(v=>{const g=nN(v),x=new jT;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,s;let r,c="",f={};if(this.apiClient.isVertexAI()){const y=z2(this.apiClient,e);return c=oe("{model}:predict",y._url),f=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const g=H2(v),x=new JT;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,s;let r,c="",f={};if(this.apiClient.isVertexAI()){const y=O2(this.apiClient,e);return c=oe("{model}:predict",y._url),f=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const g=F2(v),x=new $T;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=S2(this.apiClient,e);return y=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),f.then(x=>_c(x))}else{const g=x2(this.apiClient,e);return y=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),f.then(x=>Sc(x))}}async listInternal(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=R2(this.apiClient,e);return y=oe("{models_url}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=I2(x),_=new xg;return Object.assign(_,T),_})}else{const g=A2(this.apiClient,e);return y=oe("{models_url}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=M2(x),_=new xg;return Object.assign(_,T),_})}}async update(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=W2(this.apiClient,e);return y=oe("{model}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),f.then(x=>_c(x))}else{const g=Z2(this.apiClient,e);return y=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),f.then(x=>Sc(x))}}async delete(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=kC(this.apiClient,e);return y=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=LC(x),_=new Sg;return Object.assign(_,T),_})}else{const g=DC(this.apiClient,e);return y=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=UC(x),_=new Sg;return Object.assign(_,T),_})}}async countTokens(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=RC(this.apiClient,e);return y=oe("{model}:countTokens",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=IC(x),_=new _g;return Object.assign(_,T),_})}else{const g=AC(this.apiClient,e);return y=oe("{model}:countTokens",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=MC(x),_=new _g;return Object.assign(_,T),_})}}async computeTokens(e){var o,s;let r,c="",f={};if(this.apiClient.isVertexAI()){const y=_C(this.apiClient,e);return c=oe("{model}:computeTokens",y._url),f=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),r.then(v=>{const g=TC(v),x=new KT;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=u2(this.apiClient,e);return y=oe("{model}:predictLongRunning",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),f.then(x=>{const T=a2(x),_=new Sa;return Object.assign(_,T),_})}else{const g=r2(this.apiClient,e);return y=oe("{model}:predictLongRunning",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),f.then(x=>{const T=l2(x),_=new Sa;return Object.assign(_,T),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KN extends qn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,s=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let c;s&&"httpOptions"in s&&(c=s.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const o=e.operation,s=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let c;s&&"httpOptions"in s&&(c=s.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=VT(e);return y=oe("{operationName}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),f}else{const g=GT(e);return y=oe("{operationName}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),f}}async fetchPredictVideosOperationInternal(e){var o,s;let r,c="",f={};if(this.apiClient.isVertexAI()){const y=IT(e);return c=oe("{resourceName}:fetchPredictOperation",y._url),f=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XN(n){const e={},o=u(n,["data"]);if(o!=null&&d(e,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function QN(n){const e={},o=u(n,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>lw(c))),d(e,["parts"],r)}const s=u(n,["role"]);return s!=null&&d(e,["role"],s),e}function ZN(n,e,o){const s={},r=u(e,["expireTime"]);o!==void 0&&r!=null&&d(o,["expireTime"],r);const c=u(e,["newSessionExpireTime"]);o!==void 0&&c!=null&&d(o,["newSessionExpireTime"],c);const f=u(e,["uses"]);o!==void 0&&f!=null&&d(o,["uses"],f);const y=u(e,["liveConnectConstraints"]);o!==void 0&&y!=null&&d(o,["bidiGenerateContentSetup"],sw(n,y));const v=u(e,["lockAdditionalFields"]);return o!==void 0&&v!=null&&d(o,["fieldMask"],v),s}function WN(n,e){const o={},s=u(e,["config"]);return s!=null&&d(o,["config"],ZN(n,s,o)),o}function ew(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function tw(n){const e={},o=u(n,["id"]);o!=null&&d(e,["id"],o);const s=u(n,["args"]);s!=null&&d(e,["args"],s);const r=u(n,["name"]);if(r!=null&&d(e,["name"],r),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function nw(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function iw(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function ow(n,e){const o={},s=u(n,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],s);const r=u(n,["responseModalities"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig","responseModalities"],r);const c=u(n,["temperature"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","temperature"],c);const f=u(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const y=u(n,["topK"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","topK"],y);const v=u(n,["maxOutputTokens"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","maxOutputTokens"],v);const g=u(n,["mediaResolution"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","mediaResolution"],g);const x=u(n,["seed"]);e!==void 0&&x!=null&&d(e,["setup","generationConfig","seed"],x);const T=u(n,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],Fc(T));const _=u(n,["thinkingConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","thinkingConfig"],_);const E=u(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],E);const C=u(n,["systemInstruction"]);e!==void 0&&C!=null&&d(e,["setup","systemInstruction"],QN(St(C)));const k=u(n,["tools"]);if(e!==void 0&&k!=null){let ne=ko(k);Array.isArray(ne)&&(ne=ne.map($=>rw(Do($)))),d(e,["setup","tools"],ne)}const A=u(n,["sessionResumption"]);e!==void 0&&A!=null&&d(e,["setup","sessionResumption"],aw(A));const V=u(n,["inputAudioTranscription"]);e!==void 0&&V!=null&&d(e,["setup","inputAudioTranscription"],V);const F=u(n,["outputAudioTranscription"]);e!==void 0&&F!=null&&d(e,["setup","outputAudioTranscription"],F);const G=u(n,["realtimeInputConfig"]);e!==void 0&&G!=null&&d(e,["setup","realtimeInputConfig"],G);const K=u(n,["contextWindowCompression"]);e!==void 0&&K!=null&&d(e,["setup","contextWindowCompression"],K);const X=u(n,["proactivity"]);if(e!==void 0&&X!=null&&d(e,["setup","proactivity"],X),u(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function sw(n,e){const o={},s=u(e,["model"]);s!=null&&d(o,["setup","model"],Le(n,s));const r=u(e,["config"]);return r!=null&&d(o,["config"],ow(r,o)),o}function lw(n){const e={},o=u(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const s=u(n,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const r=u(n,["executableCode"]);r!=null&&d(e,["executableCode"],r);const c=u(n,["fileData"]);c!=null&&d(e,["fileData"],ew(c));const f=u(n,["functionCall"]);f!=null&&d(e,["functionCall"],tw(f));const y=u(n,["functionResponse"]);y!=null&&d(e,["functionResponse"],y);const v=u(n,["inlineData"]);v!=null&&d(e,["inlineData"],XN(v));const g=u(n,["text"]);g!=null&&d(e,["text"],g);const x=u(n,["thought"]);x!=null&&d(e,["thought"],x);const T=u(n,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const _=u(n,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function aw(n){const e={},o=u(n,["handle"]);if(o!=null&&d(e,["handle"],o),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function rw(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&d(e,["computerUse"],o);const s=u(n,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const r=u(n,["codeExecution"]);if(r!=null&&d(e,["codeExecution"],r),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(T=>T)),d(e,["functionDeclarations"],x)}const f=u(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],nw(f));const y=u(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],iw(y));const v=u(n,["googleSearchRetrieval"]);v!=null&&d(e,["googleSearchRetrieval"],v);const g=u(n,["urlContext"]);return g!=null&&d(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uw(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const s=n[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(c=>`${o}.${c}`);e.push(...r)}else e.push(o)}return e.join(",")}function cw(n,e){let o=null;const s=n.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const c=s.setup;typeof c=="object"&&c!==null?(n.bidiGenerateContentSetup=c,o=c):delete n.bidiGenerateContentSetup}else s!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(o){const c=uw(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)c?n.fieldMask=c:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let y=[];r.length>0&&(y=r.map(g=>f.includes(g)?`generationConfig.${g}`:g));const v=[];c&&v.push(c),y.length>0&&v.push(...y),v.length>0?n.fieldMask=v.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class dw extends qn{constructor(e){super(),this.apiClient=e}async create(e){var o,s;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const y=WN(this.apiClient,e);c=oe("auth_tokens",y._url),f=y._query,delete y.config,delete y._url,delete y._query;const v=cw(y,e.config);return r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fw(n,e){const o={},s=u(n,["force"]);return e!==void 0&&s!=null&&d(e,["_query","force"],s),o}function hw(n){const e={},o=u(n,["name"]);o!=null&&d(e,["_url","name"],o);const s=u(n,["config"]);return s!=null&&fw(s,e),e}function pw(n){const e={},o=u(n,["name"]);return o!=null&&d(e,["_url","name"],o),e}function mw(n,e){const o={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const r=u(n,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),o}function gw(n){const e={},o=u(n,["parent"]);o!=null&&d(e,["_url","parent"],o);const s=u(n,["config"]);return s!=null&&mw(s,e),e}function yw(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const r=u(n,["documents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["documents"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vw extends qn{constructor(e){super(),this.apiClient=e,this.list=async o=>new Hi(Vn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(e){var o,s;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=pw(e);return c=oe("{name}",y._url),f=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(e){var o,s;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=hw(e);r=oe("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var o,s;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=gw(e);return c=oe("{parent}/documents",y._url),f=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const g=yw(v),x=new XT;return Object.assign(x,g),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xw extends qn{constructor(e,o=new vw(e)){super(),this.apiClient=e,this.documents=o,this.list=async(s={})=>new Hi(Vn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var o,s;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=uN(e);return c=oe("fileSearchStores",y._url),f=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async get(e){var o,s;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=fN(e);return c=oe("{name}",y._url),f=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(e){var o,s;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=dN(e);r=oe("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var o,s;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=vN(e);return c=oe("fileSearchStores",y._url),f=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const g=xN(v),x=new QT;return Object.assign(x,g),x})}}async uploadToFileSearchStoreInternal(e){var o,s;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=SN(e);return c=oe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",y._url),f=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const g=_N(v),x=new ZT;return Object.assign(x,g),x})}}async importFile(e){var o,s;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=mN(e);return c=oe("{file_search_store_name}:importFile",y._url),f=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const g=pN(v),x=new Vc;return Object.assign(x,g),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let W0=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return W0=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),o=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^o()&15>>+s/4).toString(16))};const Sw=()=>W0();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bc(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const Ec=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nn extends Error{}class bt extends nn{constructor(e,o,s,r){super(`${bt.makeMessage(e,o,s)}`),this.status=e,this.headers=r,this.error=o}static makeMessage(e,o,s){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):s;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,o,s,r){if(!e||!r)return new Da({message:s,cause:Ec(o)});const c=o;return e===400?new ty(e,c,s,r):e===401?new ny(e,c,s,r):e===403?new iy(e,c,s,r):e===404?new oy(e,c,s,r):e===409?new sy(e,c,s,r):e===422?new ly(e,c,s,r):e===429?new ay(e,c,s,r):e>=500?new ry(e,c,s,r):new bt(e,c,s,r)}}class Cc extends bt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Da extends bt{constructor({message:e,cause:o}){super(void 0,void 0,e||"Connection error.",void 0),o&&(this.cause=o)}}class ey extends Da{constructor({message:e}={}){super({message:e??"Request timed out."})}}class ty extends bt{}class ny extends bt{}class iy extends bt{}class oy extends bt{}class sy extends bt{}class ly extends bt{}class ay extends bt{}class ry extends bt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _w=/^[a-z][a-z0-9+.-]*:/i,Tw=n=>_w.test(n);let Nc=n=>(Nc=Array.isArray,Nc(n));const bw=Nc;let Ew=bw;const Og=Ew;function Cw(n){if(!n)return!0;for(const e in n)return!1;return!0}function Nw(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const ww=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new nn(`${n} must be an integer`);if(e<0)throw new nn(`${n} must be a positive integer`);return e},Aw=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rw=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Eo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mw(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Iw=()=>{var n,e,o,s,r;const c=Mw();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":Yg(Deno.build.os),"X-Stainless-Arch":Fg(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":Yg((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Fg((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const f=Dw();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Dw(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:o}of n){const s=o.exec(navigator.userAgent);if(s){const r=s[1]||0,c=s[2]||0,f=s[3]||0;return{browser:e,version:`${r}.${c}.${f}`}}}return null}const Fg=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",Yg=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let oa;const kw=()=>oa??(oa=Iw());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uw(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function uy(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function Lw(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return uy({start(){},async pull(o){const{done:s,value:r}=await e.next();s?o.close():o.enqueue(r)},async cancel(){var o;await((o=e.return)===null||o===void 0?void 0:o.call(e))}})}function cy(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const o=await e.read();return o!=null&&o.done&&e.releaseLock(),o}catch(o){throw e.releaseLock(),o}},async return(){const o=e.cancel();return e.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function zw(n){var e,o;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((o=(e=n[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(e));return}const s=n.getReader(),r=s.cancel();s.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hw=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dy=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,o=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ic(n,e,o){return dy(),new File(n,e??"unknown_file",o)}function Gw(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const Vw=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fy=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",qw=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&fy(n),Bw=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function Pw(n,e,o){if(dy(),n=await n,qw(n))return n instanceof File?n:ic([await n.arrayBuffer()],n.name);if(Bw(n)){const r=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),ic(await wc(r),e,o)}const s=await wc(n);if(e||(e=Gw(n)),!(o!=null&&o.type)){const r=s.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return ic(s,e,o)}async function wc(n){var e,o,s,r,c;let f=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)f.push(n);else if(fy(n))f.push(n instanceof Blob?n:await n.arrayBuffer());else if(Vw(n))try{for(var y=!0,v=cn(n),g;g=await v.next(),e=g.done,!e;y=!0){r=g.value,y=!1;const x=r;f.push(...await wc(x))}}catch(x){o={error:x}}finally{try{!y&&!e&&(s=v.return)&&await s.call(v)}finally{if(o)throw o.error}}else{const x=(c=n==null?void 0:n.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof n}${x?`; constructor: ${x}`:""}${Ow(n)}`)}return f}function Ow(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hy{constructor(e){this._client=e}}hy._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function py(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const jg=Object.freeze(Object.create(null)),Fw=(n=py)=>(function(o,...s){if(o.length===1)return o[0];let r=!1;const c=[],f=o.reduce((x,T,_)=>{var E,C,k;/[?#]/.test(T)&&(r=!0);const A=s[_];let V=(r?encodeURIComponent:n)(""+A);return _!==s.length&&(A==null||typeof A=="object"&&A.toString===((k=Object.getPrototypeOf((C=Object.getPrototypeOf((E=A.hasOwnProperty)!==null&&E!==void 0?E:jg))!==null&&C!==void 0?C:jg))===null||k===void 0?void 0:k.toString))&&(V=A+"",c.push({start:x.length+T.length,length:V.length,error:`Value of type ${Object.prototype.toString.call(A).slice(8,-1)} is not a valid path parameter`})),x+T+(_===s.length?"":V)},""),y=f.split(/[?#]/,1)[0],v=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=v.exec(y))!==null;)c.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(c.sort((x,T)=>x.start-T.start),c.length>0){let x=0;const T=c.reduce((_,E)=>{const C=" ".repeat(E.start-x),k="^".repeat(E.length);return x=E.start+E.length,_+C+k},"");throw new nn(`Path parameters result in path with invalid segments:
${c.map(_=>_.error).join(`
`)}
${f}
${T}`)}return f}),sa=Fw(py);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class my extends hy{create(e,o){var s;const{api_version:r=this._client.apiVersion}=e,c=Ta(e,["api_version"]);if("model"in c&&"agent_config"in c)throw new nn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new nn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(sa`/${r}/interactions`,Object.assign(Object.assign({body:c},o),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,o={},s){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(sa`/${r}/interactions/${e}`,s)}cancel(e,o={},s){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(sa`/${r}/interactions/${e}/cancel`,s)}get(e,o={},s){var r;const c=o??{},{api_version:f=this._client.apiVersion}=c,y=Ta(c,["api_version"]);return this._client.get(sa`/${f}/interactions/${e}`,Object.assign(Object.assign({query:y},s),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}my._key=Object.freeze(["interactions"]);class gy extends my{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yw(n){let e=0;for(const r of n)e+=r.length;const o=new Uint8Array(e);let s=0;for(const r of n)o.set(r,s),s+=r.length;return o}let la;function jc(n){let e;return(la??(e=new globalThis.TextEncoder,la=e.encode.bind(e)))(n)}let aa;function Jg(n){let e;return(aa??(e=new globalThis.TextDecoder,aa=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ka{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const o=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?jc(e):e;this.buffer=Yw([this.buffer,o]);const s=[];let r;for(;(r=jw(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){s.push(Jg(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,f=Jg(this.buffer.subarray(0,c));s.push(f),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}ka.NEWLINE_CHARS=new Set([`
`,"\r"]);ka.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function jw(n,e){for(let r=e??0;r<n.length;r++){if(n[r]===10)return{preceding:r,index:r+1,carriage:!1};if(n[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function Jw(n){for(let s=0;s<n.length-1;s++){if(n[s]===10&&n[s+1]===10||n[s]===13&&n[s+1]===13)return s+2;if(n[s]===13&&n[s+1]===10&&s+3<n.length&&n[s+2]===13&&n[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ba={off:0,error:200,warn:300,info:400,debug:500},$g=(n,e,o)=>{if(n){if(Nw(ba,n))return n;Tt(o).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(ba))}`)}};function Us(){}function ra(n,e,o){return!e||ba[n]>ba[o]?Us:e[n].bind(e)}const $w={error:Us,warn:Us,info:Us,debug:Us};let Kg=new WeakMap;function Tt(n){var e;const o=n.logger,s=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!o)return $w;const r=Kg.get(o);if(r&&r[0]===s)return r[1];const c={error:ra("error",o,s),warn:ra("warn",o,s),info:ra("info",o,s),debug:ra("debug",o,s)};return Kg.set(o,[s,c]),c}const zi=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,o])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class No{constructor(e,o,s){this.iterator=e,this.controller=o,this.client=s}static fromSSEResponse(e,o,s){let r=!1;const c=s?Tt(s):console;function f(){return un(this,arguments,function*(){var v,g,x,T;if(r)throw new nn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var E=!0,C=cn(Kw(e,o)),k;k=yield xe(C.next()),v=k.done,!v;E=!0){T=k.value,E=!1;const A=T;if(!_)if(A.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield xe(JSON.parse(A.data))}catch(V){throw c.error("Could not parse message into JSON:",A.data),c.error("From chunk:",A.raw),V}}}catch(A){g={error:A}}finally{try{!E&&!v&&(x=C.return)&&(yield xe(x.call(C)))}finally{if(g)throw g.error}}_=!0}catch(A){if(bc(A))return yield xe(void 0);throw A}finally{_||o.abort()}})}return new No(f,o,s)}static fromReadableStream(e,o,s){let r=!1;function c(){return un(this,arguments,function*(){var v,g,x,T;const _=new ka,E=cy(e);try{for(var C=!0,k=cn(E),A;A=yield xe(k.next()),v=A.done,!v;C=!0){T=A.value,C=!1;const V=T;for(const F of _.decode(V))yield yield xe(F)}}catch(V){g={error:V}}finally{try{!C&&!v&&(x=k.return)&&(yield xe(x.call(k)))}finally{if(g)throw g.error}}for(const V of _.flush())yield yield xe(V)})}function f(){return un(this,arguments,function*(){var v,g,x,T;if(r)throw new nn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var E=!0,C=cn(c()),k;k=yield xe(C.next()),v=k.done,!v;E=!0){T=k.value,E=!1;const A=T;_||A&&(yield yield xe(JSON.parse(A)))}}catch(A){g={error:A}}finally{try{!E&&!v&&(x=C.return)&&(yield xe(x.call(C)))}finally{if(g)throw g.error}}_=!0}catch(A){if(bc(A))return yield xe(void 0);throw A}finally{_||o.abort()}})}return new No(f,o,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],o=[],s=this.iterator(),r=c=>({next:()=>{if(c.length===0){const f=s.next();e.push(f),o.push(f)}return c.shift()}});return[new No(()=>r(e),this.controller,this.client),new No(()=>r(o),this.controller,this.client)]}toReadableStream(){const e=this;let o;return uy({async start(){o=e[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:c}=await o.next();if(c)return s.close();const f=jc(JSON.stringify(r)+`
`);s.enqueue(f)}catch(r){s.error(r)}},async cancel(){var s;await((s=o.return)===null||s===void 0?void 0:s.call(o))}})}}function Kw(n,e){return un(this,arguments,function*(){var s,r,c,f;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new nn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new nn("Attempted to iterate over a response with no body");const y=new Qw,v=new ka,g=cy(n.body);try{for(var x=!0,T=cn(Xw(g)),_;_=yield xe(T.next()),s=_.done,!s;x=!0){f=_.value,x=!1;const E=f;for(const C of v.decode(E)){const k=y.decode(C);k&&(yield yield xe(k))}}}catch(E){r={error:E}}finally{try{!x&&!s&&(c=T.return)&&(yield xe(c.call(T)))}finally{if(r)throw r.error}}for(const E of v.flush()){const C=y.decode(E);C&&(yield yield xe(C))}})}function Xw(n){return un(this,arguments,function*(){var o,s,r,c;let f=new Uint8Array;try{for(var y=!0,v=cn(n),g;g=yield xe(v.next()),o=g.done,!o;y=!0){c=g.value,y=!1;const x=c;if(x==null)continue;const T=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?jc(x):x;let _=new Uint8Array(f.length+T.length);_.set(f),_.set(T,f.length),f=_;let E;for(;(E=Jw(f))!==-1;)yield yield xe(f.slice(0,E)),f=f.slice(E)}}catch(x){s={error:x}}finally{try{!y&&!o&&(r=v.return)&&(yield xe(r.call(v)))}finally{if(s)throw s.error}}f.length>0&&(yield yield xe(f))})}class Qw{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(e),e.startsWith(":"))return null;let[o,s,r]=Zw(e,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function Zw(n,e){const o=n.indexOf(e);return o!==-1?[n.substring(0,o),e,n.substring(o+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Ww(n,e){const{response:o,requestLogID:s,retryOfRequestLogID:r,startTime:c}=e,f=await(async()=>{var y;if(e.options.stream)return Tt(n).debug("response",o.status,o.url,o.headers,o.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(o,e.controller,n):No.fromSSEResponse(o,e.controller,n);if(o.status===204)return null;if(e.options.__binaryResponse)return o;const v=o.headers.get("content-type"),g=(y=v==null?void 0:v.split(";")[0])===null||y===void 0?void 0:y.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?await o.json():await o.text()})();return Tt(n).debug(`[${s}] response parsed`,zi({retryOfRequestLogID:r,url:o.url,status:o.status,body:f,durationMs:Date.now()-c})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jc extends Promise{constructor(e,o,s=Ww){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new Jc(this.client,this.responsePromise,async(o,s)=>e(await this.parseResponse(o,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,o){return this.parse().then(e,o)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yy=Symbol("brand.privateNullableHeaders");function*eA(n){if(!n)return;if(yy in n){const{values:s,nulls:r}=n;yield*s.entries();for(const c of r)yield[c,null];return}let e=!1,o;n instanceof Headers?o=n.entries():Og(n)?o=n:(e=!0,o=Object.entries(n??{}));for(let s of o){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const c=Og(s[1])?s[1]:[s[1]];let f=!1;for(const y of c)y!==void 0&&(e&&!f&&(f=!0,yield[r,null]),yield[r,y])}}const Is=n=>{const e=new Headers,o=new Set;for(const s of n){const r=new Set;for(const[c,f]of eA(s)){const y=c.toLowerCase();r.has(y)||(e.delete(c),r.add(y)),f===null?(e.delete(c),o.add(y)):(e.append(c,f),o.delete(y))}}return{[yy]:!0,values:e,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oc=n=>{var e,o,s,r,c,f;if(typeof globalThis.process<"u")return(s=(o=(e=CT)===null||e===void 0?void 0:e[n])===null||o===void 0?void 0:o.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(f=(c=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||c===void 0?void 0:c.call(r,n))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vy;class Ua{constructor(e){var o,s,r,c,f,y,v,{baseURL:g=oc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(o=oc("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:T="v1beta"}=e,_=Ta(e,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:x,apiVersion:T},_),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(s=E.timeout)!==null&&s!==void 0?s:Ua.DEFAULT_TIMEOUT,this.logger=(r=E.logger)!==null&&r!==void 0?r:console;const C="warn";this.logLevel=C,this.logLevel=(f=(c=$g(E.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:$g(oc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:C,this.fetchOptions=E.fetchOptions,this.maxRetries=(y=E.maxRetries)!==null&&y!==void 0?y:2,this.fetch=(v=E.fetch)!==null&&v!==void 0?v:Uw(),this.encoder=Hw,this._options=E,this.apiKey=x,this.apiVersion=T,this.clientAdapter=E.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:o}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const o=Is([e.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return Is([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Is([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([o,s])=>typeof s<"u").map(([o,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(o)}=`;throw new nn(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Eo}`}defaultIdempotencyKey(){return`stainless-node-retry-${Sw()}`}makeStatusError(e,o,s,r){return bt.generate(e,o,s,r)}buildURL(e,o,s){const r=!this.baseURLOverridden()&&s||this.baseURL,c=Tw(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),f=this.defaultQuery();return Cw(f)||(o=Object.assign(Object.assign({},f),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(c.search=this.stringifyQuery(o)),c.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const o=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(e,{url:o,options:s}){}get(e,o){return this.methodRequest("get",e,o)}post(e,o){return this.methodRequest("post",e,o)}patch(e,o){return this.methodRequest("patch",e,o)}put(e,o){return this.methodRequest("put",e,o)}delete(e,o){return this.methodRequest("delete",e,o)}methodRequest(e,o,s){return this.request(Promise.resolve(s).then(r=>Object.assign({method:e,path:o},r)))}request(e,o=null){return new Jc(this,this.makeRequest(e,o,void 0))}async makeRequest(e,o,s){var r,c,f;const y=await e,v=(r=y.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=v),await this.prepareOptions(y);const{req:g,url:x,timeout:T}=await this.buildRequest(y,{retryCount:v-o});await this.prepareRequest(g,{url:x,options:y});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=s===void 0?"":`, retryOf: ${s}`,C=Date.now();if(Tt(this).debug(`[${_}] sending request`,zi({retryOfRequestLogID:s,method:y.method,url:x,options:y,headers:g.headers})),!((c=y.signal)===null||c===void 0)&&c.aborted)throw new Cc;const k=new AbortController,A=await this.fetchWithTimeout(x,g,T,k).catch(Ec),V=Date.now();if(A instanceof globalThis.Error){const G=`retrying, ${o} attempts remaining`;if(!((f=y.signal)===null||f===void 0)&&f.aborted)throw new Cc;const K=bc(A)||/timed? ?out/i.test(String(A)+("cause"in A?String(A.cause):""));if(o)return Tt(this).info(`[${_}] connection ${K?"timed out":"failed"} - ${G}`),Tt(this).debug(`[${_}] connection ${K?"timed out":"failed"} (${G})`,zi({retryOfRequestLogID:s,url:x,durationMs:V-C,message:A.message})),this.retryRequest(y,o,s??_);throw Tt(this).info(`[${_}] connection ${K?"timed out":"failed"} - error; no more retries left`),Tt(this).debug(`[${_}] connection ${K?"timed out":"failed"} (error; no more retries left)`,zi({retryOfRequestLogID:s,url:x,durationMs:V-C,message:A.message})),K?new ey:new Da({cause:A})}const F=`[${_}${E}] ${g.method} ${x} ${A.ok?"succeeded":"failed"} with status ${A.status} in ${V-C}ms`;if(!A.ok){const G=await this.shouldRetry(A);if(o&&G){const Z=`retrying, ${o} attempts remaining`;return await zw(A.body),Tt(this).info(`${F} - ${Z}`),Tt(this).debug(`[${_}] response error (${Z})`,zi({retryOfRequestLogID:s,url:A.url,status:A.status,headers:A.headers,durationMs:V-C})),this.retryRequest(y,o,s??_,A.headers)}const K=G?"error; no more retries left":"error; not retryable";Tt(this).info(`${F} - ${K}`);const X=await A.text().catch(Z=>Ec(Z).message),ne=Aw(X),$=ne?void 0:X;throw Tt(this).debug(`[${_}] response error (${K})`,zi({retryOfRequestLogID:s,url:A.url,status:A.status,headers:A.headers,message:$,durationMs:Date.now()-C})),this.makeStatusError(A.status,ne,$,A.headers)}return Tt(this).info(F),Tt(this).debug(`[${_}] response start`,zi({retryOfRequestLogID:s,url:A.url,status:A.status,headers:A.headers,durationMs:V-C})),{response:A,options:y,controller:k,requestLogID:_,retryOfRequestLogID:s,startTime:C}}async fetchWithTimeout(e,o,s,r){const c=o||{},{signal:f,method:y}=c,v=Ta(c,["signal","method"]);f&&f.addEventListener("abort",()=>r.abort());const g=setTimeout(()=>r.abort(),s),x=globalThis.ReadableStream&&v.body instanceof globalThis.ReadableStream||typeof v.body=="object"&&v.body!==null&&Symbol.asyncIterator in v.body,T=Object.assign(Object.assign(Object.assign({signal:r.signal},x?{duplex:"half"}:{}),{method:"GET"}),v);y&&(T.method=y.toUpperCase());try{return await this.fetch.call(void 0,e,T)}finally{clearTimeout(g)}}async shouldRetry(e){const o=e.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,o,s,r){var c;let f;const y=r==null?void 0:r.get("retry-after-ms");if(y){const g=parseFloat(y);Number.isNaN(g)||(f=g)}const v=r==null?void 0:r.get("retry-after");if(v&&!f){const g=parseFloat(v);Number.isNaN(g)?f=Date.parse(v)-Date.now():f=g*1e3}if(!(f&&0<=f&&f<60*1e3)){const g=(c=e.maxRetries)!==null&&c!==void 0?c:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(o,g)}return await Rw(f),this.makeRequest(e,o-1,s)}calculateDefaultRetryTimeoutMillis(e,o){const c=o-e,f=Math.min(.5*Math.pow(2,c),8),y=1-Math.random()*.25;return f*y*1e3}async buildRequest(e,{retryCount:o=0}={}){var s,r,c;const f=Object.assign({},e),{method:y,path:v,query:g,defaultBaseURL:x}=f,T=this.buildURL(v,g,x);"timeout"in f&&ww("timeout",f.timeout),f.timeout=(s=f.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:_,body:E}=this.buildBody({options:f}),C=await this.buildHeaders({options:e,method:y,bodyHeaders:_,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:y,headers:C},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(c=f.fetchOptions)!==null&&c!==void 0?c:{}),url:T,timeout:f.timeout}}async buildHeaders({options:e,method:o,bodyHeaders:s,retryCount:r}){let c={};this.idempotencyHeader&&o!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=e.idempotencyKey);const f=await this.authHeaders(e);let y=Is([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),kw()),this._options.defaultHeaders,s,e.headers,f]);return this.validateHeaders(y),y.values}buildBody({options:{body:e,headers:o}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=Is([o]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Lw(e)}:this.encoder({body:e,headers:s})}}Ua.DEFAULT_TIMEOUT=6e4;class ct extends Ua{constructor(){super(...arguments),this.interactions=new gy(this)}}vy=ct;ct.GeminiNextGenAPIClient=vy;ct.GeminiNextGenAPIClientError=nn;ct.APIError=bt;ct.APIConnectionError=Da;ct.APIConnectionTimeoutError=ey;ct.APIUserAbortError=Cc;ct.NotFoundError=oy;ct.ConflictError=sy;ct.RateLimitError=ay;ct.BadRequestError=ty;ct.AuthenticationError=ny;ct.InternalServerError=ry;ct.PermissionDeniedError=iy;ct.UnprocessableEntityError=ly;ct.toFile=Pw;ct.Interactions=gy;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tA(n,e){const o={},s=u(n,["name"]);return s!=null&&d(o,["_url","name"],s),o}function nA(n,e){const o={},s=u(n,["name"]);return s!=null&&d(o,["_url","name"],s),o}function iA(n,e){const o={},s=u(n,["sdkHttpResponse"]);return s!=null&&d(o,["sdkHttpResponse"],s),o}function oA(n,e){const o={},s=u(n,["sdkHttpResponse"]);return s!=null&&d(o,["sdkHttpResponse"],s),o}function sA(n,e,o){const s={};if(u(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&d(e,["displayName"],r),u(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(n,["epochCount"]);e!==void 0&&c!=null&&d(e,["tuningTask","hyperparameters","epochCount"],c);const f=u(n,["learningRateMultiplier"]);if(f!=null&&d(s,["tuningTask","hyperparameters","learningRateMultiplier"],f),u(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const y=u(n,["batchSize"]);e!==void 0&&y!=null&&d(e,["tuningTask","hyperparameters","batchSize"],y);const v=u(n,["learningRate"]);if(e!==void 0&&v!=null&&d(e,["tuningTask","hyperparameters","learningRate"],v),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function lA(n,e,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const E=u(n,["validationDataset"]);e!==void 0&&E!=null&&d(e,["supervisedTuningSpec"],Xg(E))}else if(r==="PREFERENCE_TUNING"){const E=u(n,["validationDataset"]);e!==void 0&&E!=null&&d(e,["preferenceOptimizationSpec"],Xg(E))}const c=u(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&d(e,["tunedModelDisplayName"],c);const f=u(n,["description"]);e!==void 0&&f!=null&&d(e,["description"],f);let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const E=u(n,["epochCount"]);e!==void 0&&E!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(y==="PREFERENCE_TUNING"){const E=u(n,["epochCount"]);e!==void 0&&E!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const E=u(n,["learningRateMultiplier"]);e!==void 0&&E!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(v==="PREFERENCE_TUNING"){const E=u(n,["learningRateMultiplier"]);e!==void 0&&E!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const E=u(n,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(g==="PREFERENCE_TUNING"){const E=u(n,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let x=u(o,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const E=u(n,["adapterSize"]);e!==void 0&&E!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(x==="PREFERENCE_TUNING"){const E=u(n,["adapterSize"]);e!==void 0&&E!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(u(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=u(n,["labels"]);e!==void 0&&T!=null&&d(e,["labels"],T);const _=u(n,["beta"]);return e!==void 0&&_!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],_),s}function aA(n,e){const o={},s=u(n,["baseModel"]);s!=null&&d(o,["baseModel"],s);const r=u(n,["preTunedModel"]);r!=null&&d(o,["preTunedModel"],r);const c=u(n,["trainingDataset"]);c!=null&&vA(c);const f=u(n,["config"]);return f!=null&&sA(f,o),o}function rA(n,e){const o={},s=u(n,["baseModel"]);s!=null&&d(o,["baseModel"],s);const r=u(n,["preTunedModel"]);r!=null&&d(o,["preTunedModel"],r);const c=u(n,["trainingDataset"]);c!=null&&xA(c,o,e);const f=u(n,["config"]);return f!=null&&lA(f,o,e),o}function uA(n,e){const o={},s=u(n,["name"]);return s!=null&&d(o,["_url","name"],s),o}function cA(n,e){const o={},s=u(n,["name"]);return s!=null&&d(o,["_url","name"],s),o}function dA(n,e,o){const s={},r=u(n,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const c=u(n,["pageToken"]);e!==void 0&&c!=null&&d(e,["_query","pageToken"],c);const f=u(n,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),s}function fA(n,e,o){const s={},r=u(n,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const c=u(n,["pageToken"]);e!==void 0&&c!=null&&d(e,["_query","pageToken"],c);const f=u(n,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),s}function hA(n,e){const o={},s=u(n,["config"]);return s!=null&&dA(s,o),o}function pA(n,e){const o={},s=u(n,["config"]);return s!=null&&fA(s,o),o}function mA(n,e){const o={},s=u(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(n,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const c=u(n,["tunedModels"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(y=>xy(y))),d(o,["tuningJobs"],f)}return o}function gA(n,e){const o={},s=u(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(n,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const c=u(n,["tuningJobs"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(y=>Ac(y))),d(o,["tuningJobs"],f)}return o}function yA(n,e){const o={},s=u(n,["name"]);s!=null&&d(o,["model"],s);const r=u(n,["name"]);return r!=null&&d(o,["endpoint"],r),o}function vA(n,e){const o={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=u(n,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(c=>c)),d(o,["examples","examples"],r)}return o}function xA(n,e,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const f=u(n,["gcsUri"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(r==="PREFERENCE_TUNING"){const f=u(n,["gcsUri"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}let c=u(o,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const f=u(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(c==="PREFERENCE_TUNING"){const f=u(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}if(u(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function xy(n,e){const o={},s=u(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(n,["name"]);r!=null&&d(o,["name"],r);const c=u(n,["state"]);c!=null&&d(o,["state"],L0(c));const f=u(n,["createTime"]);f!=null&&d(o,["createTime"],f);const y=u(n,["tuningTask","startTime"]);y!=null&&d(o,["startTime"],y);const v=u(n,["tuningTask","completeTime"]);v!=null&&d(o,["endTime"],v);const g=u(n,["updateTime"]);g!=null&&d(o,["updateTime"],g);const x=u(n,["description"]);x!=null&&d(o,["description"],x);const T=u(n,["baseModel"]);T!=null&&d(o,["baseModel"],T);const _=u(n,["_self"]);return _!=null&&d(o,["tunedModel"],yA(_)),o}function Ac(n,e){const o={},s=u(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(n,["name"]);r!=null&&d(o,["name"],r);const c=u(n,["state"]);c!=null&&d(o,["state"],L0(c));const f=u(n,["createTime"]);f!=null&&d(o,["createTime"],f);const y=u(n,["startTime"]);y!=null&&d(o,["startTime"],y);const v=u(n,["endTime"]);v!=null&&d(o,["endTime"],v);const g=u(n,["updateTime"]);g!=null&&d(o,["updateTime"],g);const x=u(n,["error"]);x!=null&&d(o,["error"],x);const T=u(n,["description"]);T!=null&&d(o,["description"],T);const _=u(n,["baseModel"]);_!=null&&d(o,["baseModel"],_);const E=u(n,["tunedModel"]);E!=null&&d(o,["tunedModel"],E);const C=u(n,["preTunedModel"]);C!=null&&d(o,["preTunedModel"],C);const k=u(n,["supervisedTuningSpec"]);k!=null&&d(o,["supervisedTuningSpec"],k);const A=u(n,["preferenceOptimizationSpec"]);A!=null&&d(o,["preferenceOptimizationSpec"],A);const V=u(n,["tuningDataStats"]);V!=null&&d(o,["tuningDataStats"],V);const F=u(n,["encryptionSpec"]);F!=null&&d(o,["encryptionSpec"],F);const G=u(n,["partnerModelTuningSpec"]);G!=null&&d(o,["partnerModelTuningSpec"],G);const K=u(n,["customBaseModel"]);K!=null&&d(o,["customBaseModel"],K);const X=u(n,["experiment"]);X!=null&&d(o,["experiment"],X);const ne=u(n,["labels"]);ne!=null&&d(o,["labels"],ne);const $=u(n,["outputUri"]);$!=null&&d(o,["outputUri"],$);const he=u(n,["pipelineJob"]);he!=null&&d(o,["pipelineJob"],he);const Z=u(n,["serviceAccount"]);Z!=null&&d(o,["serviceAccount"],Z);const re=u(n,["tunedModelDisplayName"]);re!=null&&d(o,["tunedModelDisplayName"],re);const ye=u(n,["veoTuningSpec"]);return ye!=null&&d(o,["veoTuningSpec"],ye),o}function SA(n,e){const o={},s=u(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(n,["name"]);r!=null&&d(o,["name"],r);const c=u(n,["metadata"]);c!=null&&d(o,["metadata"],c);const f=u(n,["done"]);f!=null&&d(o,["done"],f);const y=u(n,["error"]);return y!=null&&d(o,["error"],y),o}function Xg(n,e){const o={},s=u(n,["gcsUri"]);s!=null&&d(o,["validationDatasetUri"],s);const r=u(n,["vertexDatasetResource"]);return r!=null&&d(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _A extends qn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Hi(Vn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},o),{preTunedModel:r});return c.baseModel=void 0,await this.tuneInternal(c)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),c=await this.tuneMldevInternal(r);let f="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?f=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(f=c.name.split("/operations/")[0]),{name:f,state:mc.JOB_STATE_QUEUED}}}}async getInternal(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=cA(e);return y=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>Ac(x))}else{const g=uA(e);return y=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>xy(x))}}async listInternal(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=pA(e);return y=oe("tuningJobs",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=gA(x),_=new Tg;return Object.assign(_,T),_})}else{const g=hA(e);return y=oe("tunedModels",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=mA(x),_=new Tg;return Object.assign(_,T),_})}}async cancel(e){var o,s,r,c;let f,y="",v={};if(this.apiClient.isVertexAI()){const g=nA(e);return y=oe("{name}:cancel",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=oA(x),_=new bg;return Object.assign(_,T),_})}else{const g=tA(e);return y=oe("{name}:cancel",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),f.then(x=>{const T=iA(x),_=new bg;return Object.assign(_,T),_})}}async tuneInternal(e){var o,s;let r,c="",f={};if(this.apiClient.isVertexAI()){const y=rA(e,e);return c=oe("tuningJobs",y._url),f=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),r.then(v=>Ac(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,s;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=aA(e);return c=oe("tunedModels",y._url),f=y._query,delete y._url,delete y._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),r.then(v=>SA(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TA{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const bA=1024*1024*8,EA=3,CA=1e3,NA=2,Ea="x-goog-upload-status";async function wA(n,e,o){var s;const r=await Sy(n,e,o),c=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Ea])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function AA(n,e,o){var s;const r=await Sy(n,e,o),c=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Ea])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=R0(c),y=new qc;return Object.assign(y,f),y}async function Sy(n,e,o){var s,r;let c=0,f=0,y=new yc(new Response),v="upload";for(c=n.size;f<c;){const g=Math.min(bA,c-f),x=n.slice(f,f+g);f+g>=c&&(v+=", finalize");let T=0,_=CA;for(;T<EA&&(y=await o.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":String(f),"Content-Length":String(g)}}}),!(!((s=y==null?void 0:y.headers)===null||s===void 0)&&s[Ea]));)T++,await MA(_),_=_*NA;if(f+=g,((r=y==null?void 0:y.headers)===null||r===void 0?void 0:r[Ea])!=="active")break;if(c<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return y}async function RA(n){return{size:n.size,type:n.type}}function MA(n){return new Promise(e=>setTimeout(e,n))}class IA{async upload(e,o,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await wA(e,o,s)}async uploadToFileSearchStore(e,o,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await AA(e,o,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await RA(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DA{create(e,o,s){return new kA(e,o,s)}}class kA{constructor(e,o,s){this.url=e,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qg="x-goog-api-key";class UA{constructor(e){this.apiKey=e}async addAuthHeaders(e,o){if(e.get(Qg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Qg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LA="gl-node/";class zA{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new ct({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=o.interactions,this._interactions}constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const s=RT(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new UA(this.apiKey);this.apiClient=new RN({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:LA+"web",uploader:new IA,downloader:new TA}),this.models=new $N(this.apiClient),this.live=new PN(this.apiClient,r,new DA),this.batches=new oE(this.apiClient),this.chats=new VE(this.models,this.apiClient),this.caches=new zE(this.apiClient),this.files=new KE(this.apiClient),this.operations=new KN(this.apiClient),this.authTokens=new dw(this.apiClient),this.tunings=new _A(this.apiClient),this.fileSearchStores=new xw(this.apiClient)}}const HA=()=>new zA({apiKey:"PLACEHOLDER_API_KEY"}),GA=async(n,e,o,s)=>{var v,g,x;const c=await HA().models.generateContent({model:"gemini-3-flash-preview",contents:[...e.map(T=>({role:T.role==="user"?"user":"model",parts:[{text:T.content}]})),{role:"user",parts:[...s?[{inlineData:{mimeType:"image/jpeg",data:s.split(",")[1]}}]:[],{text:n||"Analyze this image"}]}],config:{systemInstruction:o+" You have access to real-time information via Google Search. Keep responses concise and suitable for a mobile chat app. If using search results, summarize them naturally.",tools:[{googleSearch:{}}],temperature:.7}});let f=c.text||"";const y=(x=(g=(v=c.candidates)==null?void 0:v[0])==null?void 0:g.groundingMetadata)==null?void 0:x.groundingChunks;if(y&&y.length>0){const T=y.filter(_=>_.web&&_.web.uri).map(_=>`
- [${_.web.title||"Source"}](${_.web.uri})`).join("");T&&(f+=`

**Sources:**${T}`)}return f},ua={theme:"dark",wallpaper:"",vibrations:!0,notifications:!0,fontSize:"medium",brightness:"dim",customThemeColor:"#00a884"},VA=()=>{const[n,e]=B.useState(!1),[o,s]=B.useState(!1),[r,c]=B.useState(Ve.CHATS),[f,y]=B.useState(null),[v,g]=B.useState([]),[x,T]=B.useState([]),[_,E]=B.useState({}),[C,k]=B.useState([]),[A,V]=B.useState(null),[F,G]=B.useState(!1),[K,X]=B.useState(!1),{showNotification:ne,confirm:$}=A0(),[he,Z]=B.useState(!1),[re,ye]=B.useState({isActive:!1,type:null,contact:null}),[Ee,ve]=B.useState(window.innerWidth<768),ie=B.useRef(null);B.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]);const Ce=I=>{"setAppBadge"in navigator&&(I>0?navigator.setAppBadge(I):navigator.clearAppBadge())},w=async(I,z,W)=>{Notification.permission==="granted"&&document.hidden&&new Notification(I,{body:z,icon:W||"/favicon.ico"})};B.useEffect(()=>{(async()=>{await(async()=>{await g_(),await P()})(),e(!0),setTimeout(()=>{window.deferredPrompt&&window.dispatchEvent(new Event("pwa-install-available"))},3e3)})();const z=()=>ve(window.innerWidth<768);window.addEventListener("resize",z);const W=setInterval(P,2e3);return()=>{window.removeEventListener("resize",z),clearInterval(W)}},[]),B.useEffect(()=>{if(o&&f){const I=N0(f.id);ie.current=I,I.on("receive_message",async z=>{const W=z.timestamp||Date.now();await Je("INSERT INTO messages (id, contact_id, role, content, timestamp, type, mediaUrl, fileName, fileSize, status) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",[z.id,z.contact_id||z.senderId,"assistant",z.content,W,z.type||"text",z.mediaUrl,z.fileName,z.fileSize,"delivered"]);const le=v.find(ue=>ue.id===(z.contact_id||z.senderId)),ge=await c0(z.content);f.settings.notifications&&w((le==null?void 0:le.name)||"Zenj Message",ge,le==null?void 0:le.avatar),await P()}),I.on("broadcast",async z=>{const W=Date.now(),le=await Wu(` System Signal: ${z.content}`);await Je("INSERT INTO messages (id, contact_id, role, content, timestamp, type, status) VALUES (?, ?, ?, ?, ?, ?, ?)",[`broadcast-${W}`,"zenj-main","assistant",le,W,"text","delivered"]),f.settings.notifications&&w("Zenj System",z.content),await P()}),I.on("user_status",P)}},[o,f==null?void 0:f.id,v]),B.useEffect(()=>{const I=v.reduce((z,W)=>z+(W.unreadCount||0),0);Ce(I)},[v]),B.useEffect(()=>{if(f!=null&&f.settings){const I=f.settings.customThemeColor||"#00a884";if(document.documentElement.style.setProperty("--zen-green",I),f.settings.theme==="custom"){let z=document.getElementById("zen-custom-theme-style");z||(z=document.createElement("style"),z.id="zen-custom-theme-style",document.head.appendChild(z)),z.innerHTML=`
          .theme-custom { background-color: ${I}22 !important; }
          .theme-custom .bg-[#0b141a], .theme-custom .bg-[#111b21] { background-color: ${I}11 !important; }
          .theme-custom .bg-[#202c33], .theme-custom .bg-[#2a3942] { background-color: ${I}22 !important; }
        `}}},[f==null?void 0:f.settings]);const P=async()=>{const[I,z,W,le]=await Promise.all([Hn("SELECT * FROM profile LIMIT 1"),Hn("SELECT * FROM messages ORDER BY timestamp ASC"),Hn("SELECT * FROM contacts ORDER BY lastMessageTime DESC"),Hn("SELECT * FROM directory_users")]);if(I.length>0){const ue=I[0],$e=le.find(Ne=>Ne.id===ue.id||Ne.id==="me"),st=($e==null?void 0:$e.accountStatus)||ue.accountStatus;if(st==="suspended"||st==="banned"){s(!1),ne(`Your account is currently ${st.toUpperCase()}. Contact the Zenj Council.`,[],"error");return}y({...ue,accountStatus:st,accountType:ue.accountType||"member",settings:ue.settings_json?{...ua,...JSON.parse(ue.settings_json)}:ua})}const ge={};z.forEach(ue=>{const $e=ue.contact_id;ge[$e]||(ge[$e]=[]),ge[$e].push({...ue,reactions:ue.reactions_json?JSON.parse(ue.reactions_json):{}})}),E(ge),g(W.map(ue=>{const $e=(ge[ue.id]||[]).filter(_e=>_e.role==="assistant"&&_e.status!=="read").length,st=le.find(_e=>_e.id===ue.id||ue.phone&&_e.phone===ue.phone),Ne=st?st.status:ue.status;return{...ue,status:Ne,isGroup:!!ue.isGroup,members:ue.members_json?JSON.parse(ue.members_json):[],isBlocked:!!ue.isBlocked,unreadCount:$e}})),k(le)},Q=async I=>{const W={id:`u-${Date.now()}-${Math.random().toString(36).substr(2,5)}`,name:I.name,phone:I.phone,email:I.email,password:I.password,bio:I.bio,avatar:I.avatar,role:"user",accountType:"member",accountStatus:"active",settings:ua};await Je("INSERT INTO profile (id, name, phone, email, password, bio, avatar, role, accountStatus, settings_json, accountType) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",[W.id,W.name,W.phone,W.email,W.password,W.bio,W.avatar,W.role,W.accountStatus,JSON.stringify(W.settings),W.accountType]),y(W),await fm(I.password,I.email),s(!0)},de=async I=>{if($("Are you sure you want to delete this message?"))try{await Je("DELETE FROM messages WHERE id = ?",[I]),E(z=>{const W={...z};return Object.keys(W).forEach(le=>{W[le]=W[le].filter(ge=>ge.id!==I)}),W}),ne("Message deleted",[],"success")}catch(z){console.error("Delete message error:",z),ne("Failed to delete message",[],"error")}},me=async(I,z,W,le,ge,ue)=>{if(!A||!f)return;if(f.accountStatus!=="active"&&f.accountStatus!=="warned"){ne("Manifestation restricted: Account suspended.",[],"error");return}const $e=v.find(We=>We.id===A);if(!$e)return;const st=Date.now(),Ne=ue?"file":W?"audio":z?"image":ge?"video":"text",_e=(ue==null?void 0:ue.url)||W||z||ge,at=st.toString();f.settings.vibrations&&navigator.vibrate&&navigator.vibrate(20),(async()=>{try{let We=_e;if(ue&&!_e&&ue.file){const on=ue.file;We=await new Promise(Pn=>{const fn=new FileReader;fn.onloadend=()=>Pn(fn.result),fn.readAsDataURL(on)})}const It=await Wu(I||(Ne==="file"?`File: ${ue==null?void 0:ue.name}`:Ne.toUpperCase()));if(await Je("INSERT INTO messages (id, contact_id, role, content, timestamp, type, mediaUrl, fileName, fileSize, status, reply_to_id, reply_to_text) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",[at,A,"user",It,st,Ne,We,ue==null?void 0:ue.name,ue==null?void 0:ue.size,"sent",le==null?void 0:le.id,le==null?void 0:le.text]),A.includes("main")||ks({id:at,content:It,senderId:f.id,recipientId:A,timestamp:st,type:Ne,mediaUrl:We,fileName:ue==null?void 0:ue.name,fileSize:ue==null?void 0:ue.size}),A==="zenj-main"){G(!0);try{let on=await GA(I,_[A]||[],$e.systemInstruction,z);const Pn=await Wu(on),fn=(Date.now()+1).toString();await Je("INSERT INTO messages (id, contact_id, role, content, timestamp, type, status) VALUES (?, ?, ?, ?, ?, ?, ?)",[fn,A,"assistant",Pn,Date.now(),"text","delivered"]),E(Gi=>({...Gi,[A]:[...Gi[A]||[],{id:fn,role:"assistant",content:Pn,timestamp:Date.now(),type:"text",status:"delivered"}]}))}catch(on){console.error("AI response error:",on)}finally{G(!1)}}E(on=>({...on,[A]:[...on[A]||[],{id:at,role:"user",content:It,timestamp:st,type:Ne,mediaUrl:We,fileName:ue==null?void 0:ue.name,fileSize:ue==null?void 0:ue.size,status:"sent",reply_to_id:le==null?void 0:le.id,reply_to_text:le==null?void 0:le.text}]}))}catch(We){console.error("Message send error:",We),ne("Failed to send message",[],"error")}})()},R=async(I,z,W)=>{if(I===(f==null?void 0:f.id)){ne("This is your own manifestation.",[],"warning");return}v.find(ge=>ge.id===I)||(await Je("INSERT INTO contacts (id, name, avatar, status, lastMessageSnippet, lastMessageTime) VALUES (?, ?, ?, ?, ?, ?)",[I,z,W,"offline","Check in Store triggered.",Date.now()]),await P()),V(I),c(Ve.CHATS)},Y=v.reduce((I,z)=>I+(z.unreadCount||0),0),ee=()=>{switch(r){case Ve.CHATS:const I=v.find(z=>z.id===A);return Ee&&A&&I?p.jsx(hm,{contact:I,messages:_[A]||[],onSendMessage:me,onMarkAsRead:z=>Je("UPDATE messages SET status='read' WHERE id=?",[z]).then(P),onReactToMessage:()=>{},onDeleteMessage:de,onStartCall:z=>ye({isActive:!0,type:z,contact:I}),onBlockContact:()=>{},onOpenGroupSettings:()=>{},isTyping:F,onBack:()=>V(null),userProfile:f}):!A&&Ee?p.jsx(dm,{contacts:v,activeContactId:A,onSelectContact:V,mode:r,setMode:c,userProfile:f,onOpenAddFriend:()=>X(!0),onOpenCreateGroup:()=>Z(!0),conversations:_}):p.jsxs("div",{className:"flex h-full w-full",children:[!Ee&&p.jsx(dm,{contacts:v,activeContactId:A,onSelectContact:V,mode:r,setMode:c,userProfile:f,onOpenAddFriend:()=>X(!0),onOpenCreateGroup:()=>Z(!0),conversations:_}),p.jsx("div",{className:"flex-1 h-full bg-[#0b141a]",children:I?p.jsx(hm,{contact:I,messages:_[A]||[],onSendMessage:me,onMarkAsRead:z=>Je("UPDATE messages SET status='read' WHERE id=?",[z]).then(P),onReactToMessage:()=>{},onDeleteMessage:de,onStartCall:z=>ye({isActive:!0,type:z,contact:I}),onBlockContact:()=>{},onOpenGroupSettings:()=>{},isTyping:F,userProfile:f}):p.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-12",children:[p.jsx("div",{className:"w-24 h-24 bg-[#00a884]/10 rounded-[40px] flex items-center justify-center mb-6",children:p.jsx(Gs,{size:48,className:"text-[#00a884]"})}),p.jsx("h1",{className:"text-3xl font-bold font-outfit mb-2 text-white",children:"Zenj Portal"}),p.jsx("p",{className:"text-[#8696a0] max-w-sm",children:"Select a sanctuary to begin connection."})]})})]});case Ve.STATUS:return p.jsx(gT,{moments:x,onAddMoment:()=>{},userProfile:f});case Ve.DISCOVERY:return p.jsx(ST,{users:C,onConnect:z=>Je("INSERT INTO contacts (id, name, avatar, status, lastMessageSnippet, lastMessageTime) VALUES (?, ?, ?, ?, ?, ?)",[z.id,z.name,z.avatar,"online","Connected.",Date.now()]).then(()=>{P(),c(Ve.CHATS),V(z.id)}),connectedIds:v.map(z=>z.id),currentUser:f,onOpenAddFriend:()=>X(!0)});case Ve.ZEN_SPACE:return p.jsx(y_,{userProfile:f,onCheckInStore:R});case Ve.SETTINGS:return p.jsx(vT,{profile:f,contacts:v,onBack:()=>c(Ve.CHATS),onUpdateSettings:z=>Je("UPDATE profile SET settings_json = ? WHERE id = ?",[JSON.stringify({...f.settings,...z}),f.id]).then(P),onUpdateProfile:z=>Je("UPDATE profile SET name=?, phone=?, email=?, bio=?, avatar=?, accountType=? WHERE id=?",[z.name,z.phone,z.email,z.bio,z.avatar,z.accountType,f.id]).then(P),onUpdatePassword:z=>Je("UPDATE profile SET password=? WHERE id=?",[z,f.id]).then(P),onUnblockContact:()=>{},onClearData:()=>{localStorage.clear(),window.location.reload()},onOpenAdmin:()=>c(Ve.ADMIN_DASHBOARD)});case Ve.ADMIN_DASHBOARD:return p.jsx(_T,{onBack:()=>c(Ve.SETTINGS),onBroadcast:z=>{var W;return(W=ie.current)==null?void 0:W.emit("broadcast",{content:z})},tools:[],loadTools:async()=>await Hn("SELECT * FROM tools")});default:return null}};if(!n)return p.jsxs("div",{className:"h-screen bg-[#0b141a] flex flex-col items-center justify-center space-y-4",children:[p.jsx(gi,{className:"animate-spin text-[#00a884]",size:48}),p.jsx("p",{className:"text-[#8696a0] font-outfit uppercase tracking-widest text-xs",children:"Synchronizing Pulse"})]});const se=(f==null?void 0:f.settings)||ua;return p.jsxs("div",{className:`flex h-screen overflow-hidden font-sans text-[#f8fafc] theme-${se.theme} ${se.fontSize} brightness-${se.brightness}`,children:[p.jsx(bT,{}),f?o?p.jsxs("div",{className:"flex-1 flex flex-col h-full relative overflow-hidden bg-[#0b141a]",children:[re.isActive&&re.contact&&p.jsx(dT,{contact:re.contact,type:re.type,onEnd:()=>ye({isActive:!1,type:null,contact:null}),currentUserId:(f==null?void 0:f.id)||""}),p.jsx(pT,{isOpen:K,onClose:()=>X(!1),onAdd:I=>Je("INSERT INTO contacts (id, name, avatar, status, lastMessageSnippet, lastMessageTime) VALUES (?, ?, ?, ?, ?, ?)",[`f-${Date.now()}`,I,`https://api.dicebear.com/7.x/avataaars/svg?seed=${I}`,"offline","Hello!",Date.now()]).then(P),userName:f.name}),p.jsx(mT,{isOpen:he,onClose:()=>Z(!1),contacts:v,onCreate:(I,z)=>Je("INSERT INTO contacts (id, name, avatar, status, isGroup, members_json, lastMessageSnippet, lastMessageTime) VALUES (?, ?, ?, ?, ?, ?, ?, ?)",[`g-${Date.now()}`,I,`https://api.dicebear.com/7.x/initials/svg?seed=${I}`,"active",1,JSON.stringify(z),"Group created.",Date.now()]).then(P)}),p.jsx("main",{className:"flex-1 h-full overflow-hidden",children:ee()}),(!Ee||!A)&&p.jsx(ET,{currentMode:r,setMode:I=>{c(I),V(null)},unreadCount:Y})]}):p.jsx(TT,{profile:f,onLogin:async I=>I===f.password?(await fm(I,f.email),s(!0),!0):!1}):p.jsx(xT,{onComplete:Q})]})},_y=document.getElementById("root");if(!_y)throw new Error("Could not find root element to mount to");const qA=t1.createRoot(_y);qA.render(p.jsx(Jx.StrictMode,{children:p.jsx(hT,{children:p.jsx(VA,{})})}));
